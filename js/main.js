/*
	Copyright (c) 2004-2009, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/

/*
	This is a compiled version of Dojo, built for deployment and not for
	development. To get an editable version, please visit:

		http://dojotoolkit.org

	for documentation and information on getting the source.
*/

if(!dojo._hasResource["dijit._base.manager"]){dojo._hasResource["dijit._base.manager"]=true;dojo.provide("dijit._base.manager");dojo.declare("dijit.WidgetSet",null,{constructor:function(){this._hash={};this.length=0;},add:function(_1){if(this._hash[_1.id]){throw new Error("Tried to register widget with id=="+_1.id+" but that id is already registered");}this._hash[_1.id]=_1;this.length++;},remove:function(id){if(this._hash[id]){delete this._hash[id];this.length--;}},forEach:function(_2,_3){_3=_3||dojo.global;var i=0,id;for(id in this._hash){_2.call(_3,this._hash[id],i++,this._hash);}return this;},filter:function(_4,_5){_5=_5||dojo.global;var _6=new dijit.WidgetSet(),i=0,id;for(id in this._hash){var w=this._hash[id];if(_4.call(_5,w,i++,this._hash)){_6.add(w);}}return _6;},byId:function(id){return this._hash[id];},byClass:function(_7){var _8=new dijit.WidgetSet(),id,_9;for(id in this._hash){_9=this._hash[id];if(_9.declaredClass==_7){_8.add(_9);}}return _8;},toArray:function(){var ar=[];for(var id in this._hash){ar.push(this._hash[id]);}return ar;},map:function(_a,_b){return dojo.map(this.toArray(),_a,_b);},every:function(_c,_d){_d=_d||dojo.global;var x=0,i;for(i in this._hash){if(!_c.call(_d,this._hash[i],x++,this._hash)){return false;}}return true;},some:function(_e,_f){_f=_f||dojo.global;var x=0,i;for(i in this._hash){if(_e.call(_f,this._hash[i],x++,this._hash)){return true;}}return false;}});dijit.registry=new dijit.WidgetSet();dijit._widgetTypeCtr={};dijit.getUniqueId=function(_10){var id;do{id=_10+"_"+(_10 in dijit._widgetTypeCtr?++dijit._widgetTypeCtr[_10]:dijit._widgetTypeCtr[_10]=0);}while(dijit.byId(id));return dijit._scopeName=="dijit"?id:dijit._scopeName+"_"+id;};dijit.findWidgets=function(_11){var _12=[];function _13(_14){for(var _15=_14.firstChild;_15;_15=_15.nextSibling){if(_15.nodeType==1){var _16=_15.getAttribute("widgetId");if(_16){var _17=dijit.byId(_16);_12.push(_17);}else{_13(_15);}}}};_13(_11);return _12;};dijit._destroyAll=function(){dijit._curFocus=null;dijit._prevFocus=null;dijit._activeStack=[];dojo.forEach(dijit.findWidgets(dojo.body()),function(_18){if(!_18._destroyed){if(_18.destroyRecursive){_18.destroyRecursive();}else{if(_18.destroy){_18.destroy();}}}});};if(dojo.isIE){dojo.addOnWindowUnload(function(){dijit._destroyAll();});}dijit.byId=function(id){return typeof id=="string"?dijit.registry._hash[id]:id;};dijit.byNode=function(_19){return dijit.registry.byId(_19.getAttribute("widgetId"));};dijit.getEnclosingWidget=function(_1a){while(_1a){var id=_1a.getAttribute&&_1a.getAttribute("widgetId");if(id){return dijit.byId(id);}_1a=_1a.parentNode;}return null;};dijit._isElementShown=function(_1b){var _1c=dojo.style(_1b);return (_1c.visibility!="hidden")&&(_1c.visibility!="collapsed")&&(_1c.display!="none")&&(dojo.attr(_1b,"type")!="hidden");};dijit.isTabNavigable=function(_1d){if(dojo.attr(_1d,"disabled")){return false;}else{if(dojo.hasAttr(_1d,"tabIndex")){return dojo.attr(_1d,"tabIndex")>=0;}else{switch(_1d.nodeName.toLowerCase()){case "a":return dojo.hasAttr(_1d,"href");case "area":case "button":case "input":case "object":case "select":case "textarea":return true;case "iframe":if(dojo.isMoz){return _1d.contentDocument.designMode=="on";}else{if(dojo.isWebKit){var doc=_1d.contentDocument,_1e=doc&&doc.body;return _1e&&_1e.contentEditable=="true";}else{try{doc=_1d.contentWindow.document;_1e=doc&&doc.body;return _1e&&_1e.firstChild&&_1e.firstChild.contentEditable=="true";}catch(e){return false;}}}default:return _1d.contentEditable=="true";}}}};dijit._getTabNavigable=function(_1f){var _20,_21,_22,_23,_24,_25;var _26=function(_27){dojo.query("> *",_27).forEach(function(_28){var _29=dijit._isElementShown(_28);if(_29&&dijit.isTabNavigable(_28)){var _2a=dojo.attr(_28,"tabIndex");if(!dojo.hasAttr(_28,"tabIndex")||_2a==0){if(!_20){_20=_28;}_21=_28;}else{if(_2a>0){if(!_22||_2a<_23){_23=_2a;_22=_28;}if(!_24||_2a>=_25){_25=_2a;_24=_28;}}}}if(_29&&_28.nodeName.toUpperCase()!="SELECT"){_26(_28);}});};if(dijit._isElementShown(_1f)){_26(_1f);}return {first:_20,last:_21,lowest:_22,highest:_24};};dijit.getFirstInTabbingOrder=function(_2b){var _2c=dijit._getTabNavigable(dojo.byId(_2b));return _2c.lowest?_2c.lowest:_2c.first;};dijit.getLastInTabbingOrder=function(_2d){var _2e=dijit._getTabNavigable(dojo.byId(_2d));return _2e.last?_2e.last:_2e.highest;};dijit.defaultDuration=dojo.config["defaultDuration"]||200;}if(!dojo._hasResource["dijit._base.focus"]){dojo._hasResource["dijit._base.focus"]=true;dojo.provide("dijit._base.focus");dojo.mixin(dijit,{_curFocus:null,_prevFocus:null,isCollapsed:function(){return dijit.getBookmark().isCollapsed;},getBookmark:function(){var bm,rg,tg,sel=dojo.doc.selection,cf=dijit._curFocus;if(dojo.global.getSelection){sel=dojo.global.getSelection();if(sel){if(sel.isCollapsed){tg=cf?cf.tagName:"";if(tg){tg=tg.toLowerCase();if(tg=="textarea"||(tg=="input"&&(!cf.type||cf.type.toLowerCase()=="text"))){sel={start:cf.selectionStart,end:cf.selectionEnd,node:cf,pRange:true};return {isCollapsed:(sel.end<=sel.start),mark:sel};}}bm={isCollapsed:true};}else{rg=sel.getRangeAt(0);bm={isCollapsed:false,mark:rg.cloneRange()};}}}else{if(sel){tg=cf?cf.tagName:"";tg=tg.toLowerCase();if(cf&&tg&&(tg=="button"||tg=="textarea"||tg=="input")){if(sel.type&&sel.type.toLowerCase()=="none"){return {isCollapsed:true,mark:null};}else{rg=sel.createRange();return {isCollapsed:rg.text&&rg.text.length?false:true,mark:{range:rg,pRange:true}};}}bm={};try{rg=sel.createRange();bm.isCollapsed=!(sel.type=="Text"?rg.htmlText.length:rg.length);}catch(e){bm.isCollapsed=true;return bm;}if(sel.type.toUpperCase()=="CONTROL"){if(rg.length){bm.mark=[];var i=0,len=rg.length;while(i<len){bm.mark.push(rg.item(i++));}}else{bm.isCollapsed=true;bm.mark=null;}}else{bm.mark=rg.getBookmark();}}else{console.warn("No idea how to store the current selection for this browser!");}}return bm;},moveToBookmark:function(_2f){var _30=dojo.doc,_31=_2f.mark;if(_31){if(dojo.global.getSelection){var sel=dojo.global.getSelection();if(sel&&sel.removeAllRanges){if(_31.pRange){var r=_31;var n=r.node;n.selectionStart=r.start;n.selectionEnd=r.end;}else{sel.removeAllRanges();sel.addRange(_31);}}else{console.warn("No idea how to restore selection for this browser!");}}else{if(_30.selection&&_31){var rg;if(_31.pRange){rg=_31.range;}else{if(dojo.isArray(_31)){rg=_30.body.createControlRange();dojo.forEach(_31,function(n){rg.addElement(n);});}else{rg=_30.body.createTextRange();rg.moveToBookmark(_31);}}rg.select();}}}},getFocus:function(_32,_33){var _34=!dijit._curFocus||(_32&&dojo.isDescendant(dijit._curFocus,_32.domNode))?dijit._prevFocus:dijit._curFocus;return {node:_34,bookmark:(_34==dijit._curFocus)&&dojo.withGlobal(_33||dojo.global,dijit.getBookmark),openedForWindow:_33};},focus:function(_35){if(!_35){return;}var _36="node" in _35?_35.node:_35,_37=_35.bookmark,_38=_35.openedForWindow,_39=_37?_37.isCollapsed:false;if(_36){var _3a=(_36.tagName.toLowerCase()=="iframe")?_36.contentWindow:_36;if(_3a&&_3a.focus){try{_3a.focus();}catch(e){}}dijit._onFocusNode(_36);}if(_37&&dojo.withGlobal(_38||dojo.global,dijit.isCollapsed)&&!_39){if(_38){_38.focus();}try{dojo.withGlobal(_38||dojo.global,dijit.moveToBookmark,null,[_37]);}catch(e2){}}},_activeStack:[],registerIframe:function(_3b){return dijit.registerWin(_3b.contentWindow,_3b);},unregisterIframe:function(_3c){dijit.unregisterWin(_3c);},registerWin:function(_3d,_3e){var _3f=function(evt){dijit._justMouseDowned=true;setTimeout(function(){dijit._justMouseDowned=false;},0);dijit._onTouchNode(_3e||evt.target||evt.srcElement,"mouse");};var doc=dojo.isIE?_3d.document.documentElement:_3d.document;if(doc){if(dojo.isIE){doc.attachEvent("onmousedown",_3f);var _40=function(evt){if(evt.srcElement.tagName.toLowerCase()!="#document"&&dijit.isTabNavigable(evt.srcElement)){dijit._onFocusNode(_3e||evt.srcElement);}else{dijit._onTouchNode(_3e||evt.srcElement);}};doc.attachEvent("onactivate",_40);var _41=function(evt){dijit._onBlurNode(_3e||evt.srcElement);};doc.attachEvent("ondeactivate",_41);return function(){doc.detachEvent("onmousedown",_3f);doc.detachEvent("onactivate",_40);doc.detachEvent("ondeactivate",_41);doc=null;};}else{doc.addEventListener("mousedown",_3f,true);var _42=function(evt){dijit._onFocusNode(_3e||evt.target);};doc.addEventListener("focus",_42,true);var _43=function(evt){dijit._onBlurNode(_3e||evt.target);};doc.addEventListener("blur",_43,true);return function(){doc.removeEventListener("mousedown",_3f,true);doc.removeEventListener("focus",_42,true);doc.removeEventListener("blur",_43,true);doc=null;};}}},unregisterWin:function(_44){_44&&_44();},_onBlurNode:function(_45){dijit._prevFocus=dijit._curFocus;dijit._curFocus=null;if(dijit._justMouseDowned){return;}if(dijit._clearActiveWidgetsTimer){clearTimeout(dijit._clearActiveWidgetsTimer);}dijit._clearActiveWidgetsTimer=setTimeout(function(){delete dijit._clearActiveWidgetsTimer;dijit._setStack([]);dijit._prevFocus=null;},100);},_onTouchNode:function(_46,by){if(dijit._clearActiveWidgetsTimer){clearTimeout(dijit._clearActiveWidgetsTimer);delete dijit._clearActiveWidgetsTimer;}var _47=[];try{while(_46){var _48=dojo.attr(_46,"dijitPopupParent");if(_48){_46=dijit.byId(_48).domNode;}else{if(_46.tagName&&_46.tagName.toLowerCase()=="body"){if(_46===dojo.body()){break;}_46=dijit.getDocumentWindow(_46.ownerDocument).frameElement;}else{var id=_46.getAttribute&&_46.getAttribute("widgetId");if(id){_47.unshift(id);}_46=_46.parentNode;}}}}catch(e){}dijit._setStack(_47,by);},_onFocusNode:function(_49){if(!_49){return;}if(_49.nodeType==9){return;}dijit._onTouchNode(_49);if(_49==dijit._curFocus){return;}if(dijit._curFocus){dijit._prevFocus=dijit._curFocus;}dijit._curFocus=_49;dojo.publish("focusNode",[_49]);},_setStack:function(_4a,by){var _4b=dijit._activeStack;dijit._activeStack=_4a;for(var _4c=0;_4c<Math.min(_4b.length,_4a.length);_4c++){if(_4b[_4c]!=_4a[_4c]){break;}}var _4d;for(var i=_4b.length-1;i>=_4c;i--){_4d=dijit.byId(_4b[i]);if(_4d){_4d._focused=false;_4d._hasBeenBlurred=true;if(_4d._onBlur){_4d._onBlur(by);}if(_4d._setStateClass){_4d._setStateClass();}dojo.publish("widgetBlur",[_4d,by]);}}for(i=_4c;i<_4a.length;i++){_4d=dijit.byId(_4a[i]);if(_4d){_4d._focused=true;if(_4d._onFocus){_4d._onFocus(by);}if(_4d._setStateClass){_4d._setStateClass();}dojo.publish("widgetFocus",[_4d,by]);}}}});dojo.addOnLoad(function(){var _4e=dijit.registerWin(window);if(dojo.isIE){dojo.addOnWindowUnload(function(){dijit.unregisterWin(_4e);_4e=null;});}});}if(!dojo._hasResource["dojo.AdapterRegistry"]){dojo._hasResource["dojo.AdapterRegistry"]=true;dojo.provide("dojo.AdapterRegistry");dojo.AdapterRegistry=function(_4f){this.pairs=[];this.returnWrappers=_4f||false;};dojo.extend(dojo.AdapterRegistry,{register:function(_50,_51,_52,_53,_54){this.pairs[((_54)?"unshift":"push")]([_50,_51,_52,_53]);},match:function(){for(var i=0;i<this.pairs.length;i++){var _55=this.pairs[i];if(_55[1].apply(this,arguments)){if((_55[3])||(this.returnWrappers)){return _55[2];}else{return _55[2].apply(this,arguments);}}}throw new Error("No match found");},unregister:function(_56){for(var i=0;i<this.pairs.length;i++){var _57=this.pairs[i];if(_57[0]==_56){this.pairs.splice(i,1);return true;}}return false;}});}if(!dojo._hasResource["dijit._base.place"]){dojo._hasResource["dijit._base.place"]=true;dojo.provide("dijit._base.place");dijit.getViewport=function(){var _58=(dojo.doc.compatMode=="BackCompat")?dojo.body():dojo.doc.documentElement;var _59=dojo._docScroll();return {w:_58.clientWidth,h:_58.clientHeight,l:_59.x,t:_59.y};};dijit.placeOnScreen=function(_5a,pos,_5b,_5c){var _5d=dojo.map(_5b,function(_5e){var c={corner:_5e,pos:{x:pos.x,y:pos.y}};if(_5c){c.pos.x+=_5e.charAt(1)=="L"?_5c.x:-_5c.x;c.pos.y+=_5e.charAt(0)=="T"?_5c.y:-_5c.y;}return c;});return dijit._place(_5a,_5d);};dijit._place=function(_5f,_60,_61){var _62=dijit.getViewport();if(!_5f.parentNode||String(_5f.parentNode.tagName).toLowerCase()!="body"){dojo.body().appendChild(_5f);}var _63=null;dojo.some(_60,function(_64){var _65=_64.corner;var pos=_64.pos;if(_61){_61(_5f,_64.aroundCorner,_65);}var _66=_5f.style;var _67=_66.display;var _68=_66.visibility;_66.visibility="hidden";_66.display="";var mb=dojo.marginBox(_5f);_66.display=_67;_66.visibility=_68;var _69=Math.max(_62.l,_65.charAt(1)=="L"?pos.x:(pos.x-mb.w)),_6a=Math.max(_62.t,_65.charAt(0)=="T"?pos.y:(pos.y-mb.h)),_6b=Math.min(_62.l+_62.w,_65.charAt(1)=="L"?(_69+mb.w):pos.x),_6c=Math.min(_62.t+_62.h,_65.charAt(0)=="T"?(_6a+mb.h):pos.y),_6d=_6b-_69,_6e=_6c-_6a,_6f=(mb.w-_6d)+(mb.h-_6e);if(_63==null||_6f<_63.overflow){_63={corner:_65,aroundCorner:_64.aroundCorner,x:_69,y:_6a,w:_6d,h:_6e,overflow:_6f};}return !_6f;});_5f.style.left=_63.x+"px";_5f.style.top=_63.y+"px";if(_63.overflow&&_61){_61(_5f,_63.aroundCorner,_63.corner);}return _63;};dijit.placeOnScreenAroundNode=function(_70,_71,_72,_73){_71=dojo.byId(_71);var _74=_71.style.display;_71.style.display="";var _75=dojo.position(_71,true);_71.style.display=_74;return dijit._placeOnScreenAroundRect(_70,_75.x,_75.y,_75.w,_75.h,_72,_73);};dijit.placeOnScreenAroundRectangle=function(_76,_77,_78,_79){return dijit._placeOnScreenAroundRect(_76,_77.x,_77.y,_77.width,_77.height,_78,_79);};dijit._placeOnScreenAroundRect=function(_7a,x,y,_7b,_7c,_7d,_7e){var _7f=[];for(var _80 in _7d){_7f.push({aroundCorner:_80,corner:_7d[_80],pos:{x:x+(_80.charAt(1)=="L"?0:_7b),y:y+(_80.charAt(0)=="T"?0:_7c)}});}return dijit._place(_7a,_7f,_7e);};dijit.placementRegistry=new dojo.AdapterRegistry();dijit.placementRegistry.register("node",function(n,x){return typeof x=="object"&&typeof x.offsetWidth!="undefined"&&typeof x.offsetHeight!="undefined";},dijit.placeOnScreenAroundNode);dijit.placementRegistry.register("rect",function(n,x){return typeof x=="object"&&"x" in x&&"y" in x&&"width" in x&&"height" in x;},dijit.placeOnScreenAroundRectangle);dijit.placeOnScreenAroundElement=function(_81,_82,_83,_84){return dijit.placementRegistry.match.apply(dijit.placementRegistry,arguments);};dijit.getPopupAlignment=function(_85,_86){var _87={};dojo.forEach(_85,function(pos){switch(pos){case "after":_87[_86?"BR":"BL"]=_86?"BL":"BR";break;case "before":_87[_86?"BL":"BR"]=_86?"BR":"BL";break;case "below":_87[_86?"BL":"BR"]=_86?"TL":"TR";_87[_86?"BR":"BL"]=_86?"TR":"TL";break;case "above":default:_87[_86?"TL":"TR"]=_86?"BL":"BR";_87[_86?"TR":"TL"]=_86?"BR":"BL";break;}});return _87;};dijit.getPopupAroundAlignment=function(_88,_89){var _8a={};dojo.forEach(_88,function(pos){switch(pos){case "after":_8a[_89?"BR":"BL"]=_89?"BL":"BR";break;case "before":_8a[_89?"BL":"BR"]=_89?"BR":"BL";break;case "below":_8a[_89?"BL":"BR"]=_89?"TL":"TR";_8a[_89?"BR":"BL"]=_89?"TR":"TL";break;case "above":default:_8a[_89?"TL":"TR"]=_89?"BL":"BR";_8a[_89?"TR":"TL"]=_89?"BR":"BL";break;}});return _8a;};}if(!dojo._hasResource["dijit._base.window"]){dojo._hasResource["dijit._base.window"]=true;dojo.provide("dijit._base.window");dijit.getDocumentWindow=function(doc){if(dojo.isIE&&window!==document.parentWindow&&!doc._parentWindow){doc.parentWindow.execScript("document._parentWindow = window;","Javascript");var win=doc._parentWindow;doc._parentWindow=null;return win;}return doc._parentWindow||doc.parentWindow||doc.defaultView;};}if(!dojo._hasResource["dijit._base.popup"]){dojo._hasResource["dijit._base.popup"]=true;dojo.provide("dijit._base.popup");dijit.popup=new function(){var _8b=[],_8c=1000,_8d=1;this.moveOffScreen=function(_8e){var s=_8e.style;s.visibility="hidden";s.position="absolute";s.top="-9999px";if(s.display=="none"){s.display="";}dojo.body().appendChild(_8e);};var _8f=function(){for(var pi=_8b.length-1;pi>0&&_8b[pi].parent===_8b[pi-1].widget;pi--){}return _8b[pi];};var _90=[];this.open=function(_91){var _92=_91.popup,_93=_91.orient||(dojo._isBodyLtr()?{"BL":"TL","BR":"TR","TL":"BL","TR":"BR"}:{"BR":"TR","BL":"TL","TR":"BR","TL":"BL"}),_94=_91.around,id=(_91.around&&_91.around.id)?(_91.around.id+"_dropdown"):("popup_"+_8d++);var _95=_90.pop(),_96,_97;if(!_95){_96=dojo.create("div",{"class":"dijitPopup"},dojo.body());dijit.setWaiRole(_96,"presentation");}else{_96=_95[0];_97=_95[1];}dojo.attr(_96,{id:id,style:{zIndex:_8c+_8b.length,visibility:"hidden",top:"-9999px"},dijitPopupParent:_91.parent?_91.parent.id:""});var s=_92.domNode.style;s.display="";s.visibility="";s.position="";s.top="0px";_96.appendChild(_92.domNode);if(!_97){_97=new dijit.BackgroundIframe(_96);}else{_97.resize(_96);}var _98=_94?dijit.placeOnScreenAroundElement(_96,_94,_93,_92.orient?dojo.hitch(_92,"orient"):null):dijit.placeOnScreen(_96,_91,_93=="R"?["TR","BR","TL","BL"]:["TL","BL","TR","BR"],_91.padding);_96.style.visibility="visible";var _99=[];_99.push(dojo.connect(_96,"onkeypress",this,function(evt){if(evt.charOrCode==dojo.keys.ESCAPE&&_91.onCancel){dojo.stopEvent(evt);_91.onCancel();}else{if(evt.charOrCode===dojo.keys.TAB){dojo.stopEvent(evt);var _9a=_8f();if(_9a&&_9a.onCancel){_9a.onCancel();}}}}));if(_92.onCancel){_99.push(dojo.connect(_92,"onCancel",_91.onCancel));}_99.push(dojo.connect(_92,_92.onExecute?"onExecute":"onChange",function(){var _9b=_8f();if(_9b&&_9b.onExecute){_9b.onExecute();}}));_8b.push({wrapper:_96,iframe:_97,widget:_92,parent:_91.parent,onExecute:_91.onExecute,onCancel:_91.onCancel,onClose:_91.onClose,handlers:_99});if(_92.onOpen){_92.onOpen(_98);}return _98;};this.close=function(_9c){while(dojo.some(_8b,function(_9d){return _9d.widget==_9c;})){var top=_8b.pop(),_9e=top.wrapper,_9f=top.iframe,_a0=top.widget,_a1=top.onClose;if(_a0.onClose){_a0.onClose();}dojo.forEach(top.handlers,dojo.disconnect);if(_a0&&_a0.domNode){this.moveOffScreen(_a0.domNode);}_9e.style.top="-9999px";_9e.style.visibility="hidden";_90.push([_9e,_9f]);if(_a1){_a1();}}};}();dijit._frames=new function(){var _a2=[];this.pop=function(){var _a3;if(_a2.length){_a3=_a2.pop();_a3.style.display="";}else{if(dojo.isIE){var _a4=dojo.config["dojoBlankHtmlUrl"]||(dojo.moduleUrl("dojo","resources/blank.html")+"")||"javascript:\"\"";var _a5="<iframe src='"+_a4+"'"+" style='position: absolute; left: 0px; top: 0px;"+"z-index: -1; filter:Alpha(Opacity=\"0\");'>";_a3=dojo.doc.createElement(_a5);}else{_a3=dojo.create("iframe");_a3.src="javascript:\"\"";_a3.className="dijitBackgroundIframe";dojo.style(_a3,"opacity",0.1);}_a3.tabIndex=-1;}return _a3;};this.push=function(_a6){_a6.style.display="none";_a2.push(_a6);};}();dijit.BackgroundIframe=function(_a7){if(!_a7.id){throw new Error("no id");}if(dojo.isIE||dojo.isMoz){var _a8=dijit._frames.pop();_a7.appendChild(_a8);if(dojo.isIE<7){this.resize(_a7);this._conn=dojo.connect(_a7,"onresize",this,function(){this.resize(_a7);});}else{dojo.style(_a8,{width:"100%",height:"100%"});}this.iframe=_a8;}};dojo.extend(dijit.BackgroundIframe,{resize:function(_a9){if(this.iframe&&dojo.isIE<7){dojo.style(this.iframe,{width:_a9.offsetWidth+"px",height:_a9.offsetHeight+"px"});}},destroy:function(){if(this._conn){dojo.disconnect(this._conn);this._conn=null;}if(this.iframe){dijit._frames.push(this.iframe);delete this.iframe;}}});}if(!dojo._hasResource["dijit._base.scroll"]){dojo._hasResource["dijit._base.scroll"]=true;dojo.provide("dijit._base.scroll");dijit.scrollIntoView=function(_aa,pos){try{_aa=dojo.byId(_aa);var doc=_aa.ownerDocument||dojo.doc,_ab=doc.body||dojo.body(),_ac=doc.documentElement||_ab.parentNode,_ad=dojo.isIE,_ae=dojo.isWebKit;if((!(dojo.isMoz||_ad||_ae)||_aa==_ab||_aa==_ac)&&(typeof _aa.scrollIntoView!="undefined")){_aa.scrollIntoView(false);return;}var _af=doc.compatMode=="BackCompat",_b0=_af?_ab:_ac,_b1=_ae?_ab:_b0,_b2=_b0.clientWidth,_b3=_b0.clientHeight,rtl=!dojo._isBodyLtr(),_b4=pos||dojo.position(_aa),el=_aa.parentNode,_b5=function(el){return ((_ad<=6||(_ad&&_af))?false:(dojo.style(el,"position").toLowerCase()=="fixed"));};if(_b5(_aa)){return;}while(el){if(el==_ab){el=_b1;}var _b6=dojo.position(el),_b7=_b5(el);with(_b6){if(el==_b1){w=_b2,h=_b3;if(_b1==_ac&&_ad&&rtl){x+=_b1.offsetWidth-w;}if(x<0||!_ad){x=0;}if(y<0||!_ad){y=0;}}else{var pb=dojo._getPadBorderExtents(el);w-=pb.w;h-=pb.h;x+=pb.l;y+=pb.t;}with(el){if(el!=_b1){var _b8=clientWidth,_b9=w-_b8;if(_b8>0&&_b9>0){w=_b8;if(_ad&&rtl){x+=_b9;}}_b8=clientHeight;_b9=h-_b8;if(_b8>0&&_b9>0){h=_b8;}}if(_b7){if(y<0){h+=y,y=0;}if(x<0){w+=x,x=0;}if(y+h>_b3){h=_b3-y;}if(x+w>_b2){w=_b2-x;}}var l=_b4.x-x,t=_b4.y-Math.max(y,0),r=l+_b4.w-w,bot=t+_b4.h-h;if(r*l>0){var s=Math[l<0?"max":"min"](l,r);_b4.x+=scrollLeft;scrollLeft+=(_ad>=8&&!_af&&rtl)?-s:s;_b4.x-=scrollLeft;}if(bot*t>0){_b4.y+=scrollTop;scrollTop+=Math[t<0?"max":"min"](t,bot);_b4.y-=scrollTop;}}}el=(el!=_b1)&&!_b7&&el.parentNode;}}catch(error){console.error("scrollIntoView: "+error);_aa.scrollIntoView(false);}};}if(!dojo._hasResource["dijit._base.sniff"]){dojo._hasResource["dijit._base.sniff"]=true;dojo.provide("dijit._base.sniff");(function(){var d=dojo,_ba=d.doc.documentElement,ie=d.isIE,_bb=d.isOpera,maj=Math.floor,ff=d.isFF,_bc=d.boxModel.replace(/-/,""),_bd={dj_ie:ie,dj_ie6:maj(ie)==6,dj_ie7:maj(ie)==7,dj_ie8:maj(ie)==8,dj_iequirks:ie&&d.isQuirks,dj_opera:_bb,dj_khtml:d.isKhtml,dj_webkit:d.isWebKit,dj_safari:d.isSafari,dj_chrome:d.isChrome,dj_gecko:d.isMozilla,dj_ff3:maj(ff)==3};_bd["dj_"+_bc]=true;for(var p in _bd){if(_bd[p]){if(_ba.className){_ba.className+=" "+p;}else{_ba.className=p;}}}dojo._loaders.unshift(function(){if(!dojo._isBodyLtr()){_ba.className+=" dijitRtl";for(var p in _bd){if(_bd[p]){_ba.className+=" "+p+"-rtl";}}}});})();}if(!dojo._hasResource["dijit._base.typematic"]){dojo._hasResource["dijit._base.typematic"]=true;dojo.provide("dijit._base.typematic");dijit.typematic={_fireEventAndReload:function(){this._timer=null;this._callback(++this._count,this._node,this._evt);this._currentTimeout=Math.max(this._currentTimeout<0?this._initialDelay:(this._subsequentDelay>1?this._subsequentDelay:Math.round(this._currentTimeout*this._subsequentDelay)),10);this._timer=setTimeout(dojo.hitch(this,"_fireEventAndReload"),this._currentTimeout);},trigger:function(evt,_be,_bf,_c0,obj,_c1,_c2){if(obj!=this._obj){this.stop();this._initialDelay=_c2||500;this._subsequentDelay=_c1||0.9;this._obj=obj;this._evt=evt;this._node=_bf;this._currentTimeout=-1;this._count=-1;this._callback=dojo.hitch(_be,_c0);this._fireEventAndReload();}},stop:function(){if(this._timer){clearTimeout(this._timer);this._timer=null;}if(this._obj){this._callback(-1,this._node,this._evt);this._obj=null;}},addKeyListener:function(_c3,_c4,_c5,_c6,_c7,_c8){if(_c4.keyCode){_c4.charOrCode=_c4.keyCode;dojo.deprecated("keyCode attribute parameter for dijit.typematic.addKeyListener is deprecated. Use charOrCode instead.","","2.0");}else{if(_c4.charCode){_c4.charOrCode=String.fromCharCode(_c4.charCode);dojo.deprecated("charCode attribute parameter for dijit.typematic.addKeyListener is deprecated. Use charOrCode instead.","","2.0");}}return [dojo.connect(_c3,"onkeypress",this,function(evt){if(evt.charOrCode==_c4.charOrCode&&(_c4.ctrlKey===undefined||_c4.ctrlKey==evt.ctrlKey)&&(_c4.altKey===undefined||_c4.altKey==evt.altKey)&&(_c4.metaKey===undefined||_c4.metaKey==(evt.metaKey||false))&&(_c4.shiftKey===undefined||_c4.shiftKey==evt.shiftKey)){dojo.stopEvent(evt);dijit.typematic.trigger(_c4,_c5,_c3,_c6,_c4,_c7,_c8);}else{if(dijit.typematic._obj==_c4){dijit.typematic.stop();}}}),dojo.connect(_c3,"onkeyup",this,function(evt){if(dijit.typematic._obj==_c4){dijit.typematic.stop();}})];},addMouseListener:function(_c9,_ca,_cb,_cc,_cd){var dc=dojo.connect;return [dc(_c9,"mousedown",this,function(evt){dojo.stopEvent(evt);dijit.typematic.trigger(evt,_ca,_c9,_cb,_c9,_cc,_cd);}),dc(_c9,"mouseup",this,function(evt){dojo.stopEvent(evt);dijit.typematic.stop();}),dc(_c9,"mouseout",this,function(evt){dojo.stopEvent(evt);dijit.typematic.stop();}),dc(_c9,"mousemove",this,function(evt){dojo.stopEvent(evt);}),dc(_c9,"dblclick",this,function(evt){dojo.stopEvent(evt);if(dojo.isIE){dijit.typematic.trigger(evt,_ca,_c9,_cb,_c9,_cc,_cd);setTimeout(dojo.hitch(this,dijit.typematic.stop),50);}})];},addListener:function(_ce,_cf,_d0,_d1,_d2,_d3,_d4){return this.addKeyListener(_cf,_d0,_d1,_d2,_d3,_d4).concat(this.addMouseListener(_ce,_d1,_d2,_d3,_d4));}};}if(!dojo._hasResource["dijit._base.wai"]){dojo._hasResource["dijit._base.wai"]=true;dojo.provide("dijit._base.wai");dijit.wai={onload:function(){var div=dojo.create("div",{id:"a11yTestNode",style:{cssText:"border: 1px solid;"+"border-color:red green;"+"position: absolute;"+"height: 5px;"+"top: -999px;"+"background-image: url(\""+(dojo.config.blankGif||dojo.moduleUrl("dojo","resources/blank.gif"))+"\");"}},dojo.body());var cs=dojo.getComputedStyle(div);if(cs){var _d5=cs.backgroundImage;var _d6=(cs.borderTopColor==cs.borderRightColor)||(_d5!=null&&(_d5=="none"||_d5=="url(invalid-url:)"));dojo[_d6?"addClass":"removeClass"](dojo.body(),"dijit_a11y");if(dojo.isIE){div.outerHTML="";}else{dojo.body().removeChild(div);}}}};if(dojo.isIE||dojo.isMoz){dojo._loaders.unshift(dijit.wai.onload);}dojo.mixin(dijit,{_XhtmlRoles:/banner|contentinfo|definition|main|navigation|search|note|secondary|seealso/,hasWaiRole:function(_d7,_d8){var _d9=this.getWaiRole(_d7);return _d8?(_d9.indexOf(_d8)>-1):(_d9.length>0);},getWaiRole:function(_da){return dojo.trim((dojo.attr(_da,"role")||"").replace(this._XhtmlRoles,"").replace("wairole:",""));},setWaiRole:function(_db,_dc){var _dd=dojo.attr(_db,"role")||"";if(!this._XhtmlRoles.test(_dd)){dojo.attr(_db,"role",_dc);}else{if((" "+_dd+" ").indexOf(" "+_dc+" ")<0){var _de=dojo.trim(_dd.replace(this._XhtmlRoles,""));var _df=dojo.trim(_dd.replace(_de,""));dojo.attr(_db,"role",_df+(_df?" ":"")+_dc);}}},removeWaiRole:function(_e0,_e1){var _e2=dojo.attr(_e0,"role");if(!_e2){return;}if(_e1){var t=dojo.trim((" "+_e2+" ").replace(" "+_e1+" "," "));dojo.attr(_e0,"role",t);}else{_e0.removeAttribute("role");}},hasWaiState:function(_e3,_e4){return _e3.hasAttribute?_e3.hasAttribute("aria-"+_e4):!!_e3.getAttribute("aria-"+_e4);},getWaiState:function(_e5,_e6){return _e5.getAttribute("aria-"+_e6)||"";},setWaiState:function(_e7,_e8,_e9){_e7.setAttribute("aria-"+_e8,_e9);},removeWaiState:function(_ea,_eb){_ea.removeAttribute("aria-"+_eb);}});}if(!dojo._hasResource["dijit._base"]){dojo._hasResource["dijit._base"]=true;dojo.provide("dijit._base");}if(!dojo._hasResource["dijit._Widget"]){dojo._hasResource["dijit._Widget"]=true;dojo.provide("dijit._Widget");dojo.require("dijit._base");dojo.connect(dojo,"_connect",function(_ec,_ed){if(_ec&&dojo.isFunction(_ec._onConnect)){_ec._onConnect(_ed);}});dijit._connectOnUseEventHandler=function(_ee){};dijit._lastKeyDownNode=null;if(dojo.isIE){(function(){var _ef=function(evt){dijit._lastKeyDownNode=evt.srcElement;};dojo.doc.attachEvent("onkeydown",_ef);dojo.addOnWindowUnload(function(){dojo.doc.detachEvent("onkeydown",_ef);});})();}else{dojo.doc.addEventListener("keydown",function(evt){dijit._lastKeyDownNode=evt.target;},true);}(function(){var _f0={},_f1=function(_f2){var dc=_f2.declaredClass;if(!_f0[dc]){var r=[],_f3,_f4=_f2.constructor.prototype;for(var _f5 in _f4){if(dojo.isFunction(_f4[_f5])&&(_f3=_f5.match(/^_set([a-zA-Z]*)Attr$/))&&_f3[1]){r.push(_f3[1].charAt(0).toLowerCase()+_f3[1].substr(1));}}_f0[dc]=r;}return _f0[dc]||[];};dojo.declare("dijit._Widget",null,{id:"",lang:"",dir:"","class":"",style:"",title:"",tooltip:"",srcNodeRef:null,domNode:null,containerNode:null,attributeMap:{id:"",dir:"",lang:"","class":"",style:"",title:""},_deferredConnects:{onClick:"",onDblClick:"",onKeyDown:"",onKeyPress:"",onKeyUp:"",onMouseMove:"",onMouseDown:"",onMouseOut:"",onMouseOver:"",onMouseLeave:"",onMouseEnter:"",onMouseUp:""},onClick:dijit._connectOnUseEventHandler,onDblClick:dijit._connectOnUseEventHandler,onKeyDown:dijit._connectOnUseEventHandler,onKeyPress:dijit._connectOnUseEventHandler,onKeyUp:dijit._connectOnUseEventHandler,onMouseDown:dijit._connectOnUseEventHandler,onMouseMove:dijit._connectOnUseEventHandler,onMouseOut:dijit._connectOnUseEventHandler,onMouseOver:dijit._connectOnUseEventHandler,onMouseLeave:dijit._connectOnUseEventHandler,onMouseEnter:dijit._connectOnUseEventHandler,onMouseUp:dijit._connectOnUseEventHandler,_blankGif:(dojo.config.blankGif||dojo.moduleUrl("dojo","resources/blank.gif")).toString(),postscript:function(_f6,_f7){this.create(_f6,_f7);},create:function(_f8,_f9){this.srcNodeRef=dojo.byId(_f9);this._connects=[];this._subscribes=[];this._deferredConnects=dojo.clone(this._deferredConnects);for(var _fa in this.attributeMap){delete this._deferredConnects[_fa];}for(_fa in this._deferredConnects){if(this[_fa]!==dijit._connectOnUseEventHandler){delete this._deferredConnects[_fa];}}if(this.srcNodeRef&&(typeof this.srcNodeRef.id=="string")){this.id=this.srcNodeRef.id;}if(_f8){this.params=_f8;dojo.mixin(this,_f8);}this.postMixInProperties();if(!this.id){this.id=dijit.getUniqueId(this.declaredClass.replace(/\./g,"_"));}dijit.registry.add(this);this.buildRendering();if(this.domNode){this._applyAttributes();var _fb=this.srcNodeRef;if(_fb&&_fb.parentNode){_fb.parentNode.replaceChild(this.domNode,_fb);}for(_fa in this.params){this._onConnect(_fa);}}if(this.domNode){this.domNode.setAttribute("widgetId",this.id);}this.postCreate();if(this.srcNodeRef&&!this.srcNodeRef.parentNode){delete this.srcNodeRef;}this._created=true;},_applyAttributes:function(){var _fc=function(_fd,_fe){if((_fe.params&&_fd in _fe.params)||_fe[_fd]){_fe.attr(_fd,_fe[_fd]);}};for(var _ff in this.attributeMap){_fc(_ff,this);}dojo.forEach(_f1(this),function(a){if(!(a in this.attributeMap)){_fc(a,this);}},this);},postMixInProperties:function(){},buildRendering:function(){this.domNode=this.srcNodeRef||dojo.create("div");},postCreate:function(){},startup:function(){this._started=true;},destroyRecursive:function(_100){this._beingDestroyed=true;this.destroyDescendants(_100);this.destroy(_100);},destroy:function(_101){this._beingDestroyed=true;this.uninitialize();var d=dojo,dfe=d.forEach,dun=d.unsubscribe;dfe(this._connects,function(_102){dfe(_102,d.disconnect);});dfe(this._subscribes,function(_103){dun(_103);});dfe(this._supportingWidgets||[],function(w){if(w.destroyRecursive){w.destroyRecursive();}else{if(w.destroy){w.destroy();}}});this.destroyRendering(_101);dijit.registry.remove(this.id);this._destroyed=true;},destroyRendering:function(_104){if(this.bgIframe){this.bgIframe.destroy(_104);delete this.bgIframe;}if(this.domNode){if(_104){dojo.removeAttr(this.domNode,"widgetId");}else{dojo.destroy(this.domNode);}delete this.domNode;}if(this.srcNodeRef){if(!_104){dojo.destroy(this.srcNodeRef);}delete this.srcNodeRef;}},destroyDescendants:function(_105){dojo.forEach(this.getChildren(),function(_106){if(_106.destroyRecursive){_106.destroyRecursive(_105);}});},uninitialize:function(){return false;},onFocus:function(){},onBlur:function(){},_onFocus:function(e){this.onFocus();},_onBlur:function(){this.onBlur();},_onConnect:function(_107){if(_107 in this._deferredConnects){var _108=this[this._deferredConnects[_107]||"domNode"];this.connect(_108,_107.toLowerCase(),_107);delete this._deferredConnects[_107];}},_setClassAttr:function(_109){var _10a=this[this.attributeMap["class"]||"domNode"];dojo.removeClass(_10a,this["class"]);this["class"]=_109;dojo.addClass(_10a,_109);},_setStyleAttr:function(_10b){var _10c=this[this.attributeMap.style||"domNode"];if(dojo.isObject(_10b)){dojo.style(_10c,_10b);}else{if(_10c.style.cssText){_10c.style.cssText+="; "+_10b;}else{_10c.style.cssText=_10b;}}this.style=_10b;},setAttribute:function(attr,_10d){dojo.deprecated(this.declaredClass+"::setAttribute() is deprecated. Use attr() instead.","","2.0");this.attr(attr,_10d);},_attrToDom:function(attr,_10e){var _10f=this.attributeMap[attr];dojo.forEach(dojo.isArray(_10f)?_10f:[_10f],function(_110){var _111=this[_110.node||_110||"domNode"];var type=_110.type||"attribute";switch(type){case "attribute":if(dojo.isFunction(_10e)){_10e=dojo.hitch(this,_10e);}var _112=_110.attribute?_110.attribute:(/^on[A-Z][a-zA-Z]*$/.test(attr)?attr.toLowerCase():attr);dojo.attr(_111,_112,_10e);break;case "innerText":_111.innerHTML="";_111.appendChild(dojo.doc.createTextNode(_10e));break;case "innerHTML":_111.innerHTML=_10e;break;case "class":dojo.removeClass(_111,this[attr]);dojo.addClass(_111,_10e);break;}},this);this[attr]=_10e;},attr:function(name,_113){var args=arguments.length;if(args==1&&!dojo.isString(name)){for(var x in name){this.attr(x,name[x]);}return this;}var _114=this._getAttrNames(name);if(args>=2){if(this[_114.s]){args=dojo._toArray(arguments,1);return this[_114.s].apply(this,args)||this;}else{if(name in this.attributeMap){this._attrToDom(name,_113);}this[name]=_113;}return this;}else{return this[_114.g]?this[_114.g]():this[name];}},_attrPairNames:{},_getAttrNames:function(name){var apn=this._attrPairNames;if(apn[name]){return apn[name];}var uc=name.charAt(0).toUpperCase()+name.substr(1);return (apn[name]={n:name+"Node",s:"_set"+uc+"Attr",g:"_get"+uc+"Attr"});},toString:function(){return "[Widget "+this.declaredClass+", "+(this.id||"NO ID")+"]";},getDescendants:function(){return this.containerNode?dojo.query("[widgetId]",this.containerNode).map(dijit.byNode):[];},getChildren:function(){return this.containerNode?dijit.findWidgets(this.containerNode):[];},nodesWithKeyClick:["input","button"],connect:function(obj,_115,_116){var d=dojo,dc=d._connect,_117=[];if(_115=="ondijitclick"){if(!this.nodesWithKeyClick[obj.tagName.toLowerCase()]){var m=d.hitch(this,_116);_117.push(dc(obj,"onkeydown",this,function(e){if((e.keyCode==d.keys.ENTER||e.keyCode==d.keys.SPACE)&&!e.ctrlKey&&!e.shiftKey&&!e.altKey&&!e.metaKey){dijit._lastKeyDownNode=e.target;d.stopEvent(e);}}),dc(obj,"onkeyup",this,function(e){if((e.keyCode==d.keys.ENTER||e.keyCode==d.keys.SPACE)&&e.target===dijit._lastKeyDownNode&&!e.ctrlKey&&!e.shiftKey&&!e.altKey&&!e.metaKey){dijit._lastKeyDownNode=null;return m(e);}}));}_115="onclick";}_117.push(dc(obj,_115,this,_116));this._connects.push(_117);return _117;},disconnect:function(_118){for(var i=0;i<this._connects.length;i++){if(this._connects[i]==_118){dojo.forEach(_118,dojo.disconnect);this._connects.splice(i,1);return;}}},subscribe:function(_119,_11a){var d=dojo,_11b=d.subscribe(_119,this,_11a);this._subscribes.push(_11b);return _11b;},unsubscribe:function(_11c){for(var i=0;i<this._subscribes.length;i++){if(this._subscribes[i]==_11c){dojo.unsubscribe(_11c);this._subscribes.splice(i,1);return;}}},isLeftToRight:function(){return dojo._isBodyLtr();},isFocusable:function(){return this.focus&&(dojo.style(this.domNode,"display")!="none");},placeAt:function(_11d,_11e){if(_11d.declaredClass&&_11d.addChild){_11d.addChild(this,_11e);}else{dojo.place(this.domNode,_11d,_11e);}return this;},_onShow:function(){this.onShow();},onShow:function(){},onHide:function(){}});})();}if(!dojo._hasResource["dojo.string"]){dojo._hasResource["dojo.string"]=true;dojo.provide("dojo.string");dojo.string.rep=function(str,num){if(num<=0||!str){return "";}var buf=[];for(;;){if(num&1){buf.push(str);}if(!(num>>=1)){break;}str+=str;}return buf.join("");};dojo.string.pad=function(text,size,ch,end){if(!ch){ch="0";}var out=String(text),pad=dojo.string.rep(ch,Math.ceil((size-out.length)/ch.length));return end?out+pad:pad+out;};dojo.string.substitute=function(_11f,map,_120,_121){_121=_121||dojo.global;_120=_120?dojo.hitch(_121,_120):function(v){return v;};return _11f.replace(/\$\{([^\s\:\}]+)(?:\:([^\s\:\}]+))?\}/g,function(_122,key,_123){var _124=dojo.getObject(key,false,map);if(_123){_124=dojo.getObject(_123,false,_121).call(_121,_124,key);}return _120(_124,key).toString();});};dojo.string.trim=String.prototype.trim?dojo.trim:function(str){str=str.replace(/^\s+/,"");for(var i=str.length-1;i>=0;i--){if(/\S/.test(str.charAt(i))){str=str.substring(0,i+1);break;}}return str;};}if(!dojo._hasResource["dojo.date.stamp"]){dojo._hasResource["dojo.date.stamp"]=true;dojo.provide("dojo.date.stamp");dojo.date.stamp.fromISOString=function(_125,_126){if(!dojo.date.stamp._isoRegExp){dojo.date.stamp._isoRegExp=/^(?:(\d{4})(?:-(\d{2})(?:-(\d{2}))?)?)?(?:T(\d{2}):(\d{2})(?::(\d{2})(.\d+)?)?((?:[+-](\d{2}):(\d{2}))|Z)?)?$/;}var _127=dojo.date.stamp._isoRegExp.exec(_125),_128=null;if(_127){_127.shift();if(_127[1]){_127[1]--;}if(_127[6]){_127[6]*=1000;}if(_126){_126=new Date(_126);dojo.map(["FullYear","Month","Date","Hours","Minutes","Seconds","Milliseconds"],function(prop){return _126["get"+prop]();}).forEach(function(_129,_12a){if(_127[_12a]===undefined){_127[_12a]=_129;}});}_128=new Date(_127[0]||1970,_127[1]||0,_127[2]||1,_127[3]||0,_127[4]||0,_127[5]||0,_127[6]||0);if(_127[0]<100){_128.setFullYear(_127[0]||1970);}var _12b=0,_12c=_127[7]&&_127[7].charAt(0);if(_12c!="Z"){_12b=((_127[8]||0)*60)+(Number(_127[9])||0);if(_12c!="-"){_12b*=-1;}}if(_12c){_12b-=_128.getTimezoneOffset();}if(_12b){_128.setTime(_128.getTime()+_12b*60000);}}return _128;};dojo.date.stamp.toISOString=function(_12d,_12e){var _12f=function(n){return (n<10)?"0"+n:n;};_12e=_12e||{};var _130=[],_131=_12e.zulu?"getUTC":"get",date="";if(_12e.selector!="time"){var year=_12d[_131+"FullYear"]();date=["0000".substr((year+"").length)+year,_12f(_12d[_131+"Month"]()+1),_12f(_12d[_131+"Date"]())].join("-");}_130.push(date);if(_12e.selector!="date"){var time=[_12f(_12d[_131+"Hours"]()),_12f(_12d[_131+"Minutes"]()),_12f(_12d[_131+"Seconds"]())].join(":");var _132=_12d[_131+"Milliseconds"]();if(_12e.milliseconds){time+="."+(_132<100?"0":"")+_12f(_132);}if(_12e.zulu){time+="Z";}else{if(_12e.selector!="time"){var _133=_12d.getTimezoneOffset();var _134=Math.abs(_133);time+=(_133>0?"-":"+")+_12f(Math.floor(_134/60))+":"+_12f(_134%60);}}_130.push(time);}return _130.join("T");};}if(!dojo._hasResource["dojo.parser"]){dojo._hasResource["dojo.parser"]=true;dojo.provide("dojo.parser");dojo.parser=new function(){var d=dojo;this._attrName=d._scopeName+"Type";this._query="["+this._attrName+"]";function _135(_136){if(d.isString(_136)){return "string";}if(typeof _136=="number"){return "number";}if(typeof _136=="boolean"){return "boolean";}if(d.isFunction(_136)){return "function";}if(d.isArray(_136)){return "array";}if(_136 instanceof Date){return "date";}if(_136 instanceof d._Url){return "url";}return "object";};function _137(_138,type){switch(type){case "string":return _138;case "number":return _138.length?Number(_138):NaN;case "boolean":return typeof _138=="boolean"?_138:!(_138.toLowerCase()=="false");case "function":if(d.isFunction(_138)){_138=_138.toString();_138=d.trim(_138.substring(_138.indexOf("{")+1,_138.length-1));}try{if(_138.search(/[^\w\.]+/i)!=-1){return new Function(_138);}else{return d.getObject(_138,false);}}catch(e){return new Function();}case "array":return _138?_138.split(/\s*,\s*/):[];case "date":switch(_138){case "":return new Date("");case "now":return new Date();default:return d.date.stamp.fromISOString(_138);}case "url":return d.baseUrl+_138;default:return d.fromJson(_138);}};var _139={};dojo.connect(dojo,"extend",function(){_139={};});function _13a(_13b){if(!_139[_13b]){var cls=d.getObject(_13b);if(!d.isFunction(cls)){throw new Error("Could not load class '"+_13b+"'. Did you spell the name correctly and use a full path, like 'dijit.form.Button'?");}var _13c=cls.prototype;var _13d={},_13e={};for(var name in _13c){if(name.charAt(0)=="_"){continue;}if(name in _13e){continue;}var _13f=_13c[name];_13d[name]=_135(_13f);}_139[_13b]={cls:cls,params:_13d};}return _139[_13b];};this._functionFromScript=function(_140){var _141="";var _142="";var _143=_140.getAttribute("args");if(_143){d.forEach(_143.split(/\s*,\s*/),function(part,idx){_141+="var "+part+" = arguments["+idx+"]; ";});}var _144=_140.getAttribute("with");if(_144&&_144.length){d.forEach(_144.split(/\s*,\s*/),function(part){_141+="with("+part+"){";_142+="}";});}return new Function(_141+_140.innerHTML+_142);};this.instantiate=function(_145,_146,args){var _147=[],dp=dojo.parser;_146=_146||{};args=args||{};d.forEach(_145,function(node){if(!node){return;}var type=dp._attrName in _146?_146[dp._attrName]:node.getAttribute(dp._attrName);if(!type||!type.length){return;}var _148=_13a(type),_149=_148.cls,ps=_149._noScript||_149.prototype._noScript;var _14a={},_14b=node.attributes;for(var name in _148.params){var item=name in _146?{value:_146[name],specified:true}:_14b.getNamedItem(name);if(!item||(!item.specified&&(!dojo.isIE||name.toLowerCase()!="value"))){continue;}var _14c=item.value;switch(name){case "class":_14c="className" in _146?_146.className:node.className;break;case "style":_14c="style" in _146?_146.style:(node.style&&node.style.cssText);}var _14d=_148.params[name];if(typeof _14c=="string"){_14a[name]=_137(_14c,_14d);}else{_14a[name]=_14c;}}if(!ps){var _14e=[],_14f=[];d.query("> script[type^='dojo/']",node).orphan().forEach(function(_150){var _151=_150.getAttribute("event"),type=_150.getAttribute("type"),nf=d.parser._functionFromScript(_150);if(_151){if(type=="dojo/connect"){_14e.push({event:_151,func:nf});}else{_14a[_151]=nf;}}else{_14f.push(nf);}});}var _152=_149.markupFactory||_149.prototype&&_149.prototype.markupFactory;var _153=_152?_152(_14a,node,_149):new _149(_14a,node);_147.push(_153);var _154=node.getAttribute("jsId");if(_154){d.setObject(_154,_153);}if(!ps){d.forEach(_14e,function(_155){d.connect(_153,_155.event,null,_155.func);});d.forEach(_14f,function(func){func.call(_153);});}});if(!_146._started){d.forEach(_147,function(_156){if(!args.noStart&&_156&&_156.startup&&!_156._started&&(!_156.getParent||!_156.getParent())){_156.startup();}});}return _147;};this.parse=function(_157,args){var root;if(!args&&_157&&_157.rootNode){args=_157;root=args.rootNode;}else{root=_157;}var list=d.query(this._query,root);return this.instantiate(list,null,args);};}();(function(){var _158=function(){if(dojo.config.parseOnLoad){dojo.parser.parse();}};if(dojo.exists("dijit.wai.onload")&&(dijit.wai.onload===dojo._loaders[0])){dojo._loaders.splice(1,0,_158);}else{dojo._loaders.unshift(_158);}})();}if(!dojo._hasResource["dojo.cache"]){dojo._hasResource["dojo.cache"]=true;dojo.provide("dojo.cache");(function(){var _159={};dojo.cache=function(_15a,url,_15b){if(typeof _15a=="string"){var _15c=dojo.moduleUrl(_15a,url);}else{_15c=_15a;_15b=url;}var key=_15c.toString();var val=_15b;if(_15b!==undefined&&!dojo.isString(_15b)){val=("value" in _15b?_15b.value:undefined);}var _15d=_15b&&_15b.sanitize?true:false;if(val||val===null){if(val==null){delete _159[key];}else{val=_159[key]=_15d?dojo.cache._sanitize(val):val;}}else{if(!(key in _159)){val=dojo._getText(key);_159[key]=_15d?dojo.cache._sanitize(val):val;}val=_159[key];}return val;};dojo.cache._sanitize=function(val){if(val){val=val.replace(/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,"");var _15e=val.match(/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im);if(_15e){val=_15e[1];}}else{val="";}return val;};})();}if(!dojo._hasResource["dijit._Templated"]){dojo._hasResource["dijit._Templated"]=true;dojo.provide("dijit._Templated");dojo.declare("dijit._Templated",null,{templateString:null,templatePath:null,widgetsInTemplate:false,_skipNodeCache:false,_earlyTemplatedStartup:false,constructor:function(){this._attachPoints=[];},_stringRepl:function(tmpl){var _15f=this.declaredClass,_160=this;return dojo.string.substitute(tmpl,this,function(_161,key){if(key.charAt(0)=="!"){_161=dojo.getObject(key.substr(1),false,_160);}if(typeof _161=="undefined"){throw new Error(_15f+" template:"+key);}if(_161==null){return "";}return key.charAt(0)=="!"?_161:_161.toString().replace(/"/g,"&quot;");},this);},buildRendering:function(){var _162=dijit._Templated.getCachedTemplate(this.templatePath,this.templateString,this._skipNodeCache);var node;if(dojo.isString(_162)){node=dojo._toDom(this._stringRepl(_162));if(node.nodeType!=1){throw new Error("Invalid template: "+_162);}}else{node=_162.cloneNode(true);}this.domNode=node;this._attachTemplateNodes(node);if(this.widgetsInTemplate){var _163=dojo.parser,qry,attr;if(_163._query!="[dojoType]"){qry=_163._query;attr=_163._attrName;_163._query="[dojoType]";_163._attrName="dojoType";}var cw=(this._startupWidgets=dojo.parser.parse(node,{noStart:!this._earlyTemplatedStartup}));if(qry){_163._query=qry;_163._attrName=attr;}this._supportingWidgets=dijit.findWidgets(node);this._attachTemplateNodes(cw,function(n,p){return n[p];});}this._fillContent(this.srcNodeRef);},_fillContent:function(_164){var dest=this.containerNode;if(_164&&dest){while(_164.hasChildNodes()){dest.appendChild(_164.firstChild);}}},_attachTemplateNodes:function(_165,_166){_166=_166||function(n,p){return n.getAttribute(p);};var _167=dojo.isArray(_165)?_165:(_165.all||_165.getElementsByTagName("*"));var x=dojo.isArray(_165)?0:-1;for(;x<_167.length;x++){var _168=(x==-1)?_165:_167[x];if(this.widgetsInTemplate&&_166(_168,"dojoType")){continue;}var _169=_166(_168,"dojoAttachPoint");if(_169){var _16a,_16b=_169.split(/\s*,\s*/);while((_16a=_16b.shift())){if(dojo.isArray(this[_16a])){this[_16a].push(_168);}else{this[_16a]=_168;}this._attachPoints.push(_16a);}}var _16c=_166(_168,"dojoAttachEvent");if(_16c){var _16d,_16e=_16c.split(/\s*,\s*/);var trim=dojo.trim;while((_16d=_16e.shift())){if(_16d){var _16f=null;if(_16d.indexOf(":")!=-1){var _170=_16d.split(":");_16d=trim(_170[0]);_16f=trim(_170[1]);}else{_16d=trim(_16d);}if(!_16f){_16f=_16d;}this.connect(_168,_16d,_16f);}}}var role=_166(_168,"waiRole");if(role){dijit.setWaiRole(_168,role);}var _171=_166(_168,"waiState");if(_171){dojo.forEach(_171.split(/\s*,\s*/),function(_172){if(_172.indexOf("-")!=-1){var pair=_172.split("-");dijit.setWaiState(_168,pair[0],pair[1]);}});}}},startup:function(){dojo.forEach(this._startupWidgets,function(w){if(w&&!w._started&&w.startup){w.startup();}});this.inherited(arguments);},destroyRendering:function(){dojo.forEach(this._attachPoints,function(_173){delete this[_173];},this);this._attachPoints=[];this.inherited(arguments);}});dijit._Templated._templateCache={};dijit._Templated.getCachedTemplate=function(_174,_175,_176){var _177=dijit._Templated._templateCache;var key=_175||_174;var _178=_177[key];if(_178){try{if(!_178.ownerDocument||_178.ownerDocument==dojo.doc){return _178;}}catch(e){}dojo.destroy(_178);}if(!_175){_175=dojo.cache(_174,{sanitize:true});}_175=dojo.string.trim(_175);if(_176||_175.match(/\$\{([^\}]+)\}/g)){return (_177[key]=_175);}else{var node=dojo._toDom(_175);if(node.nodeType!=1){throw new Error("Invalid template: "+_175);}return (_177[key]=node);}};if(dojo.isIE){dojo.addOnWindowUnload(function(){var _179=dijit._Templated._templateCache;for(var key in _179){var _17a=_179[key];if(typeof _17a=="object"){dojo.destroy(_17a);}delete _179[key];}});}dojo.extend(dijit._Widget,{dojoAttachEvent:"",dojoAttachPoint:"",waiRole:"",waiState:""});}if(!dojo._hasResource["mpCorePlugin.Toolkit"]){dojo._hasResource["mpCorePlugin.Toolkit"]=true;dojo.provide("mpCorePlugin.Toolkit");dojo.mixin(mpCorePlugin.Toolkit,{AjaxUpdater:function(_17b,_17c,_17d){_17d=_17d||"post";var _17e={load:function(data){mpCorePlugin.Toolkit.updateElement(_17b,data);dojo.style(_17b,"display","");mpCorePlugin.Toolkit.evalScripts(_17b,_17c.eval_scripts);this.onSuccess(data);},onSuccess:function(data){}};dojo.mixin(_17e,_17c);dojo[("post"==_17d?"xhrPost":"xhrGet")](_17e);},evalScripts:function(node,_17f){_17f=_17f||true;if(false==_17f){return;}dojo.query("script",node).forEach(function(_180){eval(_180.innerHTML);});},updateElement:function(_181,html){dojo.query("[widgetId]",_181).forEach(function(w){var _182=dojo.attr(w,"widgetid");dijit.byId(_182).destroy();});dojo.byId(_181).innerHTML=html;dojo.parser.parse(_181);},AuthFormSubmit:function(form){if(true===mpConf.user.isAuthenticated){return true;}new mpCorePlugin.widget.lightbox({url:mpConf.routes.login,onSuccess:function(){form.submit();}},mpCorePlugin.Toolkit.createDivIn());return false;},AuthFn:function(_183){if(true===mpConf.user.isAuthenticated){_183();return;}new mpCorePlugin.widget.lightbox({url:mpConf.routes.login,onSuccess:function(){_183();}},mpCorePlugin.Toolkit.createDivIn());return false;},createDivIn:function(node){var _184=node||dojo.body();var _185=document.createElement("div");dojo.place(_185,_184,"last");return _185;},evaluateHiddenJsonConfig:function(_186){hidden_field=dojo.byId(_186)||false;if(false===hidden_field){return {};}value=dojo.fromJson(hidden_field.value);var nl=new dojo.NodeList();nl.push(hidden_field);nl.orphan();return value;}});}if(!dojo._hasResource["mpCorePlugin.widget.lightbox"]){dojo._hasResource["mpCorePlugin.widget.lightbox"]=true;dojo.provide("mpCorePlugin.widget.lightbox");dojo.declare("mpCorePlugin.widget.lightbox",[dijit._Widget,dijit._Templated],{templateString:"<div dojoAttachPoint=\"lightbox_layer\" class=\"${layer_type} lightbox_container\">\n  <div class=\"lightbox_inner\">\n      <table align=\"center\" cellpadding=\"0\" cellspacing=\"0\" border=\"0\">\n        <tr>\n          <td class=\"tl\"><div></div></td>\n          <td></td>\n          <td class=\"tr\"><div></div></td>\n        </tr>\n        <tr>\n          <td></td>\n          <td class=\"layercontent\" style=\"position:relative;\">\n           <div class=\"ajaxIndContainer\">\n            <a href=\"#\" dojoAttachEvent=\"onclick:refresh\" dojoAttachPoint=\"refreshBtn\" class=\"refreshbtn\" style=\"display:none\"></a>\n            <a href=\"#\" dojoAttachEvent=\"onclick:close\" dojoAttachPoint=\"closeBtn\" class=\"closebtn\"></a>\n            <img dojoAttachPoint=\"ajax_indicator\" src=\"/images/ajax-indicator.gif\" style=\"width: 20px; display: block; position: absolute; left: 50%;\" />\n            <div dojoAttachPoint=\"lightbox_layer_content\"></div>\n          </div>\n          </td>\n          <td></td>\n        </tr>\n        <tr>\n          <td class=\"bl\"><div></div></td>\n          <td></td>\n          <td class=\"br\"><div></div></td>\n        </tr>\n      </table>\n  </div>\n  <div dojoAttachPoint=\"lightbox_preload\" style=\"display:none\"></div>\n</div>\n",url:"",content:"",exit_url_success:"",exit_url_abort:"",onSuccess:function(){},onError:function(){},onClose:function(){},height:0,width:0,layer_type:"darklayer",_submit_enabled:true,_overlay:null,_configuration:{},_defaultConfiguration:{confirm_close:false,close_triggers_error:false,auto_close:false,redirect_on_close:"",is_modal:false,ga_track_page:""},setContentLayerHTML:function(data){this.lightbox_preload.innerHTML=data;this._parseConfig(this.lightbox_preload);if(this._configuration.ga_track_page.length>0){pageTracker._trackPageview(this._configuration.ga_track_page);}if(true===this._configuration.auto_close){this.close(true);return;}dojo.style(this.closeBtn,"display",this._configuration.is_modal?"none":"");this.lightbox_layer_content.innerHTML=this.lightbox_preload.innerHTML;dojo.empty(this.lightbox_preload);this._ajaxifyLightboxContent();this._displayAjaxIndicator(false);this._submit_enabled=true;},_lastAction:null,_formOnSubmit:function(form){this._lastAction=dojo.hitch(this,function(){if(false==this._submit_enabled){return;}this._displayAjaxIndicator(true);this._submit_enabled=false;dojo.xhrPost({form:form,load:dojo.hitch(this,"setContentLayerHTML")});});this._lastAction();},_loadUrl:function(url){this._lastAction=dojo.hitch(this,function(){if(false==this._submit_enabled){return;}this._displayAjaxIndicator(true);this._submit_enabled=false;dojo.xhrGet({url:url,load:dojo.hitch(this,"setContentLayerHTML")});});this._lastAction();},refresh:function(){this._lastAction();},_ajaxifyLightboxContent:function(){dojo.parser.parse(this.lightbox_layer_content);var _187=dojo.hitch(this,"_formOnSubmit");dojo.query("form",this.lightbox_layer_content).forEach(function(node){dojo.connect(node,"submit",dojo.hitch(this,function(e){_187(e.target);dojo.stopEvent(e);return false;}));node.submit=function(){_187(node);};});_self=this;dojo.query("a.inner-lightbox",this.lightbox_layer_content).forEach(function(node){dojo.connect(node,"click",dojo.hitch(this,function(e){_self._loadUrl(e.target.href);dojo.stopEvent(e);return false;}));});dojo.query("a.close-lightbox",this.lightbox_layer_content).forEach(function(node){dojo.connect(node,"click",function(e){_self.close();dojo.stopEvent(e);return false;});});dojo.query("script",this.lightbox_layer_content).forEach(function(node){eval(node.innerHTML);});},_parseConfig:function(_188){this._configuration={};dojo.mixin(this._configuration,this._defaultConfiguration);var _189=mpCorePlugin.Toolkit.evaluateHiddenJsonConfig("lightbox_configuration");dojo.mixin(this._configuration,_189);},_displayAjaxIndicator:function(_18a){dojo.style(this.ajax_indicator,"display",_18a?"block":"none");},postCreate:function(){this._displayOverlay();this.lightbox_layer.style.visibility="hidden";this.lightbox_layer.style.display="block";this.lightbox_layer.style.visibility="visible";this._loadContentInitially();if("prod"!=mpConf._meta.env){dojo.style(this.refreshBtn,"display","");}},_loadContentInitially:function(){if(this.srcNodeRef&&this.srcNodeRef.innerHTML){this.setContentLayerHTML(this.srcNodeRef.innerHTML);}else{if(this.content.length>0){this.setContentLayerHTML(this.content);}else{if(this.url.length>0){this._loadUrl(this.url);}}}},_displayOverlay:function(){var _18b=dojo.hasClass(this.lightbox_layer,"darklayer")?1:2;var div=document.createElement("div");div.className="bgoverlay";dojo.place(div,dojo.body());div.id="overlay"+_18b;dojo.style(div,"display","block");dojo.style(div,"height",dojo.marginBox(dojo.body()).h+"px");dojo.style(div,"width",dojo.marginBox(dojo.body()).w+"px");this._overlay=div;},close:function(_18c){if(this._configuration.redirect_on_close.length>0){this.onClose();location.href=this._configuration.redirect_on_close;return;}else{if(true===_18c||false===this._configuration.confirm_close){this.onClose();if(true===this._configuration.close_triggers_error){this.onError();if(0<this.exit_url_abort.length){location.href=this.exit_url_abort;}}else{this.onSuccess();if(0<this.exit_url_success.length){location.href=this.exit_url_success;}}if(null!==this._overlay){dojo.body().removeChild(this._overlay);}this.destroy();return;}}var _18d=this;opts={message:"Mchtest du den Prozess wirklich abbrechen?<br />Bereits eingegebenen Daten gehen dabei verloren.",message_yes:"Ja, abbrechen",message_no:"Nein, nicht abbrechen",onYes:function(){_18d.close(true);}};confirm=new mpCorePlugin.widget.ConfirmLightbox(opts,mpCorePlugin.Toolkit.createDivIn());}});dojo.provide("mpCorePlugin.widget.ConfirmLightbox");dojo.declare("mpCorePlugin.widget.ConfirmLightbox",mpCorePlugin.widget.lightbox,{templateString:"<div dojoAttachPoint=\"lightbox_layer\" class=\"lightbox pagelayer ${layer_type}\">\n  <table align=\"center\" cellpadding=\"0\" cellspacing=\"0\" border=\"0\">\n    <tr>\n      <td class=\"tl\"><div></div></td>\n      <td></td>\n      <td class=\"tr\"><div></div></td>\n    </tr>\n    <tr>\n      <td></td>\n      <td class=\"layercontent\" style=\"position:relative;\">\n        <div class=\"ajaxIndContainer\">\n        <div>\n          ${message}<br />\n          <br />\n          <a href=\"#\" class=\"plink\" dojoAttachevent=\"onclick:actionYes\">${message_yes}</a>\n           &nbsp; \n          <a href=\"#\" class=\"plink\" dojoAttachevent=\"onclick:actionNo\">${message_no}</a>\n        </div>\n      </div>\n      </td>\n      <td></td>\n    </tr>\n    <tr>\n      <td class=\"bl\"><div></div></td>\n      <td></td>\n      <td class=\"br\"><div></div></td>\n    </tr>\n  </table>\n</div>\n",layer_type:"lightlayer",message:"Mchtest du das wirklich tun?",message_yes:"Ja",message_no:"Nein",width:250,actionYes:function(){this.close(true);this.onYes();},actionNo:function(){this.close(true);this.onNo();},onYes:function(){},onNo:function(){},_loadContentInitially:function(){dojo.mixin(this._configuration,this._defaultConfiguration);}});}if(!dojo._hasResource["dojo.io.iframe"]){dojo._hasResource["dojo.io.iframe"]=true;dojo.provide("dojo.io.iframe");dojo.io.iframe={create:function(_18e,_18f,uri){if(window[_18e]){return window[_18e];}if(window.frames[_18e]){return window.frames[_18e];}var _190=null;var turi=uri;if(!turi){if(dojo.config["useXDomain"]&&!dojo.config["dojoBlankHtmlUrl"]){console.warn("dojo.io.iframe.create: When using cross-domain Dojo builds,"+" please save dojo/resources/blank.html to your domain and set djConfig.dojoBlankHtmlUrl"+" to the path on your domain to blank.html");}turi=(dojo.config["dojoBlankHtmlUrl"]||dojo.moduleUrl("dojo","resources/blank.html"));}var _191=dojo.isIE?"<iframe name=\""+_18e+"\" src=\""+turi+"\" onload=\""+_18f+"\">":"iframe";_190=dojo.doc.createElement(_191);with(_190){name=_18e;setAttribute("name",_18e);id=_18e;}dojo.body().appendChild(_190);window[_18e]=_190;with(_190.style){if(!(dojo.isSafari<3)){position="absolute";}left=top="1px";height=width="1px";visibility="hidden";}if(!dojo.isIE){this.setSrc(_190,turi,true);_190.onload=new Function(_18f);}return _190;},setSrc:function(_192,src,_193){try{if(!_193){if(dojo.isWebKit){_192.location=src;}else{frames[_192.name].location=src;}}else{var idoc;if(dojo.isIE||dojo.isWebKit>521){idoc=_192.contentWindow.document;}else{if(dojo.isSafari){idoc=_192.document;}else{idoc=_192.contentWindow;}}if(!idoc){_192.location=src;return;}else{idoc.location.replace(src);}}}catch(e){console.log("dojo.io.iframe.setSrc: ",e);}},doc:function(_194){var doc=_194.contentDocument||(((_194.name)&&(_194.document)&&(dojo.doc.getElementsByTagName("iframe")[_194.name].contentWindow)&&(dojo.doc.getElementsByTagName("iframe")[_194.name].contentWindow.document)))||((_194.name)&&(dojo.doc.frames[_194.name])&&(dojo.doc.frames[_194.name].document))||null;return doc;},send:function(args){if(!this["_frame"]){this._frame=this.create(this._iframeName,dojo._scopeName+".io.iframe._iframeOnload();");}var dfd=dojo._ioSetArgs(args,function(dfd){dfd.canceled=true;dfd.ioArgs._callNext();},function(dfd){var _195=null;try{var _196=dfd.ioArgs;var dii=dojo.io.iframe;var ifd=dii.doc(dii._frame);var _197=_196.handleAs;_195=ifd;if(_197!="html"){if(_197=="xml"){if(dojo.isIE){dojo.query("a",dii._frame.contentWindow.document.documentElement).orphan();var _198=(dii._frame.contentWindow.document).documentElement.innerText;_198=_198.replace(/>\s+</g,"><");_198=dojo.trim(_198);var _199={responseText:_198};_195=dojo._contentHandlers["xml"](_199);}}else{_195=ifd.getElementsByTagName("textarea")[0].value;if(_197=="json"){_195=dojo.fromJson(_195);}else{if(_197=="javascript"){_195=dojo.eval(_195);}}}}}catch(e){_195=e;}finally{_196._callNext();}return _195;},function(_19a,dfd){dfd.ioArgs._hasError=true;dfd.ioArgs._callNext();return _19a;});dfd.ioArgs._callNext=function(){if(!this["_calledNext"]){this._calledNext=true;dojo.io.iframe._currentDfd=null;dojo.io.iframe._fireNextRequest();}};this._dfdQueue.push(dfd);this._fireNextRequest();dojo._ioWatch(dfd,function(dfd){return !dfd.ioArgs["_hasError"];},function(dfd){return (!!dfd.ioArgs["_finished"]);},function(dfd){if(dfd.ioArgs._finished){dfd.callback(dfd);}else{dfd.errback(new Error("Invalid dojo.io.iframe request state"));}});return dfd;},_currentDfd:null,_dfdQueue:[],_iframeName:dojo._scopeName+"IoIframe",_fireNextRequest:function(){try{if((this._currentDfd)||(this._dfdQueue.length==0)){return;}do{var dfd=this._currentDfd=this._dfdQueue.shift();}while(dfd&&dfd.canceled&&this._dfdQueue.length);if(!dfd||dfd.canceled){this._currentDfd=null;return;}var _19b=dfd.ioArgs;var args=_19b.args;_19b._contentToClean=[];var fn=dojo.byId(args["form"]);var _19c=args["content"]||{};if(fn){if(_19c){var _19d=function(name,_19e){var tn;if(dojo.isIE){tn=dojo.doc.createElement("<input type='hidden' name='"+name+"'>");}else{tn=dojo.doc.createElement("input");tn.type="hidden";tn.name=name;}tn.value=_19e;fn.appendChild(tn);_19b._contentToClean.push(name);};for(var x in _19c){var val=_19c[x];if(dojo.isArray(val)&&val.length>1){var i;for(i=0;i<val.length;i++){_19d(x,val[i]);}}else{if(!fn[x]){_19d(x,val);}else{fn[x].value=val;}}}}var _19f=fn.getAttributeNode("action");var _1a0=fn.getAttributeNode("method");var _1a1=fn.getAttributeNode("target");if(args["url"]){_19b._originalAction=_19f?_19f.value:null;if(_19f){_19f.value=args.url;}else{fn.setAttribute("action",args.url);}}if(!_1a0||!_1a0.value){if(_1a0){_1a0.value=(args["method"])?args["method"]:"post";}else{fn.setAttribute("method",(args["method"])?args["method"]:"post");}}_19b._originalTarget=_1a1?_1a1.value:null;if(_1a1){_1a1.value=this._iframeName;}else{fn.setAttribute("target",this._iframeName);}fn.target=this._iframeName;dojo._ioNotifyStart(dfd);fn.submit();}else{var _1a2=args.url+(args.url.indexOf("?")>-1?"&":"?")+_19b.query;dojo._ioNotifyStart(dfd);this.setSrc(this._frame,_1a2,true);}}catch(e){dfd.errback(e);}},_iframeOnload:function(){var dfd=this._currentDfd;if(!dfd){this._fireNextRequest();return;}var _1a3=dfd.ioArgs;var args=_1a3.args;var _1a4=dojo.byId(args.form);if(_1a4){var _1a5=_1a3._contentToClean;for(var i=0;i<_1a5.length;i++){var key=_1a5[i];for(var j=0;j<_1a4.childNodes.length;j++){var _1a6=_1a4.childNodes[j];if(_1a6.name==key){dojo.destroy(_1a6);break;}}}if(_1a3["_originalAction"]){_1a4.setAttribute("action",_1a3._originalAction);}if(_1a3["_originalTarget"]){_1a4.setAttribute("target",_1a3._originalTarget);_1a4.target=_1a3._originalTarget;}}_1a3._finished=true;}};}if(!dojo._hasResource["mpCorePlugin.Image"]){dojo._hasResource["mpCorePlugin.Image"]=true;dojo.provide("mpCorePlugin.Image");dojo.mixin(mpCorePlugin.Image,{uploadImage:function(form,_1a7,_1a8){_1a8=_1a8||"first";dojo.io.iframe.send({form:form,handleAs:"json",method:"post",handle:function(_1a9,_1aa){if("success"==_1a9.status){dojo.place(dojo.trim(_1a9.html),_1a7,_1a8);dojo.style(_1a7,"display","");}}});}});}if(!dojo._hasResource["app.Image"]){dojo._hasResource["app.Image"]=true;dojo.provide("app.Image");dojo.mixin(app.Image,{uploadImage:function(form,_1ab,_1ac){return mpCorePlugin.Image.uploadImage(form,_1ab,_1ac);},editImage:function(url,_1ad){mpCorePlugin.Toolkit.AjaxUpdater(_1ad,{url:url},"get");},deleteImage:function(url,_1ae){dojo.xhrPost({url:url,handle:function(_1af,_1b0){dojo.query("#"+_1ae).orphan();}});},cancelEditMode:function(url,_1b1){dojo.xhrGet({url:url,handle:function(_1b2,_1b3){dojo.place(dojo.trim(_1b2),_1b1,"replace");}});},saveEditMode:function(form,_1b4){dojo.xhrPost({form:form,handle:function(_1b5,_1b6){dojo.place(dojo.trim(_1b5),_1b4,"replace");}});}});}if(!dojo._hasResource["app.Favorite"]){dojo._hasResource["app.Favorite"]=true;dojo.provide("app.Favorite");dojo.mixin(app.Favorite,{});dojo.provide("app.Favorite.DetailLayer");dojo.mixin(app.Favorite.DetailLayer,{show:function(_1b7){dojo.style("contentoverlay","display","");dojo.fadeIn({node:"contentoverlay"}).play();if("string"==typeof (_1b7)){aObj=dojo.query("a[item_slug="+_1b7+"]")[0];dojo.style("contentoverlay","top",(dojo.coords(aObj,true).y-100)+"px");}},display:function(aObj){mpCorePlugin.Toolkit.AjaxUpdater("contentoverlay",{url:aObj.href,onSuccess:function(data){dojo.style("contentoverlay","top",(dojo.coords(aObj,true).y-100)+"px");dojo.style("contentoverlay","opacity",0);app.Favorite.DetailLayer.show();dojo.query("#listLinks .box .ListItemActive").removeClass("ListItemActive");dojo.addClass(dojo.attr(aObj,"container_id"),"ListItemActive");}});return false;},close:function(){dojo.fadeOut({node:"contentoverlay",onEnd:function(){dojo.style("contentoverlay","display","none");}}).play();dojo.query("#listLinks .box .ListItemActive").removeClass("ListItemActive");}});}if(!dojo._hasResource["dojo.i18n"]){dojo._hasResource["dojo.i18n"]=true;dojo.provide("dojo.i18n");dojo.i18n.getLocalization=function(_1b8,_1b9,_1ba){_1ba=dojo.i18n.normalizeLocale(_1ba);var _1bb=_1ba.split("-");var _1bc=[_1b8,"nls",_1b9].join(".");var _1bd=dojo._loadedModules[_1bc];if(_1bd){var _1be;for(var i=_1bb.length;i>0;i--){var loc=_1bb.slice(0,i).join("_");if(_1bd[loc]){_1be=_1bd[loc];break;}}if(!_1be){_1be=_1bd.ROOT;}if(_1be){var _1bf=function(){};_1bf.prototype=_1be;return new _1bf();}}throw new Error("Bundle not found: "+_1b9+" in "+_1b8+" , locale="+_1ba);};dojo.i18n.normalizeLocale=function(_1c0){var _1c1=_1c0?_1c0.toLowerCase():dojo.locale;if(_1c1=="root"){_1c1="ROOT";}return _1c1;};dojo.i18n._requireLocalization=function(_1c2,_1c3,_1c4,_1c5){var _1c6=dojo.i18n.normalizeLocale(_1c4);var _1c7=[_1c2,"nls",_1c3].join(".");var _1c8="";if(_1c5){var _1c9=_1c5.split(",");for(var i=0;i<_1c9.length;i++){if(_1c6["indexOf"](_1c9[i])==0){if(_1c9[i].length>_1c8.length){_1c8=_1c9[i];}}}if(!_1c8){_1c8="ROOT";}}var _1ca=_1c5?_1c8:_1c6;var _1cb=dojo._loadedModules[_1c7];var _1cc=null;if(_1cb){if(dojo.config.localizationComplete&&_1cb._built){return;}var _1cd=_1ca.replace(/-/g,"_");var _1ce=_1c7+"."+_1cd;_1cc=dojo._loadedModules[_1ce];}if(!_1cc){_1cb=dojo["provide"](_1c7);var syms=dojo._getModuleSymbols(_1c2);var _1cf=syms.concat("nls").join("/");var _1d0;dojo.i18n._searchLocalePath(_1ca,_1c5,function(loc){var _1d1=loc.replace(/-/g,"_");var _1d2=_1c7+"."+_1d1;var _1d3=false;if(!dojo._loadedModules[_1d2]){dojo["provide"](_1d2);var _1d4=[_1cf];if(loc!="ROOT"){_1d4.push(loc);}_1d4.push(_1c3);var _1d5=_1d4.join("/")+".js";_1d3=dojo._loadPath(_1d5,null,function(hash){var _1d6=function(){};_1d6.prototype=_1d0;_1cb[_1d1]=new _1d6();for(var j in hash){_1cb[_1d1][j]=hash[j];}});}else{_1d3=true;}if(_1d3&&_1cb[_1d1]){_1d0=_1cb[_1d1];}else{_1cb[_1d1]=_1d0;}if(_1c5){return true;}});}if(_1c5&&_1c6!=_1c8){_1cb[_1c6.replace(/-/g,"_")]=_1cb[_1c8.replace(/-/g,"_")];}};(function(){var _1d7=dojo.config.extraLocale;if(_1d7){if(!_1d7 instanceof Array){_1d7=[_1d7];}var req=dojo.i18n._requireLocalization;dojo.i18n._requireLocalization=function(m,b,_1d8,_1d9){req(m,b,_1d8,_1d9);if(_1d8){return;}for(var i=0;i<_1d7.length;i++){req(m,b,_1d7[i],_1d9);}};}})();dojo.i18n._searchLocalePath=function(_1da,down,_1db){_1da=dojo.i18n.normalizeLocale(_1da);var _1dc=_1da.split("-");var _1dd=[];for(var i=_1dc.length;i>0;i--){_1dd.push(_1dc.slice(0,i).join("-"));}_1dd.push(false);if(down){_1dd.reverse();}for(var j=_1dd.length-1;j>=0;j--){var loc=_1dd[j]||"ROOT";var stop=_1db(loc);if(stop){break;}}};dojo.i18n._preloadLocalizations=function(_1de,_1df){function _1e0(_1e1){_1e1=dojo.i18n.normalizeLocale(_1e1);dojo.i18n._searchLocalePath(_1e1,true,function(loc){for(var i=0;i<_1df.length;i++){if(_1df[i]==loc){dojo["require"](_1de+"_"+loc);return true;}}return false;});};_1e0();var _1e2=dojo.config.extraLocale||[];for(var i=0;i<_1e2.length;i++){_1e0(_1e2[i]);}};}if(!dojo._hasResource["dijit._Container"]){dojo._hasResource["dijit._Container"]=true;dojo.provide("dijit._Container");dojo.declare("dijit._Container",null,{isContainer:true,buildRendering:function(){this.inherited(arguments);if(!this.containerNode){this.containerNode=this.domNode;}},addChild:function(_1e3,_1e4){var _1e5=this.containerNode;if(_1e4&&typeof _1e4=="number"){var _1e6=this.getChildren();if(_1e6&&_1e6.length>=_1e4){_1e5=_1e6[_1e4-1].domNode;_1e4="after";}}dojo.place(_1e3.domNode,_1e5,_1e4);if(this._started&&!_1e3._started){_1e3.startup();}},removeChild:function(_1e7){if(typeof _1e7=="number"&&_1e7>0){_1e7=this.getChildren()[_1e7];}if(_1e7&&_1e7.domNode){var node=_1e7.domNode;node.parentNode.removeChild(node);}},getChildren:function(){return dojo.query("> [widgetId]",this.containerNode).map(dijit.byNode);},hasChildren:function(){return dojo.query("> [widgetId]",this.containerNode).length>0;},destroyDescendants:function(_1e8){dojo.forEach(this.getChildren(),function(_1e9){_1e9.destroyRecursive(_1e8);});},_getSiblingOfChild:function(_1ea,dir){var node=_1ea.domNode,_1eb=(dir>0?"nextSibling":"previousSibling");do{node=node[_1eb];}while(node&&(node.nodeType!=1||!dijit.byNode(node)));return node&&dijit.byNode(node);},getIndexOfChild:function(_1ec){return dojo.indexOf(this.getChildren(),_1ec);},startup:function(){if(this._started){return;}dojo.forEach(this.getChildren(),function(_1ed){_1ed.startup();});this.inherited(arguments);}});}if(!dojo._hasResource["dijit.form._FormWidget"]){dojo._hasResource["dijit.form._FormWidget"]=true;dojo.provide("dijit.form._FormWidget");dojo.declare("dijit.form._FormWidget",[dijit._Widget,dijit._Templated],{baseClass:"",name:"",alt:"",value:"",type:"text",tabIndex:"0",disabled:false,intermediateChanges:false,scrollOnFocus:true,attributeMap:dojo.delegate(dijit._Widget.prototype.attributeMap,{value:"focusNode",id:"focusNode",tabIndex:"focusNode",alt:"focusNode",title:"focusNode"}),postMixInProperties:function(){this.nameAttrSetting=this.name?("name='"+this.name+"'"):"";this.inherited(arguments);},_setDisabledAttr:function(_1ee){this.disabled=_1ee;dojo.attr(this.focusNode,"disabled",_1ee);if(this.valueNode){dojo.attr(this.valueNode,"disabled",_1ee);}dijit.setWaiState(this.focusNode,"disabled",_1ee);if(_1ee){this._hovering=false;this._active=false;this.focusNode.setAttribute("tabIndex","-1");}else{this.focusNode.setAttribute("tabIndex",this.tabIndex);}this._setStateClass();},setDisabled:function(_1ef){dojo.deprecated("setDisabled("+_1ef+") is deprecated. Use attr('disabled',"+_1ef+") instead.","","2.0");this.attr("disabled",_1ef);},_onFocus:function(e){if(this.scrollOnFocus){dijit.scrollIntoView(this.domNode);}this.inherited(arguments);},_onMouse:function(_1f0){var _1f1=_1f0.currentTarget;if(_1f1&&_1f1.getAttribute){this.stateModifier=_1f1.getAttribute("stateModifier")||"";}if(!this.disabled){switch(_1f0.type){case "mouseenter":case "mouseover":this._hovering=true;this._active=this._mouseDown;break;case "mouseout":case "mouseleave":this._hovering=false;this._active=false;break;case "mousedown":this._active=true;this._mouseDown=true;var _1f2=this.connect(dojo.body(),"onmouseup",function(){if(this._mouseDown&&this.isFocusable()){this.focus();}this._active=false;this._mouseDown=false;this._setStateClass();this.disconnect(_1f2);});break;}this._setStateClass();}},isFocusable:function(){return !this.disabled&&!this.readOnly&&this.focusNode&&(dojo.style(this.domNode,"display")!="none");},focus:function(){dijit.focus(this.focusNode);},_setStateClass:function(){var _1f3=this.baseClass.split(" ");function _1f4(_1f5){_1f3=_1f3.concat(dojo.map(_1f3,function(c){return c+_1f5;}),"dijit"+_1f5);};if(this.checked){_1f4("Checked");}if(this.state){_1f4(this.state);}if(this.selected){_1f4("Selected");}if(this.disabled){_1f4("Disabled");}else{if(this.readOnly){_1f4("ReadOnly");}else{if(this._active){_1f4(this.stateModifier+"Active");}else{if(this._focused){_1f4("Focused");}if(this._hovering){_1f4(this.stateModifier+"Hover");}}}}var tn=this.stateNode||this.domNode,_1f6={};dojo.forEach(tn.className.split(" "),function(c){_1f6[c]=true;});if("_stateClasses" in this){dojo.forEach(this._stateClasses,function(c){delete _1f6[c];});}dojo.forEach(_1f3,function(c){_1f6[c]=true;});var _1f7=[];for(var c in _1f6){_1f7.push(c);}tn.className=_1f7.join(" ");this._stateClasses=_1f3;},compare:function(val1,val2){if(typeof val1=="number"&&typeof val2=="number"){return (isNaN(val1)&&isNaN(val2))?0:val1-val2;}else{if(val1>val2){return 1;}else{if(val1<val2){return -1;}else{return 0;}}}},onChange:function(_1f8){},_onChangeActive:false,_handleOnChange:function(_1f9,_1fa){this._lastValue=_1f9;if(this._lastValueReported==undefined&&(_1fa===null||!this._onChangeActive)){this._resetValue=this._lastValueReported=_1f9;}if((this.intermediateChanges||_1fa||_1fa===undefined)&&((typeof _1f9!=typeof this._lastValueReported)||this.compare(_1f9,this._lastValueReported)!=0)){this._lastValueReported=_1f9;if(this._onChangeActive){if(this._onChangeHandle){clearTimeout(this._onChangeHandle);}this._onChangeHandle=setTimeout(dojo.hitch(this,function(){this._onChangeHandle=null;this.onChange(_1f9);}),0);}}},create:function(){this.inherited(arguments);this._onChangeActive=true;this._setStateClass();},destroy:function(){if(this._onChangeHandle){clearTimeout(this._onChangeHandle);this.onChange(this._lastValueReported);}this.inherited(arguments);},setValue:function(_1fb){dojo.deprecated("dijit.form._FormWidget:setValue("+_1fb+") is deprecated.  Use attr('value',"+_1fb+") instead.","","2.0");this.attr("value",_1fb);},getValue:function(){dojo.deprecated(this.declaredClass+"::getValue() is deprecated. Use attr('value') instead.","","2.0");return this.attr("value");}});dojo.declare("dijit.form._FormValueWidget",dijit.form._FormWidget,{readOnly:false,attributeMap:dojo.delegate(dijit.form._FormWidget.prototype.attributeMap,{value:"",readOnly:"focusNode"}),_setReadOnlyAttr:function(_1fc){this.readOnly=_1fc;dojo.attr(this.focusNode,"readOnly",_1fc);dijit.setWaiState(this.focusNode,"readonly",_1fc);this._setStateClass();},postCreate:function(){if(dojo.isIE){this.connect(this.focusNode||this.domNode,"onkeydown",this._onKeyDown);}if(this._resetValue===undefined){this._resetValue=this.value;}},_setValueAttr:function(_1fd,_1fe){this.value=_1fd;this._handleOnChange(_1fd,_1fe);},_getValueAttr:function(){return this._lastValue;},undo:function(){this._setValueAttr(this._lastValueReported,false);},reset:function(){this._hasBeenBlurred=false;this._setValueAttr(this._resetValue,true);},_onKeyDown:function(e){if(e.keyCode==dojo.keys.ESCAPE&&!(e.ctrlKey||e.altKey||e.metaKey)){var te;if(dojo.isIE){e.preventDefault();te=document.createEventObject();te.keyCode=dojo.keys.ESCAPE;te.shiftKey=e.shiftKey;e.srcElement.fireEvent("onkeypress",te);}}},_layoutHackIE7:function(){if(dojo.isIE==7){var _1ff=this.domNode;var _200=_1ff.parentNode;var _201=_1ff.firstChild||_1ff;var _202=_201.style.filter;while(_200&&_200.clientHeight==0){_200._disconnectHandle=this.connect(_200,"onscroll",dojo.hitch(this,function(e){this.disconnect(_200._disconnectHandle);_200.removeAttribute("_disconnectHandle");_201.style.filter=(new Date()).getMilliseconds();setTimeout(function(){_201.style.filter=_202;},0);}));_200=_200.parentNode;}}}});}if(!dojo._hasResource["dijit._HasDropDown"]){dojo._hasResource["dijit._HasDropDown"]=true;dojo.provide("dijit._HasDropDown");dojo.declare("dijit._HasDropDown",null,{_buttonNode:null,_arrowWrapperNode:null,_popupStateNode:null,_aroundNode:null,dropDown:null,autoWidth:true,forceWidth:false,maxHeight:0,dropDownPosition:["below","above"],_stopClickEvents:true,_onDropDownMouse:function(e){if(e.type=="click"&&!this._seenKeydown){return;}this._seenKeydown=false;if(e.type=="mousedown"){this._docHandler=this.connect(dojo.doc,"onmouseup","_onDropDownMouseup");}if(this.disabled||this.readOnly){return;}if(this._stopClickEvents){dojo.stopEvent(e);}this.toggleDropDown();if(e.type=="click"||e.type=="keypress"){this._onDropDownMouseup();}},_onDropDownMouseup:function(e){if(e&&this._docHandler){this.disconnect(this._docHandler);}var _203=this.dropDown,_204=false;if(e&&this._opened){var c=dojo.position(this._buttonNode,true);if(!(e.pageX>=c.x&&e.pageX<=c.x+c.w)||!(e.pageY>=c.y&&e.pageY<=c.y+c.h)){var t=e.target;while(t&&!_204){if(dojo.hasClass(t,"dijitPopup")){_204=true;}else{t=t.parentNode;}}if(_204){t=e.target;if(_203.onItemClick){var _205;while(t&&!(_205=dijit.byNode(t))){t=t.parentNode;}if(_205&&_205.onClick&&_205.getParent){_205.getParent().onItemClick(_205,e);}}return;}}}if(this._opened&&_203.focus){window.setTimeout(dojo.hitch(_203,"focus"),1);}},_setupDropdown:function(){this._buttonNode=this._buttonNode||this.focusNode||this.domNode;this._popupStateNode=this._popupStateNode||this.focusNode||this._buttonNode;this._aroundNode=this._aroundNode||this.domNode;this.connect(this._buttonNode,"onmousedown","_onDropDownMouse");this.connect(this._buttonNode,"onclick","_onDropDownMouse");this.connect(this._buttonNode,"onkeydown","_onDropDownKeydown");this.connect(this._buttonNode,"onblur","_onDropDownBlur");this.connect(this._buttonNode,"onkeypress","_onKey");if(this._setStateClass){this.connect(this,"openDropDown","_setStateClass");this.connect(this,"closeDropDown","_setStateClass");}var _206={"after":this.isLeftToRight()?"Right":"Left","before":this.isLeftToRight()?"Left":"Right","above":"Up","below":"Down","left":"Left","right":"Right"}[this.dropDownPosition[0]]||this.dropDownPosition[0]||"Down";dojo.addClass(this._arrowWrapperNode||this._buttonNode,"dijit"+_206+"ArrowButton");},postCreate:function(){this._setupDropdown();this.inherited(arguments);},destroyDescendants:function(){if(this.dropDown){if(!this.dropDown._destroyed){this.dropDown.destroyRecursive();}delete this.dropDown;}this.inherited(arguments);},_onDropDownKeydown:function(e){this._seenKeydown=true;},_onKeyPress:function(e){if(this._opened&&e.charOrCode==dojo.keys.ESCAPE&&!e.shiftKey&&!e.ctrlKey&&!e.altKey){this.toggleDropDown();dojo.stopEvent(e);return;}this.inherited(arguments);},_onDropDownBlur:function(e){this._seenKeydown=false;},_onKey:function(e){if(this.disabled||this.readOnly){return;}var d=this.dropDown;if(d&&this._opened&&d.handleKey){if(d.handleKey(e)===false){return;}}if(d&&this._opened&&e.keyCode==dojo.keys.ESCAPE){this.toggleDropDown();return;}if(e.keyCode==dojo.keys.DOWN_ARROW||e.keyCode==dojo.keys.ENTER||e.charOrCode==" "){this._onDropDownMouse(e);}},_onBlur:function(){this.closeDropDown();this.inherited(arguments);},isLoaded:function(){return true;},loadDropDown:function(_207){_207();},toggleDropDown:function(){if(this.disabled||this.readOnly){return;}this.focus();var _208=this.dropDown;if(!_208){return;}if(!this._opened){if(!this.isLoaded()){this.loadDropDown(dojo.hitch(this,"openDropDown"));return;}else{this.openDropDown();}}else{this.closeDropDown();}},openDropDown:function(){var _209=this.dropDown;var _20a=_209.domNode;var self=this;if(!this._preparedNode){dijit.popup.moveOffScreen(_20a);this._preparedNode=true;if(_20a.style.width){this._explicitDDWidth=true;}if(_20a.style.height){this._explicitDDHeight=true;}}if(this.maxHeight||this.forceWidth||this.autoWidth){var _20b={display:"",visibility:"hidden"};if(!this._explicitDDWidth){_20b.width="";}if(!this._explicitDDHeight){_20b.height="";}dojo.style(_20a,_20b);var mb=dojo.marginBox(_20a);var _20c=(this.maxHeight&&mb.h>this.maxHeight);dojo.style(_20a,{overflow:_20c?"auto":"hidden"});if(this.forceWidth){mb.w=this.domNode.offsetWidth;}else{if(this.autoWidth){mb.w=Math.max(mb.w,this.domNode.offsetWidth);}else{delete mb.w;}}if(_20c){mb.h=this.maxHeight;if("w" in mb){mb.w+=16;}}else{delete mb.h;}delete mb.t;delete mb.l;if(dojo.isFunction(_209.resize)){_209.resize(mb);}else{dojo.marginBox(_20a,mb);}}var _20d=dijit.popup.open({parent:this,popup:_209,around:this._aroundNode,orient:dijit.getPopupAroundAlignment((this.dropDownPosition&&this.dropDownPosition.length)?this.dropDownPosition:["below"],this.isLeftToRight()),onExecute:function(){self.closeDropDown(true);},onCancel:function(){self.closeDropDown(true);},onClose:function(){dojo.attr(self._popupStateNode,"popupActive",false);dojo.removeClass(self._popupStateNode,"dijitHasDropDownOpen");self._opened=false;self.state="";}});dojo.attr(this._popupStateNode,"popupActive","true");dojo.addClass(self._popupStateNode,"dijitHasDropDownOpen");this._opened=true;this.state="Opened";return _20d;},closeDropDown:function(_20e){if(this._opened){dijit.popup.close(this.dropDown);if(_20e){this.focus();}this._opened=false;this.state="";}}});}if(!dojo._hasResource["dijit.form.Button"]){dojo._hasResource["dijit.form.Button"]=true;dojo.provide("dijit.form.Button");dojo.declare("dijit.form.Button",dijit.form._FormWidget,{label:"",showLabel:true,iconClass:"",type:"button",baseClass:"dijitButton",templateString:dojo.cache("dijit.form","templates/Button.html","<span class=\"dijit dijitReset dijitLeft dijitInline\"\n\tdojoAttachEvent=\"onclick:_onButtonClick,onmouseenter:_onMouse,onmouseleave:_onMouse,onmousedown:_onMouse\"\n\t><span class=\"dijitReset dijitRight dijitInline\"\n\t\t><span class=\"dijitReset dijitInline dijitButtonNode\"\n\t\t\t><button class=\"dijitReset dijitStretch dijitButtonContents\"\n\t\t\t\tdojoAttachPoint=\"titleNode,focusNode\"\n\t\t\t\t${nameAttrSetting} type=\"${type}\" value=\"${value}\" waiRole=\"button\" waiState=\"labelledby-${id}_label\"\n\t\t\t\t><span class=\"dijitReset dijitInline\" dojoAttachPoint=\"iconNode\"\n\t\t\t\t\t><span class=\"dijitReset dijitToggleButtonIconChar\">&#10003;</span\n\t\t\t\t></span\n\t\t\t\t><span class=\"dijitReset dijitInline dijitButtonText\"\n\t\t\t\t\tid=\"${id}_label\"\n\t\t\t\t\tdojoAttachPoint=\"containerNode\"\n\t\t\t\t></span\n\t\t\t></button\n\t\t></span\n\t></span\n></span>\n"),attributeMap:dojo.delegate(dijit.form._FormWidget.prototype.attributeMap,{label:{node:"containerNode",type:"innerHTML"},iconClass:{node:"iconNode",type:"class"}}),_onClick:function(e){if(this.disabled){return false;}this._clicked();return this.onClick(e);},_onButtonClick:function(e){if(this._onClick(e)===false){e.preventDefault();}else{if(this.type=="submit"&&!this.focusNode.form){for(var node=this.domNode;node.parentNode;node=node.parentNode){var _20f=dijit.byNode(node);if(_20f&&typeof _20f._onSubmit=="function"){_20f._onSubmit(e);break;}}}}},_setValueAttr:function(_210){var attr=this.attributeMap.value||"";if(this[attr.node||attr||"domNode"].tagName=="BUTTON"){if(_210!=this.value){console.debug("Cannot change the value attribute on a Button widget.");}}},_fillContent:function(_211){if(_211&&(!this.params||!("label" in this.params))){this.attr("label",_211.innerHTML);}},postCreate:function(){dojo.setSelectable(this.focusNode,false);this.inherited(arguments);},_setShowLabelAttr:function(val){if(this.containerNode){dojo.toggleClass(this.containerNode,"dijitDisplayNone",!val);}this.showLabel=val;},onClick:function(e){return true;},_clicked:function(e){},setLabel:function(_212){dojo.deprecated("dijit.form.Button.setLabel() is deprecated.  Use attr('label', ...) instead.","","2.0");this.attr("label",_212);},_setLabelAttr:function(_213){this.containerNode.innerHTML=this.label=_213;if(this.showLabel==false&&!this.params.title){this.titleNode.title=dojo.trim(this.containerNode.innerText||this.containerNode.textContent||"");}}});dojo.declare("dijit.form.DropDownButton",[dijit.form.Button,dijit._Container,dijit._HasDropDown],{baseClass:"dijitDropDownButton",templateString:dojo.cache("dijit.form","templates/DropDownButton.html","<span class=\"dijit dijitReset dijitLeft dijitInline\"\n\tdojoAttachPoint=\"_buttonNode\"\n\tdojoAttachEvent=\"onmouseenter:_onMouse,onmouseleave:_onMouse,onmousedown:_onMouse\"\n\t><span class='dijitReset dijitRight dijitInline'\n\t\t><span class='dijitReset dijitInline dijitButtonNode'\n\t\t\t><button class=\"dijitReset dijitStretch dijitButtonContents\"\n\t\t\t\t${nameAttrSetting} type=\"${type}\" value=\"${value}\"\n\t\t\t\tdojoAttachPoint=\"focusNode,titleNode,_arrowWrapperNode\"\n\t\t\t\twaiRole=\"button\" waiState=\"haspopup-true,labelledby-${id}_label\"\n\t\t\t\t><span class=\"dijitReset dijitInline\"\n\t\t\t\t\tdojoAttachPoint=\"iconNode\"\n\t\t\t\t></span\n\t\t\t\t><span class=\"dijitReset dijitInline dijitButtonText\"\n\t\t\t\t\tdojoAttachPoint=\"containerNode,_popupStateNode\"\n\t\t\t\t\tid=\"${id}_label\"\n\t\t\t\t></span\n\t\t\t\t><span class=\"dijitReset dijitInline dijitArrowButtonInner\">&thinsp;</span\n\t\t\t\t><span class=\"dijitReset dijitInline dijitArrowButtonChar\">&#9660;</span\n\t\t\t></button\n\t\t></span\n\t></span\n></span>\n"),_fillContent:function(){if(this.srcNodeRef){var _214=dojo.query("*",this.srcNodeRef);dijit.form.DropDownButton.superclass._fillContent.call(this,_214[0]);this.dropDownContainer=this.srcNodeRef;}},startup:function(){if(this._started){return;}if(!this.dropDown){var _215=dojo.query("[widgetId]",this.dropDownContainer)[0];this.dropDown=dijit.byNode(_215);delete this.dropDownContainer;}dijit.popup.moveOffScreen(this.dropDown.domNode);this.inherited(arguments);},isLoaded:function(){var _216=this.dropDown;return (!_216.href||_216.isLoaded);},loadDropDown:function(){var _217=this.dropDown;if(!_217){return;}if(!this.isLoaded()){var _218=dojo.connect(_217,"onLoad",this,function(){dojo.disconnect(_218);this.openDropDown();});_217.refresh();}else{this.openDropDown();}},isFocusable:function(){return this.inherited(arguments)&&!this._mouseDown;}});dojo.declare("dijit.form.ComboButton",dijit.form.DropDownButton,{templateString:dojo.cache("dijit.form","templates/ComboButton.html","<table class='dijit dijitReset dijitInline dijitLeft'\n\tcellspacing='0' cellpadding='0' waiRole=\"presentation\"\n\t><tbody waiRole=\"presentation\"><tr waiRole=\"presentation\"\n\t\t><td class=\"dijitReset dijitStretch dijitButtonNode\"><button id=\"${id}_button\" class=\"dijitReset dijitButtonContents\"\n\t\t\tdojoAttachEvent=\"onclick:_onButtonClick,onmouseenter:_onMouse,onmouseleave:_onMouse,onmousedown:_onMouse,onkeypress:_onButtonKeyPress\"  dojoAttachPoint=\"titleNode\"\n\t\t\twaiRole=\"button\" waiState=\"labelledby-${id}_label\"\n\t\t\t><div class=\"dijitReset dijitInline\" dojoAttachPoint=\"iconNode\" waiRole=\"presentation\"></div\n\t\t\t><div class=\"dijitReset dijitInline dijitButtonText\" id=\"${id}_label\" dojoAttachPoint=\"containerNode\" waiRole=\"presentation\"></div\n\t\t></button></td\n\t\t><td id=\"${id}_arrow\" class='dijitReset dijitRight dijitButtonNode dijitArrowButton'\n\t\t\tdojoAttachPoint=\"_popupStateNode,focusNode,_buttonNode\"\n\t\t\tdojoAttachEvent=\"onmouseenter:_onMouse,onmouseleave:_onMouse,onkeypress:_onArrowKeyPress\"\n\t\t\tstateModifier=\"DownArrow\"\n\t\t\ttitle=\"${optionsTitle}\" ${nameAttrSetting}\n\t\t\twaiRole=\"button\" waiState=\"haspopup-true\"\n\t\t\t><div class=\"dijitReset dijitArrowButtonInner\" waiRole=\"presentation\">&thinsp;</div\n\t\t\t><div class=\"dijitReset dijitArrowButtonChar\" waiRole=\"presentation\">&#9660;</div\n\t\t></td\n\t></tr></tbody\n></table>\n"),attributeMap:dojo.mixin(dojo.clone(dijit.form.Button.prototype.attributeMap),{id:"",tabIndex:["focusNode","titleNode"],title:"titleNode"}),optionsTitle:"",baseClass:"dijitComboButton",_focusedNode:null,postCreate:function(){this.inherited(arguments);this._focalNodes=[this.titleNode,this._popupStateNode];var isIE=dojo.isIE;dojo.forEach(this._focalNodes,dojo.hitch(this,function(node){this.connect(node,isIE?"onactivate":"onfocus",this._onNodeFocus);this.connect(node,isIE?"ondeactivate":"onblur",this._onNodeBlur);}));if(isIE&&(isIE<8||dojo.isQuirks)){with(this.titleNode){style.width=scrollWidth+"px";this.connect(this.titleNode,"onresize",function(){setTimeout(function(){style.width=scrollWidth+"px";},0);});}}},_onNodeFocus:function(evt){this._focusedNode=evt.currentTarget;var fnc=this._focusedNode==this.focusNode?"dijitDownArrowButtonFocused":"dijitButtonContentsFocused";dojo.addClass(this._focusedNode,fnc);},_onNodeBlur:function(evt){var fnc=evt.currentTarget==this.focusNode?"dijitDownArrowButtonFocused":"dijitButtonContentsFocused";dojo.removeClass(evt.currentTarget,fnc);},_onBlur:function(){this.inherited(arguments);this._focusedNode=null;},_onButtonKeyPress:function(evt){if(evt.charOrCode==dojo.keys[this.isLeftToRight()?"RIGHT_ARROW":"LEFT_ARROW"]){dijit.focus(this._popupStateNode);dojo.stopEvent(evt);}},_onArrowKeyPress:function(evt){if(evt.charOrCode==dojo.keys[this.isLeftToRight()?"LEFT_ARROW":"RIGHT_ARROW"]){dijit.focus(this.titleNode);dojo.stopEvent(evt);}},focus:function(_219){dijit.focus(_219=="start"?this.titleNode:this._popupStateNode);}});dojo.declare("dijit.form.ToggleButton",dijit.form.Button,{baseClass:"dijitToggleButton",checked:false,attributeMap:dojo.mixin(dojo.clone(dijit.form.Button.prototype.attributeMap),{checked:"focusNode"}),_clicked:function(evt){this.attr("checked",!this.checked);},_setCheckedAttr:function(_21a){this.checked=_21a;dojo.attr(this.focusNode||this.domNode,"checked",_21a);dijit.setWaiState(this.focusNode||this.domNode,"pressed",_21a);this._setStateClass();this._handleOnChange(_21a,true);},setChecked:function(_21b){dojo.deprecated("setChecked("+_21b+") is deprecated. Use attr('checked',"+_21b+") instead.","","2.0");this.attr("checked",_21b);},reset:function(){this._hasBeenBlurred=false;this.attr("checked",this.params.checked||false);}});}if(!dojo._hasResource["dijit.form.TextBox"]){dojo._hasResource["dijit.form.TextBox"]=true;dojo.provide("dijit.form.TextBox");dojo.declare("dijit.form.TextBox",dijit.form._FormValueWidget,{trim:false,uppercase:false,lowercase:false,propercase:false,maxLength:"",selectOnClick:false,templateString:dojo.cache("dijit.form","templates/TextBox.html","<input class=\"dijit dijitReset dijitLeft\" dojoAttachPoint='textbox,focusNode'\n\tdojoAttachEvent='onmouseenter:_onMouse,onmouseleave:_onMouse'\n\tautocomplete=\"off\" type=\"${type}\" ${nameAttrSetting}\n\t/>\n"),baseClass:"dijitTextBox",attributeMap:dojo.delegate(dijit.form._FormValueWidget.prototype.attributeMap,{maxLength:"focusNode"}),_getValueAttr:function(){return this.parse(this.attr("displayedValue"),this.constraints);},_setValueAttr:function(_21c,_21d,_21e){var _21f;if(_21c!==undefined){_21f=this.filter(_21c);if(typeof _21e!="string"){if(_21f!==null&&((typeof _21f!="number")||!isNaN(_21f))){_21e=this.filter(this.format(_21f,this.constraints));}else{_21e="";}}}if(_21e!=null&&_21e!=undefined&&((typeof _21e)!="number"||!isNaN(_21e))&&this.textbox.value!=_21e){this.textbox.value=_21e;}this.inherited(arguments,[_21f,_21d]);},displayedValue:"",getDisplayedValue:function(){dojo.deprecated(this.declaredClass+"::getDisplayedValue() is deprecated. Use attr('displayedValue') instead.","","2.0");return this.attr("displayedValue");},_getDisplayedValueAttr:function(){return this.filter(this.textbox.value);},setDisplayedValue:function(_220){dojo.deprecated(this.declaredClass+"::setDisplayedValue() is deprecated. Use attr('displayedValue', ...) instead.","","2.0");this.attr("displayedValue",_220);},_setDisplayedValueAttr:function(_221){if(_221===null||_221===undefined){_221="";}else{if(typeof _221!="string"){_221=String(_221);}}this.textbox.value=_221;this._setValueAttr(this.attr("value"),undefined,_221);},format:function(_222,_223){return ((_222==null||_222==undefined)?"":(_222.toString?_222.toString():_222));},parse:function(_224,_225){return _224;},_refreshState:function(){},_onInput:function(e){if(e&&e.type&&/key/i.test(e.type)&&e.keyCode){switch(e.keyCode){case dojo.keys.SHIFT:case dojo.keys.ALT:case dojo.keys.CTRL:case dojo.keys.TAB:return;}}if(this.intermediateChanges){var _226=this;setTimeout(function(){_226._handleOnChange(_226.attr("value"),false);},0);}this._refreshState();},postCreate:function(){this.textbox.setAttribute("value",this.textbox.value);this.inherited(arguments);if(dojo.isMoz||dojo.isOpera){this.connect(this.textbox,"oninput",this._onInput);}else{this.connect(this.textbox,"onkeydown",this._onInput);this.connect(this.textbox,"onkeyup",this._onInput);this.connect(this.textbox,"onpaste",this._onInput);this.connect(this.textbox,"oncut",this._onInput);}},_blankValue:"",filter:function(val){if(val===null){return this._blankValue;}if(typeof val!="string"){return val;}if(this.trim){val=dojo.trim(val);}if(this.uppercase){val=val.toUpperCase();}if(this.lowercase){val=val.toLowerCase();}if(this.propercase){val=val.replace(/[^\s]+/g,function(word){return word.substring(0,1).toUpperCase()+word.substring(1);});}return val;},_setBlurValue:function(){this._setValueAttr(this.attr("value"),true);},_onBlur:function(e){if(this.disabled){return;}this._setBlurValue();this.inherited(arguments);if(this._selectOnClickHandle){this.disconnect(this._selectOnClickHandle);}if(this.selectOnClick&&dojo.isMoz){this.textbox.selectionStart=this.textbox.selectionEnd=undefined;}},_onFocus:function(by){if(this.disabled||this.readOnly){return;}if(this.selectOnClick&&by=="mouse"){this._selectOnClickHandle=this.connect(this.domNode,"onmouseup",function(){this.disconnect(this._selectOnClickHandle);var _227;if(dojo.isIE){var _228=dojo.doc.selection.createRange();var _229=_228.parentElement();_227=_229==this.textbox&&_228.text.length==0;}else{_227=this.textbox.selectionStart==this.textbox.selectionEnd;}if(_227){dijit.selectInputText(this.textbox);}});}this._refreshState();this.inherited(arguments);},reset:function(){this.textbox.value="";this.inherited(arguments);}});dijit.selectInputText=function(_22a,_22b,stop){var _22c=dojo.global;var _22d=dojo.doc;_22a=dojo.byId(_22a);if(isNaN(_22b)){_22b=0;}if(isNaN(stop)){stop=_22a.value?_22a.value.length:0;}dijit.focus(_22a);if(_22d["selection"]&&dojo.body()["createTextRange"]){if(_22a.createTextRange){var _22e=_22a.createTextRange();with(_22e){collapse(true);moveStart("character",-99999);moveStart("character",_22b);moveEnd("character",stop-_22b);select();}}}else{if(_22c["getSelection"]){if(_22a.setSelectionRange){_22a.setSelectionRange(_22b,stop);}}}};}if(!dojo._hasResource["dijit.InlineEditBox"]){dojo._hasResource["dijit.InlineEditBox"]=true;dojo.provide("dijit.InlineEditBox");dojo.declare("dijit.InlineEditBox",dijit._Widget,{editing:false,autoSave:true,buttonSave:"",buttonCancel:"",renderAsHtml:false,editor:"dijit.form.TextBox",editorWrapper:"dijit._InlineEditor",editorParams:{},onChange:function(_22f){},onCancel:function(){},width:"100%",value:"",noValueIndicator:"<span style='font-family: wingdings; text-decoration: underline;'>&nbsp;&nbsp;&nbsp;&nbsp;&#x270d;&nbsp;&nbsp;&nbsp;&nbsp;</span>",constructor:function(){this.editorParams={};},postMixInProperties:function(){this.inherited(arguments);this.displayNode=this.srcNodeRef;var _230={ondijitclick:"_onClick",onmouseover:"_onMouseOver",onmouseout:"_onMouseOut",onfocus:"_onMouseOver",onblur:"_onMouseOut"};for(var name in _230){this.connect(this.displayNode,name,_230[name]);}dijit.setWaiRole(this.displayNode,"button");if(!this.displayNode.getAttribute("tabIndex")){this.displayNode.setAttribute("tabIndex",0);}this.attr("value",this.value||this.displayNode.innerHTML);},setDisabled:function(_231){dojo.deprecated("dijit.InlineEditBox.setDisabled() is deprecated.  Use attr('disabled', bool) instead.","","2.0");this.attr("disabled",_231);},_setDisabledAttr:function(_232){this.disabled=_232;dijit.setWaiState(this.domNode,"disabled",_232);if(_232){this.displayNode.removeAttribute("tabIndex");}else{this.displayNode.setAttribute("tabIndex",0);}},_onMouseOver:function(){dojo.addClass(this.displayNode,this.disabled?"dijitDisabledClickableRegion":"dijitClickableRegion");},_onMouseOut:function(){dojo.removeClass(this.displayNode,this.disabled?"dijitDisabledClickableRegion":"dijitClickableRegion");},_onClick:function(e){if(this.disabled){return;}if(e){dojo.stopEvent(e);}this._onMouseOut();setTimeout(dojo.hitch(this,"edit"),0);},edit:function(){if(this.disabled||this.editing){return;}this.editing=true;this._savedPosition=dojo.style(this.displayNode,"position")||"static";this._savedOpacity=dojo.style(this.displayNode,"opacity")||"1";this._savedTabIndex=dojo.attr(this.displayNode,"tabIndex")||"0";if(this.wrapperWidget){this.wrapperWidget.editWidget.attr("displayedValue" in this.editorParams?"displayedValue":"value",this.value);}else{var _233=dojo.create("span",null,this.domNode,"before");var ewc=dojo.getObject(this.editorWrapper);this.wrapperWidget=new ewc({value:this.value,buttonSave:this.buttonSave,buttonCancel:this.buttonCancel,tabIndex:this._savedTabIndex,editor:this.editor,inlineEditBox:this,sourceStyle:dojo.getComputedStyle(this.displayNode),save:dojo.hitch(this,"save"),cancel:dojo.hitch(this,"cancel")},_233);}var ww=this.wrapperWidget;if(dojo.isIE){dijit.focus(dijit.getFocus());}dojo.style(this.displayNode,{position:"absolute",opacity:"0",display:"none"});dojo.style(ww.domNode,{position:this._savedPosition,visibility:"visible",opacity:"1"});dojo.attr(this.displayNode,"tabIndex","-1");setTimeout(dojo.hitch(this,function(){ww.focus();ww._resetValue=ww.getValue();}),0);},_onBlur:function(){this.inherited(arguments);if(!this.editing){setTimeout(dojo.hitch(this,function(){if(this.wrapperWidget){this.wrapperWidget.destroy();delete this.wrapperWidget;}}),0);}},_showText:function(_234){var ww=this.wrapperWidget;dojo.style(ww.domNode,{position:"absolute",visibility:"hidden",opacity:"0"});dojo.style(this.displayNode,{position:this._savedPosition,opacity:this._savedOpacity,display:""});dojo.attr(this.displayNode,"tabIndex",this._savedTabIndex);if(_234){dijit.focus(this.displayNode);}},save:function(_235){if(this.disabled||!this.editing){return;}this.editing=false;var ww=this.wrapperWidget;var _236=ww.getValue();this.attr("value",_236);setTimeout(dojo.hitch(this,"onChange",_236),0);this._showText(_235);},setValue:function(val){dojo.deprecated("dijit.InlineEditBox.setValue() is deprecated.  Use attr('value', ...) instead.","","2.0");return this.attr("value",val);},_setValueAttr:function(val){this.value=val=dojo.trim(val);if(!this.renderAsHtml){val=val.replace(/&/gm,"&amp;").replace(/</gm,"&lt;").replace(/>/gm,"&gt;").replace(/"/gm,"&quot;").replace(/\n/g,"<br>");}this.displayNode.innerHTML=val||this.noValueIndicator;},getValue:function(){dojo.deprecated("dijit.InlineEditBox.getValue() is deprecated.  Use attr('value') instead.","","2.0");return this.attr("value");},cancel:function(_237){if(this.disabled||!this.editing){return;}this.editing=false;setTimeout(dojo.hitch(this,"onCancel"),0);this._showText(_237);}});dojo.declare("dijit._InlineEditor",[dijit._Widget,dijit._Templated],{templateString:dojo.cache("dijit","templates/InlineEditBox.html","<span dojoAttachPoint=\"editNode\" waiRole=\"presentation\" style=\"position: absolute; visibility:hidden\" class=\"dijitReset dijitInline\"\n\tdojoAttachEvent=\"onkeypress: _onKeyPress\"\n\t><span dojoAttachPoint=\"editorPlaceholder\"></span\n\t><span dojoAttachPoint=\"buttonContainer\"\n\t\t><button class='saveButton' dojoAttachPoint=\"saveButton\" dojoType=\"dijit.form.Button\" dojoAttachEvent=\"onClick:save\" label=\"${buttonSave}\"></button\n\t\t><button class='cancelButton' dojoAttachPoint=\"cancelButton\" dojoType=\"dijit.form.Button\" dojoAttachEvent=\"onClick:cancel\" label=\"${buttonCancel}\"></button\n\t></span\n></span>\n"),widgetsInTemplate:true,postMixInProperties:function(){this.inherited(arguments);this.messages=dojo.i18n.getLocalization("dijit","common",this.lang);dojo.forEach(["buttonSave","buttonCancel"],function(prop){if(!this[prop]){this[prop]=this.messages[prop];}},this);},postCreate:function(){var cls=dojo.getObject(this.editor);var _238=this.sourceStyle;var _239="line-height:"+_238.lineHeight+";";dojo.forEach(["Weight","Family","Size","Style"],function(prop){_239+="font-"+prop+":"+_238["font"+prop]+";";},this);dojo.forEach(["marginTop","marginBottom","marginLeft","marginRight"],function(prop){this.domNode.style[prop]=_238[prop];},this);var _23a=this.inlineEditBox.width;if(_23a=="100%"){_239+="width:100%;";this.domNode.style.display="block";}else{_239+="width:"+(_23a+(Number(_23a)==_23a?"px":""))+";";}var _23b=this.inlineEditBox.editorParams;_23b.style=_239;_23b["displayedValue" in cls.prototype?"displayedValue":"value"]=this.value;var ew=this.editWidget=new cls(_23b,this.editorPlaceholder);if(this.inlineEditBox.autoSave){this.buttonContainer.style.display="none";this.connect(ew,"onChange","_onChange");this.connect(ew,"onKeyPress","_onKeyPress");}else{if("intermediateChanges" in cls.prototype){ew.attr("intermediateChanges",true);this.connect(ew,"onChange","_onIntermediateChange");this.saveButton.attr("disabled",true);}}},_onIntermediateChange:function(val){this.saveButton.attr("disabled",(this.getValue()==this._resetValue)||!this.enableSave());},destroy:function(){this.editWidget.destroy(true);this.inherited(arguments);},getValue:function(){var ew=this.editWidget;return String(ew.attr("displayedValue" in ew?"displayedValue":"value"));},_onKeyPress:function(e){if(this.inlineEditBox.autoSave&&this.inlineEditBox.editing){if(e.altKey||e.ctrlKey){return;}if(e.charOrCode==dojo.keys.ESCAPE){dojo.stopEvent(e);this.cancel(true);}else{if(e.charOrCode==dojo.keys.ENTER&&e.target.tagName=="INPUT"){dojo.stopEvent(e);this._onChange();}}}},_onBlur:function(){this.inherited(arguments);if(this.inlineEditBox.autoSave&&this.inlineEditBox.editing){if(this.getValue()==this._resetValue){this.cancel(false);}else{if(this.enableSave()){this.save(false);}}}},_onChange:function(){if(this.inlineEditBox.autoSave&&this.inlineEditBox.editing&&this.enableSave()){dojo.style(this.inlineEditBox.displayNode,{display:""});dijit.focus(this.inlineEditBox.displayNode);}},enableSave:function(){return (this.editWidget.isValid?this.editWidget.isValid():true);},focus:function(){this.editWidget.focus();setTimeout(dojo.hitch(this,function(){if(this.editWidget.focusNode.tagName=="INPUT"){dijit.selectInputText(this.editWidget.focusNode);}}),0);}});}if(!dojo._hasResource["app.InlineEditBoxWrapper"]){dojo._hasResource["app.InlineEditBoxWrapper"]=true;dojo.provide("app.InlineEditBoxWrapper");dojo.declare("app.InlineEditBoxWrapper",dijit._InlineEditor,{autoSave:false,templateString:dojo.cache("app","templates/InlineEditBox.html","<span dojoAttachPoint=\"editNode\" waiRole=\"presentation\" style=\"position: absolute; visibility:hidden\" class=\"dijitReset dijitInline\" dojoAttachEvent=\"onkeypress: _onKeyPress\">\n  <span dojoAttachPoint=\"editorPlaceholder\"></span>\n  <span dojoAttachPoint=\"buttonContainer\">\n    <button class='saveButton' dojoAttachPoint=\"saveButton\" dojoType=\"dijit.form.Button\" dojoAttachEvent=\"onClick:save\" label=\"${buttonSave}\"></button>\n    <button class='cancelButton' dojoAttachPoint=\"cancelButton\" dojoType=\"dijit.form.Button\" dojoAttachEvent=\"onClick:cancel\" label=\"${buttonCancel}\"></button>\n  </span>\n</span>\n")});}if(!dojo._hasResource["mpCorePlugin.DivertingMenu"]){dojo._hasResource["mpCorePlugin.DivertingMenu"]=true;dojo.provide("mpCorePlugin.DivertingMenu");dojo.mixin(mpCorePlugin.DivertingMenu,{_timer:null,handleMouseOver:function(e){window.clearTimeout(this._timer);this._handleHighlighting(e.target.parentNode);this._displaySubNodes(e.target);dojo.stopEvent(e);return;},handleMouseOut:function(e){this._timer=window.setTimeout(dojo.hitch(this,"_resetMenu"),50);dojo.stopEvent(e);},_handleHighlighting:function(node){if(1==this._getNodeDepth(node)){this._getNodesOnSameLevel(node).removeClass("naviActiveParent");dojo.addClass(node,"naviActiveParent");}},_resetMenu:function(){dojo.query(".mpDivertingMenu li ul").style("display","none");dojo.query(".mpDivertingMenu li[is_active_initially=\"1\"] ul").style("display","");var _23c=dojo.query(".mpDivertingMenu li[is_active_initially=\"1\"][depth=\"1\"]")[0];this._getNodesOnSameLevel(_23c).removeClass("naviActiveParent");dojo.addClass(_23c,"naviActiveParent");},_getNodesOnSameLevel:function(node){return dojo.query(".mpDivertingMenu li[depth="+this._getNodeDepth(node)+"]");},_displaySubNodes:function(node){dojo.query("ul",node.parentNode.parentNode).style("display","none");dojo.query("ul",node.parentNode).style("display","");},_isActiveInitially:function(node){return "1"==dojo.attr(node,"is_active_initially");},_isLeaf:function(node){return "1"==dojo.attr(node,"is_leaf");},_hasChildren:function(node){return "1"==dojo.attr(node,"has_children");},_getNodeDepth:function(node){return dojo.attr(node,"depth");}});dojo.addOnLoad(function(node){dojo.query(".mpDivertingMenu a").connect("mouseenter",dojo.hitch(mpCorePlugin.DivertingMenu,mpCorePlugin.DivertingMenu.handleMouseOver));dojo.query(".mpDivertingMenu").connect("mouseleave",dojo.hitch(mpCorePlugin.DivertingMenu,mpCorePlugin.DivertingMenu.handleMouseOut));});}if(!dojo._hasResource["dojo.data.util.filter"]){dojo._hasResource["dojo.data.util.filter"]=true;dojo.provide("dojo.data.util.filter");dojo.data.util.filter.patternToRegExp=function(_23d,_23e){var rxp="^";var c=null;for(var i=0;i<_23d.length;i++){c=_23d.charAt(i);switch(c){case "\\":rxp+=c;i++;rxp+=_23d.charAt(i);break;case "*":rxp+=".*";break;case "?":rxp+=".";break;case "$":case "^":case "/":case "+":case ".":case "|":case "(":case ")":case "{":case "}":case "[":case "]":rxp+="\\";default:rxp+=c;}}rxp+="$";if(_23e){return new RegExp(rxp,"mi");}else{return new RegExp(rxp,"m");}};}if(!dojo._hasResource["dojo.data.util.sorter"]){dojo._hasResource["dojo.data.util.sorter"]=true;dojo.provide("dojo.data.util.sorter");dojo.data.util.sorter.basicComparator=function(a,b){var r=-1;if(a===null){a=undefined;}if(b===null){b=undefined;}if(a==b){r=0;}else{if(a>b||a==null){r=1;}}return r;};dojo.data.util.sorter.createSortFunction=function(_23f,_240){var _241=[];function _242(attr,dir,comp,s){return function(_243,_244){var a=s.getValue(_243,attr);var b=s.getValue(_244,attr);return dir*comp(a,b);};};var _245;var map=_240.comparatorMap;var bc=dojo.data.util.sorter.basicComparator;for(var i=0;i<_23f.length;i++){_245=_23f[i];var attr=_245.attribute;if(attr){var dir=(_245.descending)?-1:1;var comp=bc;if(map){if(typeof attr!=="string"&&("toString" in attr)){attr=attr.toString();}comp=map[attr]||bc;}_241.push(_242(attr,dir,comp,_240));}}return function(rowA,rowB){var i=0;while(i<_241.length){var ret=_241[i++](rowA,rowB);if(ret!==0){return ret;}}return 0;};};}if(!dojo._hasResource["dojo.data.util.simpleFetch"]){dojo._hasResource["dojo.data.util.simpleFetch"]=true;dojo.provide("dojo.data.util.simpleFetch");dojo.data.util.simpleFetch.fetch=function(_246){_246=_246||{};if(!_246.store){_246.store=this;}var self=this;var _247=function(_248,_249){if(_249.onError){var _24a=_249.scope||dojo.global;_249.onError.call(_24a,_248,_249);}};var _24b=function(_24c,_24d){var _24e=_24d.abort||null;var _24f=false;var _250=_24d.start?_24d.start:0;var _251=(_24d.count&&(_24d.count!==Infinity))?(_250+_24d.count):_24c.length;_24d.abort=function(){_24f=true;if(_24e){_24e.call(_24d);}};var _252=_24d.scope||dojo.global;if(!_24d.store){_24d.store=self;}if(_24d.onBegin){_24d.onBegin.call(_252,_24c.length,_24d);}if(_24d.sort){_24c.sort(dojo.data.util.sorter.createSortFunction(_24d.sort,self));}if(_24d.onItem){for(var i=_250;(i<_24c.length)&&(i<_251);++i){var item=_24c[i];if(!_24f){_24d.onItem.call(_252,item,_24d);}}}if(_24d.onComplete&&!_24f){var _253=null;if(!_24d.onItem){_253=_24c.slice(_250,_251);}_24d.onComplete.call(_252,_253,_24d);}};this._fetchItems(_246,_24b,_247);return _246;};}if(!dojo._hasResource["dojo.data.ItemFileReadStore"]){dojo._hasResource["dojo.data.ItemFileReadStore"]=true;dojo.provide("dojo.data.ItemFileReadStore");dojo.declare("dojo.data.ItemFileReadStore",null,{constructor:function(_254){this._arrayOfAllItems=[];this._arrayOfTopLevelItems=[];this._loadFinished=false;this._jsonFileUrl=_254.url;this._ccUrl=_254.url;this.url=_254.url;this._jsonData=_254.data;this.data=null;this._datatypeMap=_254.typeMap||{};if(!this._datatypeMap["Date"]){this._datatypeMap["Date"]={type:Date,deserialize:function(_255){return dojo.date.stamp.fromISOString(_255);}};}this._features={"dojo.data.api.Read":true,"dojo.data.api.Identity":true};this._itemsByIdentity=null;this._storeRefPropName="_S";this._itemNumPropName="_0";this._rootItemPropName="_RI";this._reverseRefMap="_RRM";this._loadInProgress=false;this._queuedFetches=[];if(_254.urlPreventCache!==undefined){this.urlPreventCache=_254.urlPreventCache?true:false;}if(_254.hierarchical!==undefined){this.hierarchical=_254.hierarchical?true:false;}if(_254.clearOnClose){this.clearOnClose=true;}if("failOk" in _254){this.failOk=_254.failOk?true:false;}},url:"",_ccUrl:"",data:null,typeMap:null,clearOnClose:false,urlPreventCache:false,failOk:false,hierarchical:true,_assertIsItem:function(item){if(!this.isItem(item)){throw new Error("dojo.data.ItemFileReadStore: Invalid item argument.");}},_assertIsAttribute:function(_256){if(typeof _256!=="string"){throw new Error("dojo.data.ItemFileReadStore: Invalid attribute argument.");}},getValue:function(item,_257,_258){var _259=this.getValues(item,_257);return (_259.length>0)?_259[0]:_258;},getValues:function(item,_25a){this._assertIsItem(item);this._assertIsAttribute(_25a);return item[_25a]||[];},getAttributes:function(item){this._assertIsItem(item);var _25b=[];for(var key in item){if((key!==this._storeRefPropName)&&(key!==this._itemNumPropName)&&(key!==this._rootItemPropName)&&(key!==this._reverseRefMap)){_25b.push(key);}}return _25b;},hasAttribute:function(item,_25c){this._assertIsItem(item);this._assertIsAttribute(_25c);return (_25c in item);},containsValue:function(item,_25d,_25e){var _25f=undefined;if(typeof _25e==="string"){_25f=dojo.data.util.filter.patternToRegExp(_25e,false);}return this._containsValue(item,_25d,_25e,_25f);},_containsValue:function(item,_260,_261,_262){return dojo.some(this.getValues(item,_260),function(_263){if(_263!==null&&!dojo.isObject(_263)&&_262){if(_263.toString().match(_262)){return true;}}else{if(_261===_263){return true;}}});},isItem:function(_264){if(_264&&_264[this._storeRefPropName]===this){if(this._arrayOfAllItems[_264[this._itemNumPropName]]===_264){return true;}}return false;},isItemLoaded:function(_265){return this.isItem(_265);},loadItem:function(_266){this._assertIsItem(_266.item);},getFeatures:function(){return this._features;},getLabel:function(item){if(this._labelAttr&&this.isItem(item)){return this.getValue(item,this._labelAttr);}return undefined;},getLabelAttributes:function(item){if(this._labelAttr){return [this._labelAttr];}return null;},_fetchItems:function(_267,_268,_269){var self=this;var _26a=function(_26b,_26c){var _26d=[];var i,key;if(_26b.query){var _26e;var _26f=_26b.queryOptions?_26b.queryOptions.ignoreCase:false;var _270={};for(key in _26b.query){_26e=_26b.query[key];if(typeof _26e==="string"){_270[key]=dojo.data.util.filter.patternToRegExp(_26e,_26f);}else{if(_26e instanceof RegExp){_270[key]=_26e;}}}for(i=0;i<_26c.length;++i){var _271=true;var _272=_26c[i];if(_272===null){_271=false;}else{for(key in _26b.query){_26e=_26b.query[key];if(!self._containsValue(_272,key,_26e,_270[key])){_271=false;}}}if(_271){_26d.push(_272);}}_268(_26d,_26b);}else{for(i=0;i<_26c.length;++i){var item=_26c[i];if(item!==null){_26d.push(item);}}_268(_26d,_26b);}};if(this._loadFinished){_26a(_267,this._getItemsArray(_267.queryOptions));}else{if(this._jsonFileUrl!==this._ccUrl){dojo.deprecated("dojo.data.ItemFileReadStore: ","To change the url, set the url property of the store,"+" not _jsonFileUrl.  _jsonFileUrl support will be removed in 2.0");this._ccUrl=this._jsonFileUrl;this.url=this._jsonFileUrl;}else{if(this.url!==this._ccUrl){this._jsonFileUrl=this.url;this._ccUrl=this.url;}}if(this.data!=null&&this._jsonData==null){this._jsonData=this.data;this.data=null;}if(this._jsonFileUrl){if(this._loadInProgress){this._queuedFetches.push({args:_267,filter:_26a});}else{this._loadInProgress=true;var _273={url:self._jsonFileUrl,handleAs:"json-comment-optional",preventCache:this.urlPreventCache,failOk:this.failOk};var _274=dojo.xhrGet(_273);_274.addCallback(function(data){try{self._getItemsFromLoadedData(data);self._loadFinished=true;self._loadInProgress=false;_26a(_267,self._getItemsArray(_267.queryOptions));self._handleQueuedFetches();}catch(e){self._loadFinished=true;self._loadInProgress=false;_269(e,_267);}});_274.addErrback(function(_275){self._loadInProgress=false;_269(_275,_267);});var _276=null;if(_267.abort){_276=_267.abort;}_267.abort=function(){var df=_274;if(df&&df.fired===-1){df.cancel();df=null;}if(_276){_276.call(_267);}};}}else{if(this._jsonData){try{this._loadFinished=true;this._getItemsFromLoadedData(this._jsonData);this._jsonData=null;_26a(_267,this._getItemsArray(_267.queryOptions));}catch(e){_269(e,_267);}}else{_269(new Error("dojo.data.ItemFileReadStore: No JSON source data was provided as either URL or a nested Javascript object."),_267);}}}},_handleQueuedFetches:function(){if(this._queuedFetches.length>0){for(var i=0;i<this._queuedFetches.length;i++){var _277=this._queuedFetches[i];var _278=_277.args;var _279=_277.filter;if(_279){_279(_278,this._getItemsArray(_278.queryOptions));}else{this.fetchItemByIdentity(_278);}}this._queuedFetches=[];}},_getItemsArray:function(_27a){if(_27a&&_27a.deep){return this._arrayOfAllItems;}return this._arrayOfTopLevelItems;},close:function(_27b){if(this.clearOnClose&&this._loadFinished&&!this._loadInProgress){if(((this._jsonFileUrl==""||this._jsonFileUrl==null)&&(this.url==""||this.url==null))&&this.data==null){console.debug("dojo.data.ItemFileReadStore: WARNING!  Data reload "+" information has not been provided."+"  Please set 'url' or 'data' to the appropriate value before"+" the next fetch");}this._arrayOfAllItems=[];this._arrayOfTopLevelItems=[];this._loadFinished=false;this._itemsByIdentity=null;this._loadInProgress=false;this._queuedFetches=[];}},_getItemsFromLoadedData:function(_27c){var _27d=false;var self=this;function _27e(_27f){var _280=((_27f!==null)&&(typeof _27f==="object")&&(!dojo.isArray(_27f)||_27d)&&(!dojo.isFunction(_27f))&&(_27f.constructor==Object||dojo.isArray(_27f))&&(typeof _27f._reference==="undefined")&&(typeof _27f._type==="undefined")&&(typeof _27f._value==="undefined")&&self.hierarchical);return _280;};function _281(_282){self._arrayOfAllItems.push(_282);for(var _283 in _282){var _284=_282[_283];if(_284){if(dojo.isArray(_284)){var _285=_284;for(var k=0;k<_285.length;++k){var _286=_285[k];if(_27e(_286)){_281(_286);}}}else{if(_27e(_284)){_281(_284);}}}}};this._labelAttr=_27c.label;var i;var item;this._arrayOfAllItems=[];this._arrayOfTopLevelItems=_27c.items;for(i=0;i<this._arrayOfTopLevelItems.length;++i){item=this._arrayOfTopLevelItems[i];if(dojo.isArray(item)){_27d=true;}_281(item);item[this._rootItemPropName]=true;}var _287={};var key;for(i=0;i<this._arrayOfAllItems.length;++i){item=this._arrayOfAllItems[i];for(key in item){if(key!==this._rootItemPropName){var _288=item[key];if(_288!==null){if(!dojo.isArray(_288)){item[key]=[_288];}}else{item[key]=[null];}}_287[key]=key;}}while(_287[this._storeRefPropName]){this._storeRefPropName+="_";}while(_287[this._itemNumPropName]){this._itemNumPropName+="_";}while(_287[this._reverseRefMap]){this._reverseRefMap+="_";}var _289;var _28a=_27c.identifier;if(_28a){this._itemsByIdentity={};this._features["dojo.data.api.Identity"]=_28a;for(i=0;i<this._arrayOfAllItems.length;++i){item=this._arrayOfAllItems[i];_289=item[_28a];var _28b=_289[0];if(!this._itemsByIdentity[_28b]){this._itemsByIdentity[_28b]=item;}else{if(this._jsonFileUrl){throw new Error("dojo.data.ItemFileReadStore:  The json data as specified by: ["+this._jsonFileUrl+"] is malformed.  Items within the list have identifier: ["+_28a+"].  Value collided: ["+_28b+"]");}else{if(this._jsonData){throw new Error("dojo.data.ItemFileReadStore:  The json data provided by the creation arguments is malformed.  Items within the list have identifier: ["+_28a+"].  Value collided: ["+_28b+"]");}}}}}else{this._features["dojo.data.api.Identity"]=Number;}for(i=0;i<this._arrayOfAllItems.length;++i){item=this._arrayOfAllItems[i];item[this._storeRefPropName]=this;item[this._itemNumPropName]=i;}for(i=0;i<this._arrayOfAllItems.length;++i){item=this._arrayOfAllItems[i];for(key in item){_289=item[key];for(var j=0;j<_289.length;++j){_288=_289[j];if(_288!==null&&typeof _288=="object"){if(("_type" in _288)&&("_value" in _288)){var type=_288._type;var _28c=this._datatypeMap[type];if(!_28c){throw new Error("dojo.data.ItemFileReadStore: in the typeMap constructor arg, no object class was specified for the datatype '"+type+"'");}else{if(dojo.isFunction(_28c)){_289[j]=new _28c(_288._value);}else{if(dojo.isFunction(_28c.deserialize)){_289[j]=_28c.deserialize(_288._value);}else{throw new Error("dojo.data.ItemFileReadStore: Value provided in typeMap was neither a constructor, nor a an object with a deserialize function");}}}}if(_288._reference){var _28d=_288._reference;if(!dojo.isObject(_28d)){_289[j]=this._itemsByIdentity[_28d];}else{for(var k=0;k<this._arrayOfAllItems.length;++k){var _28e=this._arrayOfAllItems[k];var _28f=true;for(var _290 in _28d){if(_28e[_290]!=_28d[_290]){_28f=false;}}if(_28f){_289[j]=_28e;}}}if(this.referenceIntegrity){var _291=_289[j];if(this.isItem(_291)){this._addReferenceToMap(_291,item,key);}}}else{if(this.isItem(_288)){if(this.referenceIntegrity){this._addReferenceToMap(_288,item,key);}}}}}}}},_addReferenceToMap:function(_292,_293,_294){},getIdentity:function(item){var _295=this._features["dojo.data.api.Identity"];if(_295===Number){return item[this._itemNumPropName];}else{var _296=item[_295];if(_296){return _296[0];}}return null;},fetchItemByIdentity:function(_297){var item;var _298;if(!this._loadFinished){var self=this;if(this._jsonFileUrl!==this._ccUrl){dojo.deprecated("dojo.data.ItemFileReadStore: ","To change the url, set the url property of the store,"+" not _jsonFileUrl.  _jsonFileUrl support will be removed in 2.0");this._ccUrl=this._jsonFileUrl;this.url=this._jsonFileUrl;}else{if(this.url!==this._ccUrl){this._jsonFileUrl=this.url;this._ccUrl=this.url;}}if(this.data!=null&&this._jsonData==null){this._jsonData=this.data;this.data=null;}if(this._jsonFileUrl){if(this._loadInProgress){this._queuedFetches.push({args:_297});}else{this._loadInProgress=true;var _299={url:self._jsonFileUrl,handleAs:"json-comment-optional",preventCache:this.urlPreventCache,failOk:this.failOk};var _29a=dojo.xhrGet(_299);_29a.addCallback(function(data){var _29b=_297.scope?_297.scope:dojo.global;try{self._getItemsFromLoadedData(data);self._loadFinished=true;self._loadInProgress=false;item=self._getItemByIdentity(_297.identity);if(_297.onItem){_297.onItem.call(_29b,item);}self._handleQueuedFetches();}catch(error){self._loadInProgress=false;if(_297.onError){_297.onError.call(_29b,error);}}});_29a.addErrback(function(_29c){self._loadInProgress=false;if(_297.onError){var _29d=_297.scope?_297.scope:dojo.global;_297.onError.call(_29d,_29c);}});}}else{if(this._jsonData){self._getItemsFromLoadedData(self._jsonData);self._jsonData=null;self._loadFinished=true;item=self._getItemByIdentity(_297.identity);if(_297.onItem){_298=_297.scope?_297.scope:dojo.global;_297.onItem.call(_298,item);}}}}else{item=this._getItemByIdentity(_297.identity);if(_297.onItem){_298=_297.scope?_297.scope:dojo.global;_297.onItem.call(_298,item);}}},_getItemByIdentity:function(_29e){var item=null;if(this._itemsByIdentity){item=this._itemsByIdentity[_29e];}else{item=this._arrayOfAllItems[_29e];}if(item===undefined){item=null;}return item;},getIdentityAttributes:function(item){var _29f=this._features["dojo.data.api.Identity"];if(_29f===Number){return null;}else{return [_29f];}},_forceLoad:function(){var self=this;if(this._jsonFileUrl!==this._ccUrl){dojo.deprecated("dojo.data.ItemFileReadStore: ","To change the url, set the url property of the store,"+" not _jsonFileUrl.  _jsonFileUrl support will be removed in 2.0");this._ccUrl=this._jsonFileUrl;this.url=this._jsonFileUrl;}else{if(this.url!==this._ccUrl){this._jsonFileUrl=this.url;this._ccUrl=this.url;}}if(this.data!=null&&this._jsonData==null){this._jsonData=this.data;this.data=null;}if(this._jsonFileUrl){var _2a0={url:this._jsonFileUrl,handleAs:"json-comment-optional",preventCache:this.urlPreventCache,failOk:this.failOk,sync:true};var _2a1=dojo.xhrGet(_2a0);_2a1.addCallback(function(data){try{if(self._loadInProgress!==true&&!self._loadFinished){self._getItemsFromLoadedData(data);self._loadFinished=true;}else{if(self._loadInProgress){throw new Error("dojo.data.ItemFileReadStore:  Unable to perform a synchronous load, an async load is in progress.");}}}catch(e){console.log(e);throw e;}});_2a1.addErrback(function(_2a2){throw _2a2;});}else{if(this._jsonData){self._getItemsFromLoadedData(self._jsonData);self._jsonData=null;self._loadFinished=true;}}}});dojo.extend(dojo.data.ItemFileReadStore,dojo.data.util.simpleFetch);}if(!dojo._hasResource["dijit.Tooltip"]){dojo._hasResource["dijit.Tooltip"]=true;dojo.provide("dijit.Tooltip");dojo.declare("dijit._MasterTooltip",[dijit._Widget,dijit._Templated],{duration:dijit.defaultDuration,templateString:dojo.cache("dijit","templates/Tooltip.html","<div class=\"dijitTooltip dijitTooltipLeft\" id=\"dojoTooltip\">\n\t<div class=\"dijitTooltipContainer dijitTooltipContents\" dojoAttachPoint=\"containerNode\" waiRole='alert'></div>\n\t<div class=\"dijitTooltipConnector\"></div>\n</div>\n"),postCreate:function(){dojo.body().appendChild(this.domNode);this.bgIframe=new dijit.BackgroundIframe(this.domNode);this.fadeIn=dojo.fadeIn({node:this.domNode,duration:this.duration,onEnd:dojo.hitch(this,"_onShow")});this.fadeOut=dojo.fadeOut({node:this.domNode,duration:this.duration,onEnd:dojo.hitch(this,"_onHide")});},show:function(_2a3,_2a4,_2a5){if(this.aroundNode&&this.aroundNode===_2a4){return;}if(this.fadeOut.status()=="playing"){this._onDeck=arguments;return;}this.containerNode.innerHTML=_2a3;this.domNode.style.top=(this.domNode.offsetTop+1)+"px";var pos=dijit.placeOnScreenAroundElement(this.domNode,_2a4,dijit.getPopupAroundAlignment((_2a5&&_2a5.length)?_2a5:dijit.Tooltip.defaultPosition,this.isLeftToRight()),dojo.hitch(this,"orient"));dojo.style(this.domNode,"opacity",0);this.fadeIn.play();this.isShowingNow=true;this.aroundNode=_2a4;},orient:function(node,_2a6,_2a7){node.className="dijitTooltip "+{"BL-TL":"dijitTooltipBelow dijitTooltipABLeft","TL-BL":"dijitTooltipAbove dijitTooltipABLeft","BR-TR":"dijitTooltipBelow dijitTooltipABRight","TR-BR":"dijitTooltipAbove dijitTooltipABRight","BR-BL":"dijitTooltipRight","BL-BR":"dijitTooltipLeft"}[_2a6+"-"+_2a7];},_onShow:function(){if(dojo.isIE){this.domNode.style.filter="";}},hide:function(_2a8){if(this._onDeck&&this._onDeck[1]==_2a8){this._onDeck=null;}else{if(this.aroundNode===_2a8){this.fadeIn.stop();this.isShowingNow=false;this.aroundNode=null;this.fadeOut.play();}else{}}},_onHide:function(){this.domNode.style.cssText="";if(this._onDeck){this.show.apply(this,this._onDeck);this._onDeck=null;}}});dijit.showTooltip=function(_2a9,_2aa,_2ab){if(!dijit._masterTT){dijit._masterTT=new dijit._MasterTooltip();}return dijit._masterTT.show(_2a9,_2aa,_2ab);};dijit.hideTooltip=function(_2ac){if(!dijit._masterTT){dijit._masterTT=new dijit._MasterTooltip();}return dijit._masterTT.hide(_2ac);};dojo.declare("dijit.Tooltip",dijit._Widget,{label:"",showDelay:400,connectId:[],position:[],constructor:function(){this._nodeConnectionsById={};},_setConnectIdAttr:function(_2ad){for(var _2ae in this._nodeConnectionsById){this.removeTarget(_2ae);}dojo.forEach(dojo.isArrayLike(_2ad)?_2ad:[_2ad],this.addTarget,this);},_getConnectIdAttr:function(){var ary=[];for(var id in this._nodeConnectionsById){ary.push(id);}return ary;},addTarget:function(id){var node=dojo.byId(id);if(!node){return;}if(node.id in this._nodeConnectionsById){return;}this._nodeConnectionsById[node.id]=[this.connect(node,"onmouseenter","_onTargetMouseEnter"),this.connect(node,"onmouseleave","_onTargetMouseLeave"),this.connect(node,"onfocus","_onTargetFocus"),this.connect(node,"onblur","_onTargetBlur")];if(dojo.isIE&&!node.style.zoom){node.style.zoom=1;}},removeTarget:function(node){var id=node.id||node;if(id in this._nodeConnectionsById){dojo.forEach(this._nodeConnectionsById[id],this.disconnect,this);delete this._nodeConnectionsById[id];}},postCreate:function(){dojo.addClass(this.domNode,"dijitTooltipData");},startup:function(){this.inherited(arguments);var ids=this.connectId;dojo.forEach(dojo.isArrayLike(ids)?ids:[ids],this.addTarget,this);},_onTargetMouseEnter:function(e){this._onHover(e);},_onTargetMouseLeave:function(e){this._onUnHover(e);},_onTargetFocus:function(e){this._focus=true;this._onHover(e);},_onTargetBlur:function(e){this._focus=false;this._onUnHover(e);},_onHover:function(e){if(!this._showTimer){var _2af=e.target;this._showTimer=setTimeout(dojo.hitch(this,function(){this.open(_2af);}),this.showDelay);}},_onUnHover:function(e){if(this._focus){return;}if(this._showTimer){clearTimeout(this._showTimer);delete this._showTimer;}this.close();},open:function(_2b0){if(this._showTimer){clearTimeout(this._showTimer);delete this._showTimer;}dijit.showTooltip(this.label||this.domNode.innerHTML,_2b0,this.position);this._connectNode=_2b0;this.onShow(_2b0,this.position);},close:function(){if(this._connectNode){dijit.hideTooltip(this._connectNode);delete this._connectNode;this.onHide();}if(this._showTimer){clearTimeout(this._showTimer);delete this._showTimer;}},onShow:function(_2b1,_2b2){},onHide:function(){},uninitialize:function(){this.close();this.inherited(arguments);}});dijit.Tooltip.defaultPosition=["after","before"];}if(!dojo._hasResource["dijit.form.ValidationTextBox"]){dojo._hasResource["dijit.form.ValidationTextBox"]=true;dojo.provide("dijit.form.ValidationTextBox");dojo.declare("dijit.form.ValidationTextBox",dijit.form.TextBox,{templateString:dojo.cache("dijit.form","templates/ValidationTextBox.html","<div class=\"dijit dijitReset dijitInlineTable dijitLeft\"\n\tid=\"widget_${id}\"\n\tdojoAttachEvent=\"onmouseenter:_onMouse,onmouseleave:_onMouse,onmousedown:_onMouse\" waiRole=\"presentation\"\n\t><div style=\"overflow:hidden;\"\n\t\t><div class=\"dijitReset dijitValidationIcon\"><br></div\n\t\t><div class=\"dijitReset dijitValidationIconText\">&Chi;</div\n\t\t><div class=\"dijitReset dijitInputField\"\n\t\t\t><input class=\"dijitReset\" dojoAttachPoint='textbox,focusNode' autocomplete=\"off\"\n\t\t\t${nameAttrSetting} type='${type}'\n\t\t/></div\n\t></div\n></div>\n"),baseClass:"dijitTextBox",required:false,promptMessage:"",invalidMessage:"$_unset_$",constraints:{},regExp:".*",regExpGen:function(_2b3){return this.regExp;},state:"",tooltipPosition:[],_setValueAttr:function(){this.inherited(arguments);this.validate(this._focused);},validator:function(_2b4,_2b5){return (new RegExp("^(?:"+this.regExpGen(_2b5)+")"+(this.required?"":"?")+"$")).test(_2b4)&&(!this.required||!this._isEmpty(_2b4))&&(this._isEmpty(_2b4)||this.parse(_2b4,_2b5)!==undefined);},_isValidSubset:function(){return this.textbox.value.search(this._partialre)==0;},isValid:function(_2b6){return this.validator(this.textbox.value,this.constraints);},_isEmpty:function(_2b7){return /^\s*$/.test(_2b7);},getErrorMessage:function(_2b8){return this.invalidMessage;},getPromptMessage:function(_2b9){return this.promptMessage;},_maskValidSubsetError:true,validate:function(_2ba){var _2bb="";var _2bc=this.disabled||this.isValid(_2ba);if(_2bc){this._maskValidSubsetError=true;}var _2bd=!_2bc&&_2ba&&this._isValidSubset();var _2be=this._isEmpty(this.textbox.value);if(_2be){this._maskValidSubsetError=true;}this.state=(_2bc||(!this._hasBeenBlurred&&_2be)||_2bd)?"":"Error";if(this.state=="Error"){this._maskValidSubsetError=false;}this._setStateClass();dijit.setWaiState(this.focusNode,"invalid",_2bc?"false":"true");if(_2ba){if(_2be){_2bb=this.getPromptMessage(true);}if(!_2bb&&(this.state=="Error"||(_2bd&&!this._maskValidSubsetError))){_2bb=this.getErrorMessage(true);}}this.displayMessage(_2bb);return _2bc;},_message:"",displayMessage:function(_2bf){if(this._message==_2bf){return;}this._message=_2bf;dijit.hideTooltip(this.domNode);if(_2bf){dijit.showTooltip(_2bf,this.domNode,this.tooltipPosition);}},_refreshState:function(){this.validate(this._focused);this.inherited(arguments);},constructor:function(){this.constraints={};},postMixInProperties:function(){this.inherited(arguments);this.constraints.locale=this.lang;this.messages=dojo.i18n.getLocalization("dijit.form","validate",this.lang);if(this.invalidMessage=="$_unset_$"){this.invalidMessage=this.messages.invalidMessage;}var p=this.regExpGen(this.constraints);this.regExp=p;var _2c0="";if(p!=".*"){this.regExp.replace(/\\.|\[\]|\[.*?[^\\]{1}\]|\{.*?\}|\(\?[=:!]|./g,function(re){switch(re.charAt(0)){case "{":case "+":case "?":case "*":case "^":case "$":case "|":case "(":_2c0+=re;break;case ")":_2c0+="|$)";break;default:_2c0+="(?:"+re+"|$)";break;}});}try{"".search(_2c0);}catch(e){_2c0=this.regExp;console.warn("RegExp error in "+this.declaredClass+": "+this.regExp);}this._partialre="^(?:"+_2c0+")$";},_setDisabledAttr:function(_2c1){this.inherited(arguments);this._refreshState();},_setRequiredAttr:function(_2c2){this.required=_2c2;dijit.setWaiState(this.focusNode,"required",_2c2);this._refreshState();},postCreate:function(){if(dojo.isIE){var s=dojo.getComputedStyle(this.focusNode);if(s){var ff=s.fontFamily;if(ff){this.focusNode.style.fontFamily=ff;}}}this.inherited(arguments);},reset:function(){this._maskValidSubsetError=true;this.inherited(arguments);},_onBlur:function(){this.displayMessage("");this.inherited(arguments);}});dojo.declare("dijit.form.MappedTextBox",dijit.form.ValidationTextBox,{postMixInProperties:function(){this.inherited(arguments);this.nameAttrSetting="";},serialize:function(val,_2c3){return val.toString?val.toString():"";},toString:function(){var val=this.filter(this.attr("value"));return val!=null?(typeof val=="string"?val:this.serialize(val,this.constraints)):"";},validate:function(){this.valueNode.value=this.toString();return this.inherited(arguments);},buildRendering:function(){this.inherited(arguments);this.valueNode=dojo.place("<input type='hidden'"+(this.name?" name='"+this.name+"'":"")+">",this.textbox,"after");},reset:function(){this.valueNode.value="";this.inherited(arguments);}});dojo.declare("dijit.form.RangeBoundTextBox",dijit.form.MappedTextBox,{rangeMessage:"",rangeCheck:function(_2c4,_2c5){return ("min" in _2c5?(this.compare(_2c4,_2c5.min)>=0):true)&&("max" in _2c5?(this.compare(_2c4,_2c5.max)<=0):true);},isInRange:function(_2c6){return this.rangeCheck(this.attr("value"),this.constraints);},_isDefinitelyOutOfRange:function(){var val=this.attr("value");var _2c7=false;var _2c8=false;if("min" in this.constraints){var min=this.constraints.min;min=this.compare(val,((typeof min=="number")&&min>=0&&val!=0)?0:min);_2c7=(typeof min=="number")&&min<0;}if("max" in this.constraints){var max=this.constraints.max;max=this.compare(val,((typeof max!="number")||max>0)?max:0);_2c8=(typeof max=="number")&&max>0;}return _2c7||_2c8;},_isValidSubset:function(){return this.inherited(arguments)&&!this._isDefinitelyOutOfRange();},isValid:function(_2c9){return this.inherited(arguments)&&((this._isEmpty(this.textbox.value)&&!this.required)||this.isInRange(_2c9));},getErrorMessage:function(_2ca){var v=this.attr("value");if(v!==null&&v!==""&&v!==undefined&&!this.isInRange(_2ca)){return this.rangeMessage;}return this.inherited(arguments);},postMixInProperties:function(){this.inherited(arguments);if(!this.rangeMessage){this.messages=dojo.i18n.getLocalization("dijit.form","validate",this.lang);this.rangeMessage=this.messages.rangeMessage;}},postCreate:function(){this.inherited(arguments);if(this.constraints.min!==undefined){dijit.setWaiState(this.focusNode,"valuemin",this.constraints.min);}if(this.constraints.max!==undefined){dijit.setWaiState(this.focusNode,"valuemax",this.constraints.max);}},_setValueAttr:function(_2cb,_2cc){dijit.setWaiState(this.focusNode,"valuenow",_2cb);this.inherited(arguments);}});}if(!dojo._hasResource["dojo.regexp"]){dojo._hasResource["dojo.regexp"]=true;dojo.provide("dojo.regexp");dojo.regexp.escapeString=function(str,_2cd){return str.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,function(ch){if(_2cd&&_2cd.indexOf(ch)!=-1){return ch;}return "\\"+ch;});};dojo.regexp.buildGroupRE=function(arr,re,_2ce){if(!(arr instanceof Array)){return re(arr);}var b=[];for(var i=0;i<arr.length;i++){b.push(re(arr[i]));}return dojo.regexp.group(b.join("|"),_2ce);};dojo.regexp.group=function(_2cf,_2d0){return "("+(_2d0?"?:":"")+_2cf+")";};}if(!dojo._hasResource["dijit.form.ComboBox"]){dojo._hasResource["dijit.form.ComboBox"]=true;dojo.provide("dijit.form.ComboBox");dojo.declare("dijit.form.ComboBoxMixin",null,{item:null,pageSize:Infinity,store:null,fetchProperties:{},query:{},autoComplete:true,highlightMatch:"first",searchDelay:100,searchAttr:"name",labelAttr:"",labelType:"text",queryExpr:"${0}*",ignoreCase:true,hasDownArrow:true,templateString:dojo.cache("dijit.form","templates/ComboBox.html","<div class=\"dijit dijitReset dijitInlineTable dijitLeft\"\n\tid=\"widget_${id}\"\n\tdojoAttachEvent=\"onmouseenter:_onMouse,onmouseleave:_onMouse,onmousedown:_onMouse\" dojoAttachPoint=\"comboNode\" waiRole=\"combobox\" tabIndex=\"-1\"\n\t><div style=\"overflow:hidden;\"\n\t\t><div class='dijitReset dijitRight dijitButtonNode dijitArrowButton dijitDownArrowButton'\n\t\t\tdojoAttachPoint=\"downArrowNode\" waiRole=\"presentation\"\n\t\t\tdojoAttachEvent=\"onmousedown:_onArrowMouseDown,onmouseup:_onMouse,onmouseenter:_onMouse,onmouseleave:_onMouse\"\n\t\t\t><div class=\"dijitArrowButtonInner\">&thinsp;</div\n\t\t\t><div class=\"dijitArrowButtonChar\">&#9660;</div\n\t\t></div\n\t\t><div class=\"dijitReset dijitValidationIcon\"><br></div\n\t\t><div class=\"dijitReset dijitValidationIconText\">&Chi;</div\n\t\t><div class=\"dijitReset dijitInputField\"\n\t\t\t><input ${nameAttrSetting} type=\"text\" autocomplete=\"off\" class='dijitReset'\n\t\t\tdojoAttachEvent=\"onkeypress:_onKeyPress,compositionend\"\n\t\t\tdojoAttachPoint=\"textbox,focusNode\" waiRole=\"textbox\" waiState=\"haspopup-true,autocomplete-list\"\n\t\t/></div\n\t></div\n></div>\n"),baseClass:"dijitComboBox",_getCaretPos:function(_2d1){var pos=0;if(typeof (_2d1.selectionStart)=="number"){pos=_2d1.selectionStart;}else{if(dojo.isIE){var tr=dojo.doc.selection.createRange().duplicate();var ntr=_2d1.createTextRange();tr.move("character",0);ntr.move("character",0);try{ntr.setEndPoint("EndToEnd",tr);pos=String(ntr.text).replace(/\r/g,"").length;}catch(e){}}}return pos;},_setCaretPos:function(_2d2,_2d3){_2d3=parseInt(_2d3);dijit.selectInputText(_2d2,_2d3,_2d3);},_setDisabledAttr:function(_2d4){this.inherited(arguments);dijit.setWaiState(this.comboNode,"disabled",_2d4);},_abortQuery:function(){if(this.searchTimer){clearTimeout(this.searchTimer);this.searchTimer=null;}if(this._fetchHandle){if(this._fetchHandle.abort){this._fetchHandle.abort();}this._fetchHandle=null;}},_onKeyPress:function(evt){var key=evt.charOrCode;if(evt.altKey||((evt.ctrlKey||evt.metaKey)&&(key!="x"&&key!="v"))||key==dojo.keys.SHIFT){return;}var _2d5=false;var _2d6="_startSearchFromInput";var pw=this._popupWidget;var dk=dojo.keys;var _2d7=null;this._prev_key_backspace=false;this._abortQuery();if(this._isShowingNow){pw.handleKey(key);_2d7=pw.getHighlightedOption();}switch(key){case dk.PAGE_DOWN:case dk.DOWN_ARROW:case dk.PAGE_UP:case dk.UP_ARROW:if(!this._isShowingNow){this._arrowPressed();_2d5=true;_2d6="_startSearchAll";}else{this._announceOption(_2d7);}dojo.stopEvent(evt);break;case dk.ENTER:if(_2d7){if(_2d7==pw.nextButton){this._nextSearch(1);dojo.stopEvent(evt);break;}else{if(_2d7==pw.previousButton){this._nextSearch(-1);dojo.stopEvent(evt);break;}}}else{this._setBlurValue();this._setCaretPos(this.focusNode,this.focusNode.value.length);}evt.preventDefault();case dk.TAB:var _2d8=this.attr("displayedValue");if(pw&&(_2d8==pw._messages["previousMessage"]||_2d8==pw._messages["nextMessage"])){break;}if(_2d7){this._selectOption();}if(this._isShowingNow){this._lastQuery=null;this._hideResultList();}break;case " ":if(_2d7){dojo.stopEvent(evt);this._selectOption();this._hideResultList();}else{_2d5=true;}break;case dk.ESCAPE:if(this._isShowingNow){dojo.stopEvent(evt);this._hideResultList();}break;case dk.DELETE:case dk.BACKSPACE:this._prev_key_backspace=true;_2d5=true;break;default:_2d5=typeof key=="string"||key==229;}if(_2d5){this.item=undefined;this.searchTimer=setTimeout(dojo.hitch(this,_2d6),1);}},_autoCompleteText:function(text){var fn=this.focusNode;dijit.selectInputText(fn,fn.value.length);var _2d9=this.ignoreCase?"toLowerCase":"substr";if(text[_2d9](0).indexOf(this.focusNode.value[_2d9](0))==0){var cpos=this._getCaretPos(fn);if((cpos+1)>fn.value.length){fn.value=text;dijit.selectInputText(fn,cpos);}}else{fn.value=text;dijit.selectInputText(fn);}},_openResultList:function(_2da,_2db){this._fetchHandle=null;if(this.disabled||this.readOnly||(_2db.query[this.searchAttr]!=this._lastQuery)){return;}this._popupWidget.clearResultList();if(!_2da.length){this._hideResultList();return;}_2db._maxOptions=this._maxOptions;var _2dc=this._popupWidget.createOptions(_2da,_2db,dojo.hitch(this,"_getMenuLabelFromItem"));this._showResultList();if(_2db.direction){if(1==_2db.direction){this._popupWidget.highlightFirstOption();}else{if(-1==_2db.direction){this._popupWidget.highlightLastOption();}}this._announceOption(this._popupWidget.getHighlightedOption());}else{if(this.autoComplete&&!this._prev_key_backspace&&!/^[*]+$/.test(_2db.query[this.searchAttr])){this._announceOption(_2dc[1]);}}},_showResultList:function(){this._hideResultList();this._arrowPressed();this.displayMessage("");dojo.style(this._popupWidget.domNode,{width:"",height:""});var best=this.open();var _2dd=dojo.marginBox(this._popupWidget.domNode);this._popupWidget.domNode.style.overflow=((best.h==_2dd.h)&&(best.w==_2dd.w))?"hidden":"auto";var _2de=best.w;if(best.h<this._popupWidget.domNode.scrollHeight){_2de+=16;}dojo.marginBox(this._popupWidget.domNode,{h:best.h,w:Math.max(_2de,this.domNode.offsetWidth)});if(_2de<this.domNode.offsetWidth){this._popupWidget.domNode.parentNode.style.left=dojo.position(this.domNode).x+"px";}dijit.setWaiState(this.comboNode,"expanded","true");},_hideResultList:function(){this._abortQuery();if(this._isShowingNow){dijit.popup.close(this._popupWidget);this._arrowIdle();this._isShowingNow=false;dijit.setWaiState(this.comboNode,"expanded","false");dijit.removeWaiState(this.focusNode,"activedescendant");}},_setBlurValue:function(){var _2df=this.attr("displayedValue");var pw=this._popupWidget;if(pw&&(_2df==pw._messages["previousMessage"]||_2df==pw._messages["nextMessage"])){this._setValueAttr(this._lastValueReported,true);}else{if(typeof this.item=="undefined"){this.item=null;this.attr("displayedValue",_2df);}else{if(this.value!=this._lastValueReported){dijit.form._FormValueWidget.prototype._setValueAttr.call(this,this.value,true);}this._refreshState();}}},_onBlur:function(){this._hideResultList();this._arrowIdle();this.inherited(arguments);},_setItemAttr:function(item,_2e0,_2e1){if(!_2e1){_2e1=this.labelFunc(item,this.store);}this.value=this._getValueField()!=this.searchAttr?this.store.getIdentity(item):_2e1;this.item=item;dijit.form.ComboBox.superclass._setValueAttr.call(this,this.value,_2e0,_2e1);},_announceOption:function(node){if(!node){return;}var _2e2;if(node==this._popupWidget.nextButton||node==this._popupWidget.previousButton){_2e2=node.innerHTML;this.item=undefined;this.value="";}else{_2e2=this.labelFunc(node.item,this.store);this.attr("item",node.item,false,_2e2);}this.focusNode.value=this.focusNode.value.substring(0,this._lastInput.length);dijit.setWaiState(this.focusNode,"activedescendant",dojo.attr(node,"id"));this._autoCompleteText(_2e2);},_selectOption:function(evt){if(evt){this._announceOption(evt.target);}this._hideResultList();this._setCaretPos(this.focusNode,this.focusNode.value.length);dijit.form._FormValueWidget.prototype._setValueAttr.call(this,this.value,true);},_onArrowMouseDown:function(evt){if(this.disabled||this.readOnly){return;}dojo.stopEvent(evt);this.focus();if(this._isShowingNow){this._hideResultList();}else{this._startSearchAll();}},_startSearchAll:function(){this._startSearch("");},_startSearchFromInput:function(){this._startSearch(this.focusNode.value.replace(/([\\\*\?])/g,"\\$1"));},_getQueryString:function(text){return dojo.string.substitute(this.queryExpr,[text]);},_startSearch:function(key){if(!this._popupWidget){var _2e3=this.id+"_popup";this._popupWidget=new dijit.form._ComboBoxMenu({onChange:dojo.hitch(this,this._selectOption),id:_2e3});dijit.removeWaiState(this.focusNode,"activedescendant");dijit.setWaiState(this.textbox,"owns",_2e3);}var _2e4=dojo.clone(this.query);this._lastInput=key;this._lastQuery=_2e4[this.searchAttr]=this._getQueryString(key);this.searchTimer=setTimeout(dojo.hitch(this,function(_2e5,_2e6){this.searchTimer=null;var _2e7={queryOptions:{ignoreCase:this.ignoreCase,deep:true},query:_2e5,onBegin:dojo.hitch(this,"_setMaxOptions"),onComplete:dojo.hitch(this,"_openResultList"),onError:function(_2e8){_2e6._fetchHandle=null;console.error("dijit.form.ComboBox: "+_2e8);dojo.hitch(_2e6,"_hideResultList")();},start:0,count:this.pageSize};dojo.mixin(_2e7,_2e6.fetchProperties);this._fetchHandle=_2e6.store.fetch(_2e7);var _2e9=function(_2ea,_2eb){_2ea.start+=_2ea.count*_2eb;_2ea.direction=_2eb;this._fetchHandle=this.store.fetch(_2ea);};this._nextSearch=this._popupWidget.onPage=dojo.hitch(this,_2e9,this._fetchHandle);},_2e4,this),this.searchDelay);},_setMaxOptions:function(size,_2ec){this._maxOptions=size;},_getValueField:function(){return this.searchAttr;},_arrowPressed:function(){if(!this.disabled&&!this.readOnly&&this.hasDownArrow){dojo.addClass(this.downArrowNode,"dijitArrowButtonActive");}},_arrowIdle:function(){if(!this.disabled&&!this.readOnly&&this.hasDownArrow){dojo.removeClass(this.downArrowNode,"dojoArrowButtonPushed");}},compositionend:function(evt){this._onKeyPress({charOrCode:229});},constructor:function(){this.query={};this.fetchProperties={};},postMixInProperties:function(){if(!this.hasDownArrow){this.baseClass="dijitTextBox";}if(!this.store){var _2ed=this.srcNodeRef;this.store=new dijit.form._ComboBoxDataStore(_2ed);if(!this.value||((typeof _2ed.selectedIndex=="number")&&_2ed.selectedIndex.toString()===this.value)){var item=this.store.fetchSelectedItem();if(item){var _2ee=this._getValueField();this.value=_2ee!=this.searchAttr?this.store.getValue(item,_2ee):this.labelFunc(item,this.store);}}}this.inherited(arguments);},postCreate:function(){var _2ef=dojo.query("label[for=\""+this.id+"\"]");if(_2ef.length){_2ef[0].id=(this.id+"_label");var cn=this.comboNode;dijit.setWaiState(cn,"labelledby",_2ef[0].id);}this.inherited(arguments);},uninitialize:function(){if(this._popupWidget&&!this._popupWidget._destroyed){this._hideResultList();this._popupWidget.destroy();}this.inherited(arguments);},_getMenuLabelFromItem:function(item){var _2f0=this.labelAttr?this.store.getValue(item,this.labelAttr):this.labelFunc(item,this.store);var _2f1=this.labelType;if(this.highlightMatch!="none"&&this.labelType=="text"&&this._lastInput){_2f0=this.doHighlight(_2f0,this._escapeHtml(this._lastInput));_2f1="html";}return {html:_2f1=="html",label:_2f0};},doHighlight:function(_2f2,find){var _2f3="i"+(this.highlightMatch=="all"?"g":"");var _2f4=this._escapeHtml(_2f2);find=dojo.regexp.escapeString(find);var ret=_2f4.replace(new RegExp("(^|\\s)("+find+")",_2f3),"$1<span class=\"dijitComboBoxHighlightMatch\">$2</span>");return ret;},_escapeHtml:function(str){str=String(str).replace(/&/gm,"&amp;").replace(/</gm,"&lt;").replace(/>/gm,"&gt;").replace(/"/gm,"&quot;");return str;},open:function(){this._isShowingNow=true;return dijit.popup.open({popup:this._popupWidget,around:this.domNode,parent:this});},reset:function(){this.item=null;this.inherited(arguments);},labelFunc:function(item,_2f5){return _2f5.getValue(item,this.searchAttr).toString();}});dojo.declare("dijit.form._ComboBoxMenu",[dijit._Widget,dijit._Templated],{templateString:"<ul class='dijitReset dijitMenu' dojoAttachEvent='onmousedown:_onMouseDown,onmouseup:_onMouseUp,onmouseover:_onMouseOver,onmouseout:_onMouseOut' tabIndex='-1' style='overflow: \"auto\"; overflow-x: \"hidden\";'>"+"<li class='dijitMenuItem dijitMenuPreviousButton' dojoAttachPoint='previousButton' waiRole='option'></li>"+"<li class='dijitMenuItem dijitMenuNextButton' dojoAttachPoint='nextButton' waiRole='option'></li>"+"</ul>",_messages:null,postMixInProperties:function(){this._messages=dojo.i18n.getLocalization("dijit.form","ComboBox",this.lang);this.inherited(arguments);},_setValueAttr:function(_2f6){this.value=_2f6;this.onChange(_2f6);},onChange:function(_2f7){},onPage:function(_2f8){},postCreate:function(){this.previousButton.innerHTML=this._messages["previousMessage"];this.nextButton.innerHTML=this._messages["nextMessage"];this.inherited(arguments);},onClose:function(){this._blurOptionNode();},_createOption:function(item,_2f9){var _2fa=_2f9(item);var _2fb=dojo.doc.createElement("li");dijit.setWaiRole(_2fb,"option");if(_2fa.html){_2fb.innerHTML=_2fa.label;}else{_2fb.appendChild(dojo.doc.createTextNode(_2fa.label));}if(_2fb.innerHTML==""){_2fb.innerHTML="&nbsp;";}_2fb.item=item;return _2fb;},createOptions:function(_2fc,_2fd,_2fe){this.previousButton.style.display=(_2fd.start==0)?"none":"";dojo.attr(this.previousButton,"id",this.id+"_prev");dojo.forEach(_2fc,function(item,i){var _2ff=this._createOption(item,_2fe);_2ff.className="dijitReset dijitMenuItem";dojo.attr(_2ff,"id",this.id+i);this.domNode.insertBefore(_2ff,this.nextButton);},this);var _300=false;if(_2fd._maxOptions&&_2fd._maxOptions!=-1){if((_2fd.start+_2fd.count)<_2fd._maxOptions){_300=true;}else{if((_2fd.start+_2fd.count)>(_2fd._maxOptions-1)){if(_2fd.count==_2fc.length){_300=true;}}}}else{if(_2fd.count==_2fc.length){_300=true;}}this.nextButton.style.display=_300?"":"none";dojo.attr(this.nextButton,"id",this.id+"_next");return this.domNode.childNodes;},clearResultList:function(){while(this.domNode.childNodes.length>2){this.domNode.removeChild(this.domNode.childNodes[this.domNode.childNodes.length-2]);}},_onMouseDown:function(evt){dojo.stopEvent(evt);},_onMouseUp:function(evt){if(evt.target===this.domNode){return;}else{if(evt.target==this.previousButton){this.onPage(-1);}else{if(evt.target==this.nextButton){this.onPage(1);}else{var tgt=evt.target;while(!tgt.item){tgt=tgt.parentNode;}this._setValueAttr({target:tgt},true);}}}},_onMouseOver:function(evt){if(evt.target===this.domNode){return;}var tgt=evt.target;if(!(tgt==this.previousButton||tgt==this.nextButton)){while(!tgt.item){tgt=tgt.parentNode;}}this._focusOptionNode(tgt);},_onMouseOut:function(evt){if(evt.target===this.domNode){return;}this._blurOptionNode();},_focusOptionNode:function(node){if(this._highlighted_option!=node){this._blurOptionNode();this._highlighted_option=node;dojo.addClass(this._highlighted_option,"dijitMenuItemSelected");}},_blurOptionNode:function(){if(this._highlighted_option){dojo.removeClass(this._highlighted_option,"dijitMenuItemSelected");this._highlighted_option=null;}},_highlightNextOption:function(){var fc=this.domNode.firstChild;if(!this.getHighlightedOption()){this._focusOptionNode(fc.style.display=="none"?fc.nextSibling:fc);}else{var ns=this._highlighted_option.nextSibling;if(ns&&ns.style.display!="none"){this._focusOptionNode(ns);}}dijit.scrollIntoView(this._highlighted_option);},highlightFirstOption:function(){this._focusOptionNode(this.domNode.firstChild.nextSibling);dijit.scrollIntoView(this._highlighted_option);},highlightLastOption:function(){this._focusOptionNode(this.domNode.lastChild.previousSibling);dijit.scrollIntoView(this._highlighted_option);},_highlightPrevOption:function(){var lc=this.domNode.lastChild;if(!this.getHighlightedOption()){this._focusOptionNode(lc.style.display=="none"?lc.previousSibling:lc);}else{var ps=this._highlighted_option.previousSibling;if(ps&&ps.style.display!="none"){this._focusOptionNode(ps);}}dijit.scrollIntoView(this._highlighted_option);},_page:function(up){var _301=0;var _302=this.domNode.scrollTop;var _303=dojo.style(this.domNode,"height");if(!this.getHighlightedOption()){this._highlightNextOption();}while(_301<_303){if(up){if(!this.getHighlightedOption().previousSibling||this._highlighted_option.previousSibling.style.display=="none"){break;}this._highlightPrevOption();}else{if(!this.getHighlightedOption().nextSibling||this._highlighted_option.nextSibling.style.display=="none"){break;}this._highlightNextOption();}var _304=this.domNode.scrollTop;_301+=(_304-_302)*(up?-1:1);_302=_304;}},pageUp:function(){this._page(true);},pageDown:function(){this._page(false);},getHighlightedOption:function(){var ho=this._highlighted_option;return (ho&&ho.parentNode)?ho:null;},handleKey:function(key){switch(key){case dojo.keys.DOWN_ARROW:this._highlightNextOption();break;case dojo.keys.PAGE_DOWN:this.pageDown();break;case dojo.keys.UP_ARROW:this._highlightPrevOption();break;case dojo.keys.PAGE_UP:this.pageUp();break;}}});dojo.declare("dijit.form.ComboBox",[dijit.form.ValidationTextBox,dijit.form.ComboBoxMixin],{_setValueAttr:function(_305,_306,_307){this.item=null;if(!_305){_305="";}dijit.form.ValidationTextBox.prototype._setValueAttr.call(this,_305,_306,_307);}});dojo.declare("dijit.form._ComboBoxDataStore",null,{constructor:function(root){this.root=root;dojo.query("> option",root).forEach(function(node){node.innerHTML=dojo.trim(node.innerHTML);});},getValue:function(item,_308,_309){return (_308=="value")?item.value:(item.innerText||item.textContent||"");},isItemLoaded:function(_30a){return true;},getFeatures:function(){return {"dojo.data.api.Read":true,"dojo.data.api.Identity":true};},_fetchItems:function(args,_30b,_30c){if(!args.query){args.query={};}if(!args.query.name){args.query.name="";}if(!args.queryOptions){args.queryOptions={};}var _30d=dojo.data.util.filter.patternToRegExp(args.query.name,args.queryOptions.ignoreCase),_30e=dojo.query("> option",this.root).filter(function(_30f){return (_30f.innerText||_30f.textContent||"").match(_30d);});if(args.sort){_30e.sort(dojo.data.util.sorter.createSortFunction(args.sort,this));}_30b(_30e,args);},close:function(_310){return;},getLabel:function(item){return item.innerHTML;},getIdentity:function(item){return dojo.attr(item,"value");},fetchItemByIdentity:function(args){var item=dojo.query("option[value='"+args.identity+"']",this.root)[0];args.onItem(item);},fetchSelectedItem:function(){var root=this.root,si=root.selectedIndex;return dojo.query("> option:nth-child("+(si!=-1?si+1:1)+")",root)[0];}});dojo.extend(dijit.form._ComboBoxDataStore,dojo.data.util.simpleFetch);}if(!dojo._hasResource["dojox.embed.Flash"]){dojo._hasResource["dojox.embed.Flash"]=true;dojo.provide("dojox.embed.Flash");(function(){var _311,_312;var _313=9;var _314="dojox-embed-flash-",_315=0;var _316={expressInstall:false,width:320,height:240,swLiveConnect:"true",allowScriptAccess:"sameDomain",allowNetworking:"all",style:null,redirect:null};function prep(_317){_317=dojo.delegate(_316,_317);if(!("path" in _317)){console.error("dojox.embed.Flash(ctor):: no path reference to a Flash movie was provided.");return null;}if(!("id" in _317)){_317.id=(_314+_315++);}return _317;};if(dojo.isIE){_311=function(_318){_318=prep(_318);if(!_318){return null;}var p;var path=_318.path;if(_318.vars){var a=[];for(p in _318.vars){a.push(p+"="+_318.vars[p]);}_318.params.FlashVars=a.join("&");delete _318.vars;}var s="<object id=\""+_318.id+"\" "+"classid=\"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000\" "+"width=\""+_318.width+"\" "+"height=\""+_318.height+"\""+((_318.style)?" style=\""+_318.style+"\"":"")+">"+"<param name=\"movie\" value=\""+path+"\" />";if(_318.params){for(p in _318.params){s+="<param name=\""+p+"\" value=\""+_318.params[p]+"\" />";}}s+="</object>";return {id:_318.id,markup:s};};_312=(function(){var _319=10,_31a=null;while(!_31a&&_319>7){try{_31a=new ActiveXObject("ShockwaveFlash.ShockwaveFlash."+_319--);}catch(e){}}if(_31a){var v=_31a.GetVariable("$version").split(" ")[1].split(",");return {major:(v[0]!=null)?parseInt(v[0]):0,minor:(v[1]!=null)?parseInt(v[1]):0,rev:(v[2]!=null)?parseInt(v[2]):0};}return {major:0,minor:0,rev:0};})();dojo.addOnUnload(function(){var _31b=function(){};var objs=dojo.query("object").reverse().style("display","none").forEach(function(i){for(var p in i){if((p!="FlashVars")&&dojo.isFunction(i[p])){try{i[p]=_31b;}catch(e){}}}});});}else{_311=function(_31c){_31c=prep(_31c);if(!_31c){return null;}var p;var path=_31c.path;if(_31c.vars){var a=[];for(p in _31c.vars){a.push(p+"="+_31c.vars[p]);}_31c.params.flashVars=a.join("&");delete _31c.vars;}var s="<embed type=\"application/x-shockwave-flash\" "+"src=\""+path+"\" "+"id=\""+_31c.id+"\" "+"width=\""+_31c.width+"\" "+"height=\""+_31c.height+"\""+((_31c.style)?" style=\""+_31c.style+"\" ":"")+"swLiveConnect=\""+_31c.swLiveConnect+"\" "+"allowScriptAccess=\""+_31c.allowScriptAccess+"\" "+"allowNetworking=\""+_31c.allowNetworking+"\" "+"pluginspage=\""+window.location.protocol+"//www.adobe.com/go/getflashplayer\" ";if(_31c.params){for(p in _31c.params){s+=" "+p+"=\""+_31c.params[p]+"\"";}}s+=" />";return {id:_31c.id,markup:s};};_312=(function(){var _31d=navigator.plugins["Shockwave Flash"];if(_31d&&_31d.description){var v=_31d.description.replace(/([a-zA-Z]|\s)+/,"").replace(/(\s+r|\s+b[0-9]+)/,".").split(".");return {major:(v[0]!=null)?parseInt(v[0]):0,minor:(v[1]!=null)?parseInt(v[1]):0,rev:(v[2]!=null)?parseInt(v[2]):0};}return {major:0,minor:0,rev:0};})();}dojox.embed.Flash=function(_31e,node){if(location.href.toLowerCase().indexOf("file://")>-1){throw new Error("dojox.embed.Flash can't be run directly from a file. To instatiate the required SWF correctly it must be run from a server, like localHost.");}this.available=dojox.embed.Flash.available;this.minimumVersion=_31e.minimumVersion||_313;this.id=null;this.movie=null;this.domNode=null;if(node){node=dojo.byId(node);}setTimeout(dojo.hitch(this,function(){if(_31e.expressInstall||this.available&&this.available>=this.minimumVersion){if(_31e&&node){this.init(_31e,node);}else{this.onError("embed.Flash was not provided with the proper arguments.");}}else{if(!this.available){this.onError("Flash is not installed.");}else{this.onError("Flash version detected: "+this.available+" is out of date. Minimum required: "+this.minimumVersion);}}}),100);};dojo.extend(dojox.embed.Flash,{onReady:function(_31f){console.warn("embed.Flash.movie.onReady:",_31f);},onLoad:function(_320){console.warn("embed.Flash.movie.onLoad:",_320);},onError:function(msg){},_onload:function(){clearInterval(this._poller);delete this._poller;delete this._pollCount;delete this._pollMax;this.onLoad(this.movie);},init:function(_321,node){console.log("embed.Flash.movie.init");this.destroy();node=dojo.byId(node||this.domNode);if(!node){throw new Error("dojox.embed.Flash: no domNode reference has been passed.");}var p=0,_322=false;this._poller=null;this._pollCount=0;this._pollMax=15;this.pollTime=100;if(dojox.embed.Flash.initialized){this.id=dojox.embed.Flash.place(_321,node);this.domNode=node;setTimeout(dojo.hitch(this,function(){this.movie=this.byId(this.id,_321.doc);this.onReady(this.movie);this._poller=setInterval(dojo.hitch(this,function(){try{p=this.movie.PercentLoaded();}catch(e){console.warn("this.movie.PercentLoaded() failed");}if(p==100){this._onload();}else{if(p==0&&this._pollCount++>this._pollMax){clearInterval(this._poller);throw new Error("Building SWF failed.");}}}),this.pollTime);}),1);}},_destroy:function(){try{this.domNode.removeChild(this.movie);}catch(e){}this.id=this.movie=this.domNode=null;},destroy:function(){if(!this.movie){return;}var test=dojo.delegate({id:true,movie:true,domNode:true,onReady:true,onLoad:true});for(var p in this){if(!test[p]){delete this[p];}}if(this._poller){dojo.connect(this,"onLoad",this,"_destroy");}else{this._destroy();}},byId:function(_323,doc){doc=doc||document;if(doc.embeds[_323]){return doc.embeds[_323];}if(doc[_323]){return doc[_323];}if(window[_323]){return window[_323];}if(document[_323]){return document[_323];}return null;}});dojo.mixin(dojox.embed.Flash,{minSupported:8,available:_312.major,supported:(_312.major>=_312.required),minimumRequired:_312.required,version:_312,initialized:false,onInitialize:function(){dojox.embed.Flash.initialized=true;},__ie_markup__:function(_324){return _311(_324);},proxy:function(obj,_325){dojo.forEach((dojo.isArray(_325)?_325:[_325]),function(item){this[item]=dojo.hitch(this,function(){return (function(){return eval(this.movie.CallFunction("<invoke name=\""+item+"\" returntype=\"javascript\">"+"<arguments>"+dojo.map(arguments,function(item){return __flash__toXML(item);}).join("")+"</arguments>"+"</invoke>"));}).apply(this,arguments||[]);});},obj);}});if(dojo.isIE){if(dojo._initFired){var e=document.createElement("script");e.type="text/javascript";e.src=dojo.moduleUrl("dojox","embed/IE/flash.js");document.getElementsByTagName("head")[0].appendChild(e);}else{document.write("<scr"+"ipt type=\"text/javascript\" src=\""+dojo.moduleUrl("dojox","embed/IE/flash.js")+"\">"+"</scr"+"ipt>");}}else{dojox.embed.Flash.place=function(_326,node){var o=_311(_326);node=dojo.byId(node);if(!node){node=dojo.doc.createElement("div");node.id=o.id+"-container";dojo.body().appendChild(node);}if(o){node.innerHTML=o.markup;return o.id;}return null;};dojox.embed.Flash.onInitialize();}})();}if(!dojo._hasResource["dojox.form.Rating"]){dojo._hasResource["dojox.form.Rating"]=true;dojo.provide("dojox.form.Rating");dojo.declare("dojox.form.Rating",dijit.form._FormWidget,{templateString:null,numStars:3,value:0,constructor:function(_327){dojo.mixin(this,_327);var tpl="<div dojoAttachPoint=\"domNode\" class=\"dojoxRating dijitInline\">"+"<input type=\"hidden\" value=\"0\" dojoAttachPoint=\"focusNode\" /><ul>${stars}</ul>"+"</div>";var _328="<li class=\"dojoxRatingStar dijitInline\" dojoAttachEvent=\"onclick:onStarClick,onmouseover:_onMouse,onmouseout:_onMouse\" value=\"${value}\"></li>";var _329="";for(var i=0;i<this.numStars;i++){_329+=dojo.string.substitute(_328,{value:i+1});}this.templateString=dojo.string.substitute(tpl,{stars:_329});},postCreate:function(){this.inherited(arguments);this._renderStars(this.value);},_onMouse:function(evt){this.inherited(arguments);if(this._hovering){var _32a=+dojo.attr(evt.target,"value");this.onMouseOver(evt,_32a);this._renderStars(_32a,true);}else{this._renderStars(this.value);}},_renderStars:function(_32b,_32c){dojo.query(".dojoxRatingStar",this.domNode).forEach(function(star,i){if(i+1>_32b){dojo.removeClass(star,"dojoxRatingStarHover");dojo.removeClass(star,"dojoxRatingStarChecked");}else{dojo.removeClass(star,"dojoxRatingStar"+(_32c?"Checked":"Hover"));dojo.addClass(star,"dojoxRatingStar"+(_32c?"Hover":"Checked"));}});},onStarClick:function(evt){var _32d=+dojo.attr(evt.target,"value");this.setAttribute("value",_32d==this.value?0:_32d);this._renderStars(this.value);this.onChange(this.value);},onMouseOver:function(){},setAttribute:function(key,_32e){this.inherited("setAttribute",arguments);if(key=="value"){this._renderStars(this.value);this.onChange(this.value);}}});}if(!dojo._hasResource["dojo.fx.Toggler"]){dojo._hasResource["dojo.fx.Toggler"]=true;dojo.provide("dojo.fx.Toggler");dojo.declare("dojo.fx.Toggler",null,{node:null,showFunc:dojo.fadeIn,hideFunc:dojo.fadeOut,showDuration:200,hideDuration:200,constructor:function(args){var _32f=this;dojo.mixin(_32f,args);_32f.node=args.node;_32f._showArgs=dojo.mixin({},args);_32f._showArgs.node=_32f.node;_32f._showArgs.duration=_32f.showDuration;_32f.showAnim=_32f.showFunc(_32f._showArgs);_32f._hideArgs=dojo.mixin({},args);_32f._hideArgs.node=_32f.node;_32f._hideArgs.duration=_32f.hideDuration;_32f.hideAnim=_32f.hideFunc(_32f._hideArgs);dojo.connect(_32f.showAnim,"beforeBegin",dojo.hitch(_32f.hideAnim,"stop",true));dojo.connect(_32f.hideAnim,"beforeBegin",dojo.hitch(_32f.showAnim,"stop",true));},show:function(_330){return this.showAnim.play(_330||0);},hide:function(_331){return this.hideAnim.play(_331||0);}});}if(!dojo._hasResource["dojo.fx"]){dojo._hasResource["dojo.fx"]=true;dojo.provide("dojo.fx");(function(){var d=dojo,_332={_fire:function(evt,args){if(this[evt]){this[evt].apply(this,args||[]);}return this;}};var _333=function(_334){this._index=-1;this._animations=_334||[];this._current=this._onAnimateCtx=this._onEndCtx=null;this.duration=0;d.forEach(this._animations,function(a){this.duration+=a.duration;if(a.delay){this.duration+=a.delay;}},this);};d.extend(_333,{_onAnimate:function(){this._fire("onAnimate",arguments);},_onEnd:function(){d.disconnect(this._onAnimateCtx);d.disconnect(this._onEndCtx);this._onAnimateCtx=this._onEndCtx=null;if(this._index+1==this._animations.length){this._fire("onEnd");}else{this._current=this._animations[++this._index];this._onAnimateCtx=d.connect(this._current,"onAnimate",this,"_onAnimate");this._onEndCtx=d.connect(this._current,"onEnd",this,"_onEnd");this._current.play(0,true);}},play:function(_335,_336){if(!this._current){this._current=this._animations[this._index=0];}if(!_336&&this._current.status()=="playing"){return this;}var _337=d.connect(this._current,"beforeBegin",this,function(){this._fire("beforeBegin");}),_338=d.connect(this._current,"onBegin",this,function(arg){this._fire("onBegin",arguments);}),_339=d.connect(this._current,"onPlay",this,function(arg){this._fire("onPlay",arguments);d.disconnect(_337);d.disconnect(_338);d.disconnect(_339);});if(this._onAnimateCtx){d.disconnect(this._onAnimateCtx);}this._onAnimateCtx=d.connect(this._current,"onAnimate",this,"_onAnimate");if(this._onEndCtx){d.disconnect(this._onEndCtx);}this._onEndCtx=d.connect(this._current,"onEnd",this,"_onEnd");this._current.play.apply(this._current,arguments);return this;},pause:function(){if(this._current){var e=d.connect(this._current,"onPause",this,function(arg){this._fire("onPause",arguments);d.disconnect(e);});this._current.pause();}return this;},gotoPercent:function(_33a,_33b){this.pause();var _33c=this.duration*_33a;this._current=null;d.some(this._animations,function(a){if(a.duration<=_33c){this._current=a;return true;}_33c-=a.duration;return false;});if(this._current){this._current.gotoPercent(_33c/this._current.duration,_33b);}return this;},stop:function(_33d){if(this._current){if(_33d){for(;this._index+1<this._animations.length;++this._index){this._animations[this._index].stop(true);}this._current=this._animations[this._index];}var e=d.connect(this._current,"onStop",this,function(arg){this._fire("onStop",arguments);d.disconnect(e);});this._current.stop();}return this;},status:function(){return this._current?this._current.status():"stopped";},destroy:function(){if(this._onAnimateCtx){d.disconnect(this._onAnimateCtx);}if(this._onEndCtx){d.disconnect(this._onEndCtx);}}});d.extend(_333,_332);dojo.fx.chain=function(_33e){return new _333(_33e);};var _33f=function(_340){this._animations=_340||[];this._connects=[];this._finished=0;this.duration=0;d.forEach(_340,function(a){var _341=a.duration;if(a.delay){_341+=a.delay;}if(this.duration<_341){this.duration=_341;}this._connects.push(d.connect(a,"onEnd",this,"_onEnd"));},this);this._pseudoAnimation=new d.Animation({curve:[0,1],duration:this.duration});var self=this;d.forEach(["beforeBegin","onBegin","onPlay","onAnimate","onPause","onStop","onEnd"],function(evt){self._connects.push(d.connect(self._pseudoAnimation,evt,function(){self._fire(evt,arguments);}));});};d.extend(_33f,{_doAction:function(_342,args){d.forEach(this._animations,function(a){a[_342].apply(a,args);});return this;},_onEnd:function(){if(++this._finished>this._animations.length){this._fire("onEnd");}},_call:function(_343,args){var t=this._pseudoAnimation;t[_343].apply(t,args);},play:function(_344,_345){this._finished=0;this._doAction("play",arguments);this._call("play",arguments);return this;},pause:function(){this._doAction("pause",arguments);this._call("pause",arguments);return this;},gotoPercent:function(_346,_347){var ms=this.duration*_346;d.forEach(this._animations,function(a){a.gotoPercent(a.duration<ms?1:(ms/a.duration),_347);});this._call("gotoPercent",arguments);return this;},stop:function(_348){this._doAction("stop",arguments);this._call("stop",arguments);return this;},status:function(){return this._pseudoAnimation.status();},destroy:function(){d.forEach(this._connects,dojo.disconnect);}});d.extend(_33f,_332);dojo.fx.combine=function(_349){return new _33f(_349);};dojo.fx.wipeIn=function(args){var node=args.node=d.byId(args.node),s=node.style,o;var anim=d.animateProperty(d.mixin({properties:{height:{start:function(){o=s.overflow;s.overflow="hidden";if(s.visibility=="hidden"||s.display=="none"){s.height="1px";s.display="";s.visibility="";return 1;}else{var _34a=d.style(node,"height");return Math.max(_34a,1);}},end:function(){return node.scrollHeight;}}}},args));d.connect(anim,"onEnd",function(){s.height="auto";s.overflow=o;});return anim;};dojo.fx.wipeOut=function(args){var node=args.node=d.byId(args.node),s=node.style,o;var anim=d.animateProperty(d.mixin({properties:{height:{end:1}}},args));d.connect(anim,"beforeBegin",function(){o=s.overflow;s.overflow="hidden";s.display="";});d.connect(anim,"onEnd",function(){s.overflow=o;s.height="auto";s.display="none";});return anim;};dojo.fx.slideTo=function(args){var node=args.node=d.byId(args.node),top=null,left=null;var init=(function(n){return function(){var cs=d.getComputedStyle(n);var pos=cs.position;top=(pos=="absolute"?n.offsetTop:parseInt(cs.top)||0);left=(pos=="absolute"?n.offsetLeft:parseInt(cs.left)||0);if(pos!="absolute"&&pos!="relative"){var ret=d.position(n,true);top=ret.y;left=ret.x;n.style.position="absolute";n.style.top=top+"px";n.style.left=left+"px";}};})(node);init();var anim=d.animateProperty(d.mixin({properties:{top:args.top||0,left:args.left||0}},args));d.connect(anim,"beforeBegin",anim,init);return anim;};})();}if(!dojo._hasResource["dojox.fx._base"]){dojo._hasResource["dojox.fx._base"]=true;dojo.provide("dojox.fx._base");dojo.mixin(dojox.fx,{anim:dojo.anim,animateProperty:dojo.animateProperty,fadeTo:dojo._fade,fadeIn:dojo.fadeIn,fadeOut:dojo.fadeOut,combine:dojo.fx.combine,chain:dojo.fx.chain,slideTo:dojo.fx.slideTo,wipeIn:dojo.fx.wipeIn,wipeOut:dojo.fx.wipeOut});dojox.fx.sizeTo=function(args){var node=args.node=dojo.byId(args.node),abs="absolute";var _34b=args.method||"chain";if(!args.duration){args.duration=500;}if(_34b=="chain"){args.duration=Math.floor(args.duration/2);}var top,_34c,left,_34d,_34e,_34f=null;var init=(function(n){return function(){var cs=dojo.getComputedStyle(n),pos=cs.position,w=cs.width,h=cs.height;top=(pos==abs?n.offsetTop:parseInt(cs.top)||0);left=(pos==abs?n.offsetLeft:parseInt(cs.left)||0);_34e=(w=="auto"?0:parseInt(w));_34f=(h=="auto"?0:parseInt(h));_34d=left-Math.floor((args.width-_34e)/2);_34c=top-Math.floor((args.height-_34f)/2);if(pos!=abs&&pos!="relative"){var ret=dojo.coords(n,true);top=ret.y;left=ret.x;n.style.position=abs;n.style.top=top+"px";n.style.left=left+"px";}};})(node);var _350=dojo.animateProperty(dojo.mixin({properties:{height:function(){init();return {end:args.height||0,start:_34f};},top:function(){return {start:top,end:_34c};}}},args));var _351=dojo.animateProperty(dojo.mixin({properties:{width:function(){return {start:_34e,end:args.width||0};},left:function(){return {start:left,end:_34d};}}},args));var anim=dojo.fx[(args.method=="combine"?"combine":"chain")]([_350,_351]);return anim;};dojox.fx.slideBy=function(args){var node=args.node=dojo.byId(args.node),top,left;var init=(function(n){return function(){var cs=dojo.getComputedStyle(n);var pos=cs.position;top=(pos=="absolute"?n.offsetTop:parseInt(cs.top)||0);left=(pos=="absolute"?n.offsetLeft:parseInt(cs.left)||0);if(pos!="absolute"&&pos!="relative"){var ret=dojo.coords(n,true);top=ret.y;left=ret.x;n.style.position="absolute";n.style.top=top+"px";n.style.left=left+"px";}};})(node);init();var _352=dojo.animateProperty(dojo.mixin({properties:{top:top+(args.top||0),left:left+(args.left||0)}},args));dojo.connect(_352,"beforeBegin",_352,init);return _352;};dojox.fx.crossFade=function(args){var _353=args.nodes[0]=dojo.byId(args.nodes[0]),op1=dojo.style(_353,"opacity"),_354=args.nodes[1]=dojo.byId(args.nodes[1]),op2=dojo.style(_354,"opacity");var _355=dojo.fx.combine([dojo[(op1==0?"fadeIn":"fadeOut")](dojo.mixin({node:_353},args)),dojo[(op1==0?"fadeOut":"fadeIn")](dojo.mixin({node:_354},args))]);return _355;};dojox.fx.highlight=function(args){var node=args.node=dojo.byId(args.node);args.duration=args.duration||400;var _356=args.color||"#ffff99",_357=dojo.style(node,"backgroundColor");if(_357=="rgba(0, 0, 0, 0)"){_357="transparent";}var anim=dojo.animateProperty(dojo.mixin({properties:{backgroundColor:{start:_356,end:_357}}},args));if(_357=="transparent"){dojo.connect(anim,"onEnd",anim,function(){node.style.backgroundColor=_357;});}return anim;};dojox.fx.wipeTo=function(args){args.node=dojo.byId(args.node);var node=args.node,s=node.style;var dir=(args.width?"width":"height"),_358=args[dir],_359={};_359[dir]={start:function(){s.overflow="hidden";if(s.visibility=="hidden"||s.display=="none"){s[dir]="1px";s.display="";s.visibility="";return 1;}else{var now=dojo.style(node,dir);return Math.max(now,1);}},end:_358};var anim=dojo.animateProperty(dojo.mixin({properties:_359},args));return anim;};}if(!dojo._hasResource["dojox.fx"]){dojo._hasResource["dojox.fx"]=true;dojo.provide("dojox.fx");}if(!dojo._hasResource["mpCorePlugin.Form"]){dojo._hasResource["mpCorePlugin.Form"]=true;dojo.provide("mpCorePlugin.Form");dojo.mixin(mpCorePlugin.Form,{clearer:function(node,_35a,_35b,_35c){node=dojo.byId(node);_35a=_35a||"";_35b=_35b||false;_35c=_35c||"";if(dojo.isString(_35a)){_35a=[_35a];}if(!dojo.isArray(_35a)){throw "you have to provide an array as 2nd parameter for mpCorePlugin.Form.clearer";}if(true===_35b){if(1==_35a.length&&""==_35a[0]){_35a=[node.defaultValue];}else{_35a.push(node.defaultValue);}}if(""!=_35c){_35a.push(_35c);}dojo.connect(node,"onfocus",function(e){if(_35a.indexOf(e.target.value)>-1){node.value=_35c;}});dojo.connect(node,"onblur",function(e){if(""==dojo.trim(e.target.value)||_35a.indexOf(e.target.value)>-1){e.target.value=_35a[0];}});},ContentAddHandler:function(_35d){var _35e={form:null,onInit:function(p){},onErrorNode:"",onError:function(p){},onSuccessNode:"",onSuccess:function(p){},position:"first",removeOrigin:false,evalScripts:false};dojo.mixin(_35e,_35d);_35e.onInit(_35e);dojo.xhrPost({form:_35e.form,handle:function(_35f,_360){if(251==_360.xhr.status){dojo.byId(_35e.onErrorNode).innerHTML=_35f;_35e.onError(_35e);}else{if(_35e.removeOrigin){dojo.byId(_35e.onErrorNode).innerHTML="";}dojo.place(dojo.trim(_35f),_35e.onSuccessNode,_35e.position);dojo.style(_35e.onSuccessNode,"display","");mpCorePlugin.Toolkit.evalScripts(_35e.onSuccessNode,_35e.evalScripts);_35e.onSuccess(_35e);}}});}});}if(!dojo._hasResource["dijit._KeyNavContainer"]){dojo._hasResource["dijit._KeyNavContainer"]=true;dojo.provide("dijit._KeyNavContainer");dojo.declare("dijit._KeyNavContainer",dijit._Container,{tabIndex:"0",_keyNavCodes:{},connectKeyNavHandlers:function(_361,_362){var _363=(this._keyNavCodes={});var prev=dojo.hitch(this,this.focusPrev);var next=dojo.hitch(this,this.focusNext);dojo.forEach(_361,function(code){_363[code]=prev;});dojo.forEach(_362,function(code){_363[code]=next;});this.connect(this.domNode,"onkeypress","_onContainerKeypress");this.connect(this.domNode,"onfocus","_onContainerFocus");},startupKeyNavChildren:function(){dojo.forEach(this.getChildren(),dojo.hitch(this,"_startupChild"));},addChild:function(_364,_365){dijit._KeyNavContainer.superclass.addChild.apply(this,arguments);this._startupChild(_364);},focus:function(){this.focusFirstChild();},focusFirstChild:function(){var _366=this._getFirstFocusableChild();if(_366){this.focusChild(_366);}},focusNext:function(){var _367=this._getNextFocusableChild(this.focusedChild,1);this.focusChild(_367);},focusPrev:function(){var _368=this._getNextFocusableChild(this.focusedChild,-1);this.focusChild(_368,true);},focusChild:function(_369,last){if(this.focusedChild&&_369!==this.focusedChild){this._onChildBlur(this.focusedChild);}_369.focus(last?"end":"start");this.focusedChild=_369;},_startupChild:function(_36a){_36a.attr("tabIndex","-1");this.connect(_36a,"_onFocus",function(){_36a.attr("tabIndex",this.tabIndex);});this.connect(_36a,"_onBlur",function(){_36a.attr("tabIndex","-1");});},_onContainerFocus:function(evt){if(evt.target!==this.domNode){return;}this.focusFirstChild();dojo.attr(this.domNode,"tabIndex","-1");},_onBlur:function(evt){if(this.tabIndex){dojo.attr(this.domNode,"tabIndex",this.tabIndex);}this.inherited(arguments);},_onContainerKeypress:function(evt){if(evt.ctrlKey||evt.altKey){return;}var func=this._keyNavCodes[evt.charOrCode];if(func){func();dojo.stopEvent(evt);}},_onChildBlur:function(_36b){},_getFirstFocusableChild:function(){return this._getNextFocusableChild(null,1);},_getNextFocusableChild:function(_36c,dir){if(_36c){_36c=this._getSiblingOfChild(_36c,dir);}var _36d=this.getChildren();for(var i=0;i<_36d.length;i++){if(!_36c){_36c=_36d[(dir>0)?0:(_36d.length-1)];}if(_36c.isFocusable()){return _36c;}_36c=this._getSiblingOfChild(_36c,dir);}return null;}});}if(!dojo._hasResource["dijit._Contained"]){dojo._hasResource["dijit._Contained"]=true;dojo.provide("dijit._Contained");dojo.declare("dijit._Contained",null,{getParent:function(){var _36e=dijit.getEnclosingWidget(this.domNode.parentNode);return _36e&&_36e.isContainer?_36e:null;},_getSibling:function(_36f){var node=this.domNode;do{node=node[_36f+"Sibling"];}while(node&&node.nodeType!=1);return node&&dijit.byNode(node);},getPreviousSibling:function(){return this._getSibling("previous");},getNextSibling:function(){return this._getSibling("next");},getIndexInParent:function(){var p=this.getParent();if(!p||!p.getIndexOfChild){return -1;}return p.getIndexOfChild(this);}});}if(!dojo._hasResource["dijit.MenuItem"]){dojo._hasResource["dijit.MenuItem"]=true;dojo.provide("dijit.MenuItem");dojo.declare("dijit.MenuItem",[dijit._Widget,dijit._Templated,dijit._Contained],{templateString:dojo.cache("dijit","templates/MenuItem.html","<tr class=\"dijitReset dijitMenuItem\" dojoAttachPoint=\"focusNode\" waiRole=\"menuitem\" tabIndex=\"-1\"\n\t\tdojoAttachEvent=\"onmouseenter:_onHover,onmouseleave:_onUnhover,ondijitclick:_onClick\">\n\t<td class=\"dijitReset\" waiRole=\"presentation\">\n\t\t<img src=\"${_blankGif}\" alt=\"\" class=\"dijitMenuItemIcon\" dojoAttachPoint=\"iconNode\">\n\t</td>\n\t<td class=\"dijitReset dijitMenuItemLabel\" colspan=\"2\" dojoAttachPoint=\"containerNode\"></td>\n\t<td class=\"dijitReset dijitMenuItemAccelKey\" style=\"display: none\" dojoAttachPoint=\"accelKeyNode\"></td>\n\t<td class=\"dijitReset dijitMenuArrowCell\" waiRole=\"presentation\">\n\t\t<div dojoAttachPoint=\"arrowWrapper\" style=\"visibility: hidden\">\n\t\t\t<img src=\"${_blankGif}\" alt=\"\" class=\"dijitMenuExpand\">\n\t\t\t<span class=\"dijitMenuExpandA11y\">+</span>\n\t\t</div>\n\t</td>\n</tr>\n"),attributeMap:dojo.delegate(dijit._Widget.prototype.attributeMap,{label:{node:"containerNode",type:"innerHTML"},iconClass:{node:"iconNode",type:"class"}}),label:"",iconClass:"",accelKey:"",disabled:false,_fillContent:function(_370){if(_370&&!("label" in this.params)){this.attr("label",_370.innerHTML);}},postCreate:function(){dojo.setSelectable(this.domNode,false);var _371=this.id+"_text";dojo.attr(this.containerNode,"id",_371);if(this.accelKeyNode){dojo.attr(this.accelKeyNode,"id",this.id+"_accel");_371+=" "+this.id+"_accel";}dijit.setWaiState(this.domNode,"labelledby",_371);},_onHover:function(){dojo.addClass(this.domNode,"dijitMenuItemHover");this.getParent().onItemHover(this);},_onUnhover:function(){dojo.removeClass(this.domNode,"dijitMenuItemHover");this.getParent().onItemUnhover(this);},_onClick:function(evt){this.getParent().onItemClick(this,evt);dojo.stopEvent(evt);},onClick:function(evt){},focus:function(){try{if(dojo.isIE==8){this.containerNode.focus();}dijit.focus(this.focusNode);}catch(e){}},_onFocus:function(){this._setSelected(true);this.getParent()._onItemFocus(this);this.inherited(arguments);},_setSelected:function(_372){dojo.toggleClass(this.domNode,"dijitMenuItemSelected",_372);},setLabel:function(_373){dojo.deprecated("dijit.MenuItem.setLabel() is deprecated.  Use attr('label', ...) instead.","","2.0");this.attr("label",_373);},setDisabled:function(_374){dojo.deprecated("dijit.Menu.setDisabled() is deprecated.  Use attr('disabled', bool) instead.","","2.0");this.attr("disabled",_374);},_setDisabledAttr:function(_375){this.disabled=_375;dojo[_375?"addClass":"removeClass"](this.domNode,"dijitMenuItemDisabled");dijit.setWaiState(this.focusNode,"disabled",_375?"true":"false");},_setAccelKeyAttr:function(_376){this.accelKey=_376;this.accelKeyNode.style.display=_376?"":"none";this.accelKeyNode.innerHTML=_376;dojo.attr(this.containerNode,"colSpan",_376?"1":"2");}});}if(!dojo._hasResource["dijit.PopupMenuItem"]){dojo._hasResource["dijit.PopupMenuItem"]=true;dojo.provide("dijit.PopupMenuItem");dojo.declare("dijit.PopupMenuItem",dijit.MenuItem,{_fillContent:function(){if(this.srcNodeRef){var _377=dojo.query("*",this.srcNodeRef);dijit.PopupMenuItem.superclass._fillContent.call(this,_377[0]);this.dropDownContainer=this.srcNodeRef;}},startup:function(){if(this._started){return;}this.inherited(arguments);if(!this.popup){var node=dojo.query("[widgetId]",this.dropDownContainer)[0];this.popup=dijit.byNode(node);}dojo.body().appendChild(this.popup.domNode);this.popup.domNode.style.display="none";if(this.arrowWrapper){dojo.style(this.arrowWrapper,"visibility","");}dijit.setWaiState(this.focusNode,"haspopup","true");},destroyDescendants:function(){if(this.popup){if(!this.popup._destroyed){this.popup.destroyRecursive();}delete this.popup;}this.inherited(arguments);}});}if(!dojo._hasResource["dijit.CheckedMenuItem"]){dojo._hasResource["dijit.CheckedMenuItem"]=true;dojo.provide("dijit.CheckedMenuItem");dojo.declare("dijit.CheckedMenuItem",dijit.MenuItem,{templateString:dojo.cache("dijit","templates/CheckedMenuItem.html","<tr class=\"dijitReset dijitMenuItem\" dojoAttachPoint=\"focusNode\" waiRole=\"menuitemcheckbox\" tabIndex=\"-1\"\n\t\tdojoAttachEvent=\"onmouseenter:_onHover,onmouseleave:_onUnhover,ondijitclick:_onClick\">\n\t<td class=\"dijitReset\" waiRole=\"presentation\">\n\t\t<img src=\"${_blankGif}\" alt=\"\" class=\"dijitMenuItemIcon dijitCheckedMenuItemIcon\" dojoAttachPoint=\"iconNode\">\n\t\t<span class=\"dijitCheckedMenuItemIconChar\">&#10003;</span>\n\t</td>\n\t<td class=\"dijitReset dijitMenuItemLabel\" colspan=\"2\" dojoAttachPoint=\"containerNode,labelNode\"></td>\n\t<td class=\"dijitReset dijitMenuItemAccelKey\" style=\"display: none\" dojoAttachPoint=\"accelKeyNode\"></td>\n\t<td class=\"dijitReset dijitMenuArrowCell\" waiRole=\"presentation\">\n\t</td>\n</tr>\n"),checked:false,_setCheckedAttr:function(_378){dojo.toggleClass(this.domNode,"dijitCheckedMenuItemChecked",_378);dijit.setWaiState(this.domNode,"checked",_378);this.checked=_378;},onChange:function(_379){},_onClick:function(e){if(!this.disabled){this.attr("checked",!this.checked);this.onChange(this.checked);}this.inherited(arguments);}});}if(!dojo._hasResource["dijit.MenuSeparator"]){dojo._hasResource["dijit.MenuSeparator"]=true;dojo.provide("dijit.MenuSeparator");dojo.declare("dijit.MenuSeparator",[dijit._Widget,dijit._Templated,dijit._Contained],{templateString:dojo.cache("dijit","templates/MenuSeparator.html","<tr class=\"dijitMenuSeparator\">\n\t<td colspan=\"4\">\n\t\t<div class=\"dijitMenuSeparatorTop\"></div>\n\t\t<div class=\"dijitMenuSeparatorBottom\"></div>\n\t</td>\n</tr>\n"),postCreate:function(){dojo.setSelectable(this.domNode,false);},isFocusable:function(){return false;}});}if(!dojo._hasResource["dijit.Menu"]){dojo._hasResource["dijit.Menu"]=true;dojo.provide("dijit.Menu");dojo.declare("dijit._MenuBase",[dijit._Widget,dijit._Templated,dijit._KeyNavContainer],{parentMenu:null,popupDelay:500,startup:function(){if(this._started){return;}dojo.forEach(this.getChildren(),function(_37a){_37a.startup();});this.startupKeyNavChildren();this.inherited(arguments);},onExecute:function(){},onCancel:function(_37b){},_moveToPopup:function(evt){if(this.focusedChild&&this.focusedChild.popup&&!this.focusedChild.disabled){this.focusedChild._onClick(evt);}else{var _37c=this._getTopMenu();if(_37c&&_37c._isMenuBar){_37c.focusNext();}}},_onPopupHover:function(evt){if(this.currentPopup&&this.currentPopup._pendingClose_timer){var _37d=this.currentPopup.parentMenu;if(_37d.focusedChild){_37d.focusedChild._setSelected(false);}_37d.focusedChild=this.currentPopup.from_item;_37d.focusedChild._setSelected(true);this._stopPendingCloseTimer(this.currentPopup);}},onItemHover:function(item){if(this.isActive){this.focusChild(item);if(this.focusedChild.popup&&!this.focusedChild.disabled&&!this.hover_timer){this.hover_timer=setTimeout(dojo.hitch(this,"_openPopup"),this.popupDelay);}}if(this.focusedChild){this.focusChild(item);}this._hoveredChild=item;},_onChildBlur:function(item){this._stopPopupTimer();item._setSelected(false);var _37e=item.popup;if(_37e){this._stopPendingCloseTimer(_37e);_37e._pendingClose_timer=setTimeout(function(){_37e._pendingClose_timer=null;if(_37e.parentMenu){_37e.parentMenu.currentPopup=null;}dijit.popup.close(_37e);},this.popupDelay);}},onItemUnhover:function(item){if(this.isActive){this._stopPopupTimer();}if(this._hoveredChild==item){this._hoveredChild=null;}},_stopPopupTimer:function(){if(this.hover_timer){clearTimeout(this.hover_timer);this.hover_timer=null;}},_stopPendingCloseTimer:function(_37f){if(_37f._pendingClose_timer){clearTimeout(_37f._pendingClose_timer);_37f._pendingClose_timer=null;}},_stopFocusTimer:function(){if(this._focus_timer){clearTimeout(this._focus_timer);this._focus_timer=null;}},_getTopMenu:function(){for(var top=this;top.parentMenu;top=top.parentMenu){}return top;},onItemClick:function(item,evt){if(item.disabled){return false;}if(typeof this.isShowingNow=="undefined"){this._markActive();}this.focusChild(item);if(item.popup){this._openPopup();}else{this.onExecute();item.onClick(evt);}},_openPopup:function(){this._stopPopupTimer();var _380=this.focusedChild;if(!_380){return;}var _381=_380.popup;if(_381.isShowingNow){return;}if(this.currentPopup){this._stopPendingCloseTimer(this.currentPopup);dijit.popup.close(this.currentPopup);}_381.parentMenu=this;_381.from_item=_380;var self=this;dijit.popup.open({parent:this,popup:_381,around:_380.domNode,orient:this._orient||(this.isLeftToRight()?{"TR":"TL","TL":"TR","BR":"BL","BL":"BR"}:{"TL":"TR","TR":"TL","BL":"BR","BR":"BL"}),onCancel:function(){self.focusChild(_380);self._cleanUp();_380._setSelected(true);self.focusedChild=_380;},onExecute:dojo.hitch(this,"_cleanUp")});this.currentPopup=_381;_381.connect(_381.domNode,"onmouseenter",dojo.hitch(self,"_onPopupHover"));if(_381.focus){_381._focus_timer=setTimeout(dojo.hitch(_381,function(){this._focus_timer=null;this.focus();}),0);}},_markActive:function(){this.isActive=true;dojo.addClass(this.domNode,"dijitMenuActive");dojo.removeClass(this.domNode,"dijitMenuPassive");},onOpen:function(e){this.isShowingNow=true;this._markActive();},_markInactive:function(){this.isActive=false;dojo.removeClass(this.domNode,"dijitMenuActive");dojo.addClass(this.domNode,"dijitMenuPassive");},onClose:function(){this._stopFocusTimer();this._markInactive();this.isShowingNow=false;this.parentMenu=null;},_closeChild:function(){this._stopPopupTimer();if(this.focusedChild){this.focusedChild._setSelected(false);this.focusedChild._onUnhover();this.focusedChild=null;}if(this.currentPopup){dijit.popup.close(this.currentPopup);this.currentPopup=null;}},_onItemFocus:function(item){if(this._hoveredChild&&this._hoveredChild!=item){this._hoveredChild._onUnhover();}},_onBlur:function(){this._cleanUp();this.inherited(arguments);},_cleanUp:function(){this._closeChild();if(typeof this.isShowingNow=="undefined"){this._markInactive();}}});dojo.declare("dijit.Menu",dijit._MenuBase,{constructor:function(){this._bindings=[];},templateString:dojo.cache("dijit","templates/Menu.html","<table class=\"dijit dijitMenu dijitMenuPassive dijitReset dijitMenuTable\" waiRole=\"menu\" tabIndex=\"${tabIndex}\" dojoAttachEvent=\"onkeypress:_onKeyPress\">\n\t<tbody class=\"dijitReset\" dojoAttachPoint=\"containerNode\"></tbody>\n</table>\n"),targetNodeIds:[],contextMenuForWindow:false,leftClickToOpen:false,refocus:true,_contextMenuWithMouse:false,postCreate:function(){if(this.contextMenuForWindow){this.bindDomNode(dojo.body());}else{dojo.forEach(this.targetNodeIds,this.bindDomNode,this);}var k=dojo.keys,l=this.isLeftToRight();this._openSubMenuKey=l?k.RIGHT_ARROW:k.LEFT_ARROW;this._closeSubMenuKey=l?k.LEFT_ARROW:k.RIGHT_ARROW;this.connectKeyNavHandlers([k.UP_ARROW],[k.DOWN_ARROW]);},_onKeyPress:function(evt){if(evt.ctrlKey||evt.altKey){return;}switch(evt.charOrCode){case this._openSubMenuKey:this._moveToPopup(evt);dojo.stopEvent(evt);break;case this._closeSubMenuKey:if(this.parentMenu){if(this.parentMenu._isMenuBar){this.parentMenu.focusPrev();}else{this.onCancel(false);}}else{dojo.stopEvent(evt);}break;}},_iframeContentWindow:function(_382){var win=dijit.getDocumentWindow(this._iframeContentDocument(_382))||this._iframeContentDocument(_382)["__parent__"]||(_382.name&&dojo.doc.frames[_382.name])||null;return win;},_iframeContentDocument:function(_383){var doc=_383.contentDocument||(_383.contentWindow&&_383.contentWindow.document)||(_383.name&&dojo.doc.frames[_383.name]&&dojo.doc.frames[_383.name].document)||null;return doc;},bindDomNode:function(node){node=dojo.byId(node);var cn;if(node.tagName.toLowerCase()=="iframe"){var _384=node,win=this._iframeContentWindow(_384);cn=dojo.withGlobal(win,dojo.body);}else{cn=(node==dojo.body()?dojo.doc.documentElement:node);}var _385={node:node,iframe:_384};dojo.attr(node,"_dijitMenu"+this.id,this._bindings.push(_385));var _386=dojo.hitch(this,function(cn){return [dojo.connect(cn,(this.leftClickToOpen)?"onclick":"oncontextmenu",this,function(evt){this._openMyself(evt,cn,_384);}),dojo.connect(cn,"onkeydown",this,"_contextKey"),dojo.connect(cn,"onmousedown",this,"_contextMouse")];});_385.connects=cn?_386(cn):[];if(_384){_385.onloadHandler=dojo.hitch(this,function(){var win=this._iframeContentWindow(_384);cn=dojo.withGlobal(win,dojo.body);_385.connects=_386(cn);});if(_384.addEventListener){_384.addEventListener("load",_385.onloadHandler,false);}else{_384.attachEvent("onload",_385.onloadHandler);}}},unBindDomNode:function(_387){var node;try{node=dojo.byId(_387);}catch(e){return;}var _388="_dijitMenu"+this.id;if(node&&dojo.hasAttr(node,_388)){var bid=dojo.attr(node,_388)-1,b=this._bindings[bid];dojo.forEach(b.connects,dojo.disconnect);var _389=b.iframe;if(_389){if(_389.removeEventListener){_389.removeEventListener("load",b.onloadHandler,false);}else{_389.detachEvent("onload",b.onloadHandler);}}dojo.removeAttr(node,_388);delete this._bindings[bid];}},_contextKey:function(e){this._contextMenuWithMouse=false;if(e.keyCode==dojo.keys.F10){dojo.stopEvent(e);if(e.shiftKey&&e.type=="keydown"){var _38a={target:e.target,pageX:e.pageX,pageY:e.pageY};_38a.preventDefault=_38a.stopPropagation=function(){};window.setTimeout(dojo.hitch(this,function(){this._openMyself(_38a);}),1);}}},_contextMouse:function(e){this._contextMenuWithMouse=true;},_openMyself:function(e,node,_38b){if(this.leftClickToOpen&&e.button>0){return;}dojo.stopEvent(e);var x,y;if(dojo.isSafari||this._contextMenuWithMouse){x=e.pageX;y=e.pageY;if(_38b){var od=e.target.ownerDocument,ifc=dojo.position(_38b,true),win=this._iframeContentWindow(_38b),_38c=dojo.withGlobal(win,"_docScroll",dojo);var cs=dojo.getComputedStyle(_38b),tp=dojo._toPixelValue,left=(dojo.isIE&&dojo.isQuirks?0:tp(_38b,cs.paddingLeft))+(dojo.isIE&&dojo.isQuirks?tp(_38b,cs.borderLeftWidth):0),top=(dojo.isIE&&dojo.isQuirks?0:tp(_38b,cs.paddingTop))+(dojo.isIE&&dojo.isQuirks?tp(_38b,cs.borderTopWidth):0);x+=ifc.x+left-_38c.x;y+=ifc.y+top-_38c.y;}}else{var _38d=dojo.position(e.target,true);x=_38d.x+10;y=_38d.y+10;}var self=this;var _38e=dijit.getFocus(this);function _38f(){if(self.refocus){dijit.focus(_38e);}dijit.popup.close(self);};dijit.popup.open({popup:this,x:x,y:y,onExecute:_38f,onCancel:_38f,orient:this.isLeftToRight()?"L":"R"});this.focus();this._onBlur=function(){this.inherited("_onBlur",arguments);dijit.popup.close(this);};},uninitialize:function(){dojo.forEach(this._bindings,function(b){if(b){this.unBindDomNode(b.node);}},this);this.inherited(arguments);}});}if(!dojo._hasResource["dijit.form._FormMixin"]){dojo._hasResource["dijit.form._FormMixin"]=true;dojo.provide("dijit.form._FormMixin");dojo.declare("dijit.form._FormMixin",null,{reset:function(){dojo.forEach(this.getDescendants(),function(_390){if(_390.reset){_390.reset();}});},validate:function(){var _391=false;return dojo.every(dojo.map(this.getDescendants(),function(_392){_392._hasBeenBlurred=true;var _393=_392.disabled||!_392.validate||_392.validate();if(!_393&&!_391){dijit.scrollIntoView(_392.containerNode||_392.domNode);_392.focus();_391=true;}return _393;}),function(item){return item;});},setValues:function(val){dojo.deprecated(this.declaredClass+"::setValues() is deprecated. Use attr('value', val) instead.","","2.0");return this.attr("value",val);},_setValueAttr:function(obj){var map={};dojo.forEach(this.getDescendants(),function(_394){if(!_394.name){return;}var _395=map[_394.name]||(map[_394.name]=[]);_395.push(_394);});for(var name in map){if(!map.hasOwnProperty(name)){continue;}var _396=map[name],_397=dojo.getObject(name,false,obj);if(_397===undefined){continue;}if(!dojo.isArray(_397)){_397=[_397];}if(typeof _396[0].checked=="boolean"){dojo.forEach(_396,function(w,i){w.attr("value",dojo.indexOf(_397,w.value)!=-1);});}else{if(_396[0].multiple){_396[0].attr("value",_397);}else{dojo.forEach(_396,function(w,i){w.attr("value",_397[i]);});}}}},getValues:function(){dojo.deprecated(this.declaredClass+"::getValues() is deprecated. Use attr('value') instead.","","2.0");return this.attr("value");},_getValueAttr:function(){var obj={};dojo.forEach(this.getDescendants(),function(_398){var name=_398.name;if(!name||_398.disabled){return;}var _399=_398.attr("value");if(typeof _398.checked=="boolean"){if(/Radio/.test(_398.declaredClass)){if(_399!==false){dojo.setObject(name,_399,obj);}else{_399=dojo.getObject(name,false,obj);if(_399===undefined){dojo.setObject(name,null,obj);}}}else{var ary=dojo.getObject(name,false,obj);if(!ary){ary=[];dojo.setObject(name,ary,obj);}if(_399!==false){ary.push(_399);}}}else{var prev=dojo.getObject(name,false,obj);if(typeof prev!="undefined"){if(dojo.isArray(prev)){prev.push(_399);}else{dojo.setObject(name,[prev,_399],obj);}}else{dojo.setObject(name,_399,obj);}}});return obj;},isValid:function(){this._invalidWidgets=dojo.filter(this.getDescendants(),function(_39a){return !_39a.disabled&&_39a.isValid&&!_39a.isValid();});return !this._invalidWidgets.length;},onValidStateChange:function(_39b){},_widgetChange:function(_39c){var _39d=this._lastValidState;if(!_39c||this._lastValidState===undefined){_39d=this.isValid();if(this._lastValidState===undefined){this._lastValidState=_39d;}}else{if(_39c.isValid){this._invalidWidgets=dojo.filter(this._invalidWidgets||[],function(w){return (w!=_39c);},this);if(!_39c.isValid()&&!_39c.attr("disabled")){this._invalidWidgets.push(_39c);}_39d=(this._invalidWidgets.length===0);}}if(_39d!==this._lastValidState){this._lastValidState=_39d;this.onValidStateChange(_39d);}},connectChildren:function(){dojo.forEach(this._changeConnections,dojo.hitch(this,"disconnect"));var _39e=this;var _39f=this._changeConnections=[];dojo.forEach(dojo.filter(this.getDescendants(),function(item){return item.validate;}),function(_3a0){_39f.push(_39e.connect(_3a0,"validate",dojo.hitch(_39e,"_widgetChange",_3a0)));_39f.push(_39e.connect(_3a0,"_setDisabledAttr",dojo.hitch(_39e,"_widgetChange",_3a0)));});this._widgetChange(null);},startup:function(){this.inherited(arguments);this._changeConnections=[];this.connectChildren();}});}if(!dojo._hasResource["dijit.form.Form"]){dojo._hasResource["dijit.form.Form"]=true;dojo.provide("dijit.form.Form");dojo.declare("dijit.form.Form",[dijit._Widget,dijit._Templated,dijit.form._FormMixin],{name:"",action:"",method:"",encType:"","accept-charset":"",accept:"",target:"",templateString:"<form dojoAttachPoint='containerNode' dojoAttachEvent='onreset:_onReset,onsubmit:_onSubmit' ${nameAttrSetting}></form>",attributeMap:dojo.delegate(dijit._Widget.prototype.attributeMap,{action:"",method:"",encType:"","accept-charset":"",accept:"",target:""}),postMixInProperties:function(){this.nameAttrSetting=this.name?("name='"+this.name+"'"):"";this.inherited(arguments);},execute:function(_3a1){},onExecute:function(){},_setEncTypeAttr:function(_3a2){this.encType=_3a2;dojo.attr(this.domNode,"encType",_3a2);if(dojo.isIE){this.domNode.encoding=_3a2;}},postCreate:function(){if(dojo.isIE&&this.srcNodeRef&&this.srcNodeRef.attributes){var item=this.srcNodeRef.attributes.getNamedItem("encType");if(item&&!item.specified&&(typeof item.value=="string")){this.attr("encType",item.value);}}this.inherited(arguments);},onReset:function(e){return true;},_onReset:function(e){var faux={returnValue:true,preventDefault:function(){this.returnValue=false;},stopPropagation:function(){},currentTarget:e.currentTarget,target:e.target};if(!(this.onReset(faux)===false)&&faux.returnValue){this.reset();}dojo.stopEvent(e);return false;},_onSubmit:function(e){var fp=dijit.form.Form.prototype;if(this.execute!=fp.execute||this.onExecute!=fp.onExecute){dojo.deprecated("dijit.form.Form:execute()/onExecute() are deprecated. Use onSubmit() instead.","","2.0");this.onExecute();this.execute(this.getValues());}if(this.onSubmit(e)===false){dojo.stopEvent(e);}},onSubmit:function(e){return this.isValid();},submit:function(){if(!(this.onSubmit()===false)){this.containerNode.submit();}}});}if(!dojo._hasResource["dijit.form.FilteringSelect"]){dojo._hasResource["dijit.form.FilteringSelect"]=true;dojo.provide("dijit.form.FilteringSelect");dojo.declare("dijit.form.FilteringSelect",[dijit.form.MappedTextBox,dijit.form.ComboBoxMixin],{_isvalid:true,required:true,_lastDisplayedValue:"",isValid:function(){return this._isvalid||(!this.required&&this.attr("displayedValue")=="");},_callbackSetLabel:function(_3a3,_3a4,_3a5){if((_3a4&&_3a4.query[this.searchAttr]!=this._lastQuery)||(!_3a4&&_3a3.length&&this.store.getIdentity(_3a3[0])!=this._lastQuery)){return;}if(!_3a3.length){this.valueNode.value="";dijit.form.TextBox.superclass._setValueAttr.call(this,"",_3a5||(_3a5===undefined&&!this._focused));this._isvalid=false;this.validate(this._focused);this.item=null;}else{this.attr("item",_3a3[0],_3a5);}},_openResultList:function(_3a6,_3a7){if(_3a7.query[this.searchAttr]!=this._lastQuery){return;}this._isvalid=_3a6.length!=0;this.validate(true);dijit.form.ComboBoxMixin.prototype._openResultList.apply(this,arguments);},_getValueAttr:function(){return this.valueNode.value;},_getValueField:function(){return "value";},_setValueAttr:function(_3a8,_3a9){if(!this._onChangeActive){_3a9=null;}this._lastQuery=_3a8;if(_3a8===null||_3a8===""){this._setDisplayedValueAttr("",_3a9);return;}var self=this;this.store.fetchItemByIdentity({identity:_3a8,onItem:function(item){self._callbackSetLabel([item],undefined,_3a9);}});},_setItemAttr:function(item,_3aa,_3ab){this._isvalid=true;this.inherited(arguments);this.valueNode.value=this.value;this._lastDisplayedValue=this.textbox.value;},_getDisplayQueryString:function(text){return text.replace(/([\\\*\?])/g,"\\$1");},_setDisplayedValueAttr:function(_3ac,_3ad){if(!this._created){_3ad=false;}if(this.store){this._hideResultList();var _3ae=dojo.clone(this.query);this._lastQuery=_3ae[this.searchAttr]=this._getDisplayQueryString(_3ac);this.textbox.value=_3ac;this._lastDisplayedValue=_3ac;var _3af=this;var _3b0={query:_3ae,queryOptions:{ignoreCase:this.ignoreCase,deep:true},onComplete:function(_3b1,_3b2){_3af._fetchHandle=null;dojo.hitch(_3af,"_callbackSetLabel")(_3b1,_3b2,_3ad);},onError:function(_3b3){_3af._fetchHandle=null;console.error("dijit.form.FilteringSelect: "+_3b3);dojo.hitch(_3af,"_callbackSetLabel")([],undefined,false);}};dojo.mixin(_3b0,this.fetchProperties);this._fetchHandle=this.store.fetch(_3b0);}},postMixInProperties:function(){this.inherited(arguments);this._isvalid=!this.required;},undo:function(){this.attr("displayedValue",this._lastDisplayedValue);}});}if(!dojo._hasResource["app.Tooltip"]){dojo._hasResource["app.Tooltip"]=true;dojo.provide("app.Tooltip");dojo.declare("app._MasterTooltip",[dijit._MasterTooltip],{templateString:dojo.cache("app","templates/Tooltip.html","<div class=\"dijitTooltip dijitTooltipLeft\" id=\"dojoTooltip\">\n  <div class=\"dijitTooltipContainer dijitTooltipContents\" dojoAttachPoint=\"containerNode\" waiRole='alert'></div>\n  <div class=\"dijitTooltipConnector\"></div>\n</div>\n"),_direction:"left2right",show:function(_3b4,e,_3b5,_3b6,_3b7){var _3b8=e.target;if(this.aroundNode&&this.aroundNode===_3b8){return;}if(this.fadeOut.status()=="playing"){this._onDeck=arguments;return;}this.containerNode.innerHTML=_3b4;this._direction=_3b5;var _3b9=(this._direction=="right2left"?{"TL":"BL"}:{"TR":"BR"});var pos=dijit.placeOnScreenAroundNode(this.domNode,_3b8,_3b9,dojo.hitch(this,"orient"));this.move(e);dojo.style(this.domNode,"opacity",0);this.fadeIn.play();this.isShowingNow=true;this.aroundNode=_3b8;},move:function(e){if("left2right"==this._direction){var _3ba=-1*dojo.marginBox(this.domNode).w;}else{var _3ba=-1;}dojo.marginBox(this.domNode,{l:e.clientX+_3ba});},postCreate:function(){this.inherited(arguments);dojo.query("iframe.dijitBackgroundIframe",this.domNode).orphan();}});app.showTooltip=function(_3bb,e,_3bc,_3bd,_3be){if(!dijit._masterTT){dijit._masterTT=new app._MasterTooltip();}return dijit._masterTT.show(_3bb,e,_3bc,_3bd,_3be);};app.moveTooltip=function(e){if(!dijit._masterTT){dijit._masterTT=new app._MasterTooltip();}return dijit._masterTT.move(e);};dojo.declare("app.Tooltip",[dijit.Tooltip],{padding:{x:0,y:0},direction:"left2right",addTarget:function(id){var node=dojo.byId(id);if(!node){return;}if(node.id in this._nodeConnectionsById){return;}this._nodeConnectionsById[node.id]=[this.connect(node,"onmouseenter","_onTargetMouseEnter"),this.connect(node,"onmouseleave","_onTargetMouseLeave"),this.connect(node,"onmousemove","_onMove"),this.connect(node,"onfocus","_onTargetFocus"),this.connect(node,"onblur","_onTargetBlur")];if(dojo.isIE&&!node.style.zoom){node.style.zoom=1;}},_onHover:function(e){if(!this._showTimer){var _3bf=e.target;this._showTimer=setTimeout(dojo.hitch(this,function(){this.open(e);}),this.showDelay);}},open:function(e){var _3c0=e.target;if(this._showTimer){clearTimeout(this._showTimer);delete this._showTimer;}app.showTooltip(this.label||this.domNode.innerHTML,e,this.direction,this.position,this.padding);this._connectNode=_3c0;this.onShow(_3c0,this.position);},_onMove:function(e){app.moveTooltip(e);}});}if(!dojo._hasResource["dojo.dnd.common"]){dojo._hasResource["dojo.dnd.common"]=true;dojo.provide("dojo.dnd.common");dojo.dnd.getCopyKeyState=dojo.isCopyKeyPressed;dojo.dnd._uniqueId=0;dojo.dnd.getUniqueId=function(){var id;do{id=dojo._scopeName+"Unique"+(++dojo.dnd._uniqueId);}while(dojo.byId(id));return id;};dojo.dnd._empty={};dojo.dnd.isFormElement=function(e){var t=e.target;if(t.nodeType==3){t=t.parentNode;}return " button textarea input select option ".indexOf(" "+t.tagName.toLowerCase()+" ")>=0;};}if(!dojo._hasResource["dojo.dnd.autoscroll"]){dojo._hasResource["dojo.dnd.autoscroll"]=true;dojo.provide("dojo.dnd.autoscroll");dojo.dnd.getViewport=function(){var d=dojo.doc,dd=d.documentElement,w=window,b=dojo.body();if(dojo.isMozilla){return {w:dd.clientWidth,h:w.innerHeight};}else{if(!dojo.isOpera&&w.innerWidth){return {w:w.innerWidth,h:w.innerHeight};}else{if(!dojo.isOpera&&dd&&dd.clientWidth){return {w:dd.clientWidth,h:dd.clientHeight};}else{if(b.clientWidth){return {w:b.clientWidth,h:b.clientHeight};}}}}return null;};dojo.dnd.V_TRIGGER_AUTOSCROLL=32;dojo.dnd.H_TRIGGER_AUTOSCROLL=32;dojo.dnd.V_AUTOSCROLL_VALUE=16;dojo.dnd.H_AUTOSCROLL_VALUE=16;dojo.dnd.autoScroll=function(e){var v=dojo.dnd.getViewport(),dx=0,dy=0;if(e.clientX<dojo.dnd.H_TRIGGER_AUTOSCROLL){dx=-dojo.dnd.H_AUTOSCROLL_VALUE;}else{if(e.clientX>v.w-dojo.dnd.H_TRIGGER_AUTOSCROLL){dx=dojo.dnd.H_AUTOSCROLL_VALUE;}}if(e.clientY<dojo.dnd.V_TRIGGER_AUTOSCROLL){dy=-dojo.dnd.V_AUTOSCROLL_VALUE;}else{if(e.clientY>v.h-dojo.dnd.V_TRIGGER_AUTOSCROLL){dy=dojo.dnd.V_AUTOSCROLL_VALUE;}}window.scrollBy(dx,dy);};dojo.dnd._validNodes={"div":1,"p":1,"td":1};dojo.dnd._validOverflow={"auto":1,"scroll":1};dojo.dnd.autoScrollNodes=function(e){for(var n=e.target;n;){if(n.nodeType==1&&(n.tagName.toLowerCase() in dojo.dnd._validNodes)){var s=dojo.getComputedStyle(n);if(s.overflow.toLowerCase() in dojo.dnd._validOverflow){var b=dojo._getContentBox(n,s),t=dojo.position(n,true);var w=Math.min(dojo.dnd.H_TRIGGER_AUTOSCROLL,b.w/2),h=Math.min(dojo.dnd.V_TRIGGER_AUTOSCROLL,b.h/2),rx=e.pageX-t.x,ry=e.pageY-t.y,dx=0,dy=0;if(dojo.isWebKit||dojo.isOpera){rx+=dojo.body().scrollLeft,ry+=dojo.body().scrollTop;}if(rx>0&&rx<b.w){if(rx<w){dx=-w;}else{if(rx>b.w-w){dx=w;}}}if(ry>0&&ry<b.h){if(ry<h){dy=-h;}else{if(ry>b.h-h){dy=h;}}}var _3c1=n.scrollLeft,_3c2=n.scrollTop;n.scrollLeft=n.scrollLeft+dx;n.scrollTop=n.scrollTop+dy;if(_3c1!=n.scrollLeft||_3c2!=n.scrollTop){return;}}}try{n=n.parentNode;}catch(x){n=null;}}dojo.dnd.autoScroll(e);};}if(!dojo._hasResource["dojo.dnd.Mover"]){dojo._hasResource["dojo.dnd.Mover"]=true;dojo.provide("dojo.dnd.Mover");dojo.declare("dojo.dnd.Mover",null,{constructor:function(node,e,host){this.node=dojo.byId(node);this.marginBox={l:e.pageX,t:e.pageY};this.mouseButton=e.button;var h=this.host=host,d=node.ownerDocument,_3c3=dojo.connect(d,"onmousemove",this,"onFirstMove");this.events=[dojo.connect(d,"onmousemove",this,"onMouseMove"),dojo.connect(d,"onmouseup",this,"onMouseUp"),dojo.connect(d,"ondragstart",dojo.stopEvent),dojo.connect(d.body,"onselectstart",dojo.stopEvent),_3c3];if(h&&h.onMoveStart){h.onMoveStart(this);}},onMouseMove:function(e){dojo.dnd.autoScroll(e);var m=this.marginBox;this.host.onMove(this,{l:m.l+e.pageX,t:m.t+e.pageY});dojo.stopEvent(e);},onMouseUp:function(e){if(dojo.isWebKit&&dojo.isMac&&this.mouseButton==2?e.button==0:this.mouseButton==e.button){this.destroy();}dojo.stopEvent(e);},onFirstMove:function(){var s=this.node.style,l,t,h=this.host;switch(s.position){case "relative":case "absolute":l=Math.round(parseFloat(s.left));t=Math.round(parseFloat(s.top));break;default:s.position="absolute";var m=dojo.marginBox(this.node);var b=dojo.doc.body;var bs=dojo.getComputedStyle(b);var bm=dojo._getMarginBox(b,bs);var bc=dojo._getContentBox(b,bs);l=m.l-(bc.l-bm.l);t=m.t-(bc.t-bm.t);break;}this.marginBox.l=l-this.marginBox.l;this.marginBox.t=t-this.marginBox.t;if(h&&h.onFirstMove){h.onFirstMove(this);}dojo.disconnect(this.events.pop());},destroy:function(){dojo.forEach(this.events,dojo.disconnect);var h=this.host;if(h&&h.onMoveStop){h.onMoveStop(this);}this.events=this.node=this.host=null;}});}if(!dojo._hasResource["dojo.dnd.Moveable"]){dojo._hasResource["dojo.dnd.Moveable"]=true;dojo.provide("dojo.dnd.Moveable");dojo.declare("dojo.dnd.Moveable",null,{handle:"",delay:0,skip:false,constructor:function(node,_3c4){this.node=dojo.byId(node);if(!_3c4){_3c4={};}this.handle=_3c4.handle?dojo.byId(_3c4.handle):null;if(!this.handle){this.handle=this.node;}this.delay=_3c4.delay>0?_3c4.delay:0;this.skip=_3c4.skip;this.mover=_3c4.mover?_3c4.mover:dojo.dnd.Mover;this.events=[dojo.connect(this.handle,"onmousedown",this,"onMouseDown"),dojo.connect(this.handle,"ondragstart",this,"onSelectStart"),dojo.connect(this.handle,"onselectstart",this,"onSelectStart")];},markupFactory:function(_3c5,node){return new dojo.dnd.Moveable(node,_3c5);},destroy:function(){dojo.forEach(this.events,dojo.disconnect);this.events=this.node=this.handle=null;},onMouseDown:function(e){if(this.skip&&dojo.dnd.isFormElement(e)){return;}if(this.delay){this.events.push(dojo.connect(this.handle,"onmousemove",this,"onMouseMove"),dojo.connect(this.handle,"onmouseup",this,"onMouseUp"));this._lastX=e.pageX;this._lastY=e.pageY;}else{this.onDragDetected(e);}dojo.stopEvent(e);},onMouseMove:function(e){if(Math.abs(e.pageX-this._lastX)>this.delay||Math.abs(e.pageY-this._lastY)>this.delay){this.onMouseUp(e);this.onDragDetected(e);}dojo.stopEvent(e);},onMouseUp:function(e){for(var i=0;i<2;++i){dojo.disconnect(this.events.pop());}dojo.stopEvent(e);},onSelectStart:function(e){if(!this.skip||!dojo.dnd.isFormElement(e)){dojo.stopEvent(e);}},onDragDetected:function(e){new this.mover(this.node,e,this);},onMoveStart:function(_3c6){dojo.publish("/dnd/move/start",[_3c6]);dojo.addClass(dojo.body(),"dojoMove");dojo.addClass(this.node,"dojoMoveItem");},onMoveStop:function(_3c7){dojo.publish("/dnd/move/stop",[_3c7]);dojo.removeClass(dojo.body(),"dojoMove");dojo.removeClass(this.node,"dojoMoveItem");},onFirstMove:function(_3c8){},onMove:function(_3c9,_3ca){this.onMoving(_3c9,_3ca);var s=_3c9.node.style;s.left=_3ca.l+"px";s.top=_3ca.t+"px";this.onMoved(_3c9,_3ca);},onMoving:function(_3cb,_3cc){},onMoved:function(_3cd,_3ce){}});}if(!dojo._hasResource["dojo.dnd.move"]){dojo._hasResource["dojo.dnd.move"]=true;dojo.provide("dojo.dnd.move");dojo.declare("dojo.dnd.move.constrainedMoveable",dojo.dnd.Moveable,{constraints:function(){},within:false,markupFactory:function(_3cf,node){return new dojo.dnd.move.constrainedMoveable(node,_3cf);},constructor:function(node,_3d0){if(!_3d0){_3d0={};}this.constraints=_3d0.constraints;this.within=_3d0.within;},onFirstMove:function(_3d1){var c=this.constraintBox=this.constraints.call(this,_3d1);c.r=c.l+c.w;c.b=c.t+c.h;if(this.within){var mb=dojo.marginBox(_3d1.node);c.r-=mb.w;c.b-=mb.h;}},onMove:function(_3d2,_3d3){var c=this.constraintBox,s=_3d2.node.style;s.left=(_3d3.l<c.l?c.l:c.r<_3d3.l?c.r:_3d3.l)+"px";s.top=(_3d3.t<c.t?c.t:c.b<_3d3.t?c.b:_3d3.t)+"px";}});dojo.declare("dojo.dnd.move.boxConstrainedMoveable",dojo.dnd.move.constrainedMoveable,{box:{},markupFactory:function(_3d4,node){return new dojo.dnd.move.boxConstrainedMoveable(node,_3d4);},constructor:function(node,_3d5){var box=_3d5&&_3d5.box;this.constraints=function(){return box;};}});dojo.declare("dojo.dnd.move.parentConstrainedMoveable",dojo.dnd.move.constrainedMoveable,{area:"content",markupFactory:function(_3d6,node){return new dojo.dnd.move.parentConstrainedMoveable(node,_3d6);},constructor:function(node,_3d7){var area=_3d7&&_3d7.area;this.constraints=function(){var n=this.node.parentNode,s=dojo.getComputedStyle(n),mb=dojo._getMarginBox(n,s);if(area=="margin"){return mb;}var t=dojo._getMarginExtents(n,s);mb.l+=t.l,mb.t+=t.t,mb.w-=t.w,mb.h-=t.h;if(area=="border"){return mb;}t=dojo._getBorderExtents(n,s);mb.l+=t.l,mb.t+=t.t,mb.w-=t.w,mb.h-=t.h;if(area=="padding"){return mb;}t=dojo._getPadExtents(n,s);mb.l+=t.l,mb.t+=t.t,mb.w-=t.w,mb.h-=t.h;return mb;};}});dojo.dnd.move.constrainedMover=function(fun,_3d8){dojo.deprecated("dojo.dnd.move.constrainedMover, use dojo.dnd.move.constrainedMoveable instead");var _3d9=function(node,e,_3da){dojo.dnd.Mover.call(this,node,e,_3da);};dojo.extend(_3d9,dojo.dnd.Mover.prototype);dojo.extend(_3d9,{onMouseMove:function(e){dojo.dnd.autoScroll(e);var m=this.marginBox,c=this.constraintBox,l=m.l+e.pageX,t=m.t+e.pageY;l=l<c.l?c.l:c.r<l?c.r:l;t=t<c.t?c.t:c.b<t?c.b:t;this.host.onMove(this,{l:l,t:t});},onFirstMove:function(){dojo.dnd.Mover.prototype.onFirstMove.call(this);var c=this.constraintBox=fun.call(this);c.r=c.l+c.w;c.b=c.t+c.h;if(_3d8){var mb=dojo.marginBox(this.node);c.r-=mb.w;c.b-=mb.h;}}});return _3d9;};dojo.dnd.move.boxConstrainedMover=function(box,_3db){dojo.deprecated("dojo.dnd.move.boxConstrainedMover, use dojo.dnd.move.boxConstrainedMoveable instead");return dojo.dnd.move.constrainedMover(function(){return box;},_3db);};dojo.dnd.move.parentConstrainedMover=function(area,_3dc){dojo.deprecated("dojo.dnd.move.parentConstrainedMover, use dojo.dnd.move.parentConstrainedMoveable instead");var fun=function(){var n=this.node.parentNode,s=dojo.getComputedStyle(n),mb=dojo._getMarginBox(n,s);if(area=="margin"){return mb;}var t=dojo._getMarginExtents(n,s);mb.l+=t.l,mb.t+=t.t,mb.w-=t.w,mb.h-=t.h;if(area=="border"){return mb;}t=dojo._getBorderExtents(n,s);mb.l+=t.l,mb.t+=t.t,mb.w-=t.w,mb.h-=t.h;if(area=="padding"){return mb;}t=dojo._getPadExtents(n,s);mb.l+=t.l,mb.t+=t.t,mb.w-=t.w,mb.h-=t.h;return mb;};return dojo.dnd.move.constrainedMover(fun,_3dc);};dojo.dnd.constrainedMover=dojo.dnd.move.constrainedMover;dojo.dnd.boxConstrainedMover=dojo.dnd.move.boxConstrainedMover;dojo.dnd.parentConstrainedMover=dojo.dnd.move.parentConstrainedMover;}if(!dojo._hasResource["app.main"]){dojo._hasResource["app.main"]=true;dojo.provide("app.main");}dojo.i18n._preloadLocalizations("app.nls.main",["ROOT","ar","ca","cs","da","de","de-de","el","en","en-gb","en-us","es","es-es","fi","fi-fi","fr","fr-fr","he","he-il","hu","it","it-it","ja","ja-jp","ko","ko-kr","nb","nl","nl-nl","pl","pt","pt-br","pt-pt","ru","sk","sl","sv","th","tr","xx","zh","zh-cn","zh-tw"]);
